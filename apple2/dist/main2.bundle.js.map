{"version":3,"sources":["webpack://Apple2/webpack/universalModuleDefinition","webpack://Apple2/webpack/runtime/load script","webpack://Apple2/./js/roms/character|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object","webpack://Apple2/./js/roms/system|lazy|/^\\.\\/.*$/|groupOptions: {}|namespace object","webpack://Apple2/./node_modules/apple2shader/screenEmu.js","webpack://Apple2/webpack/bootstrap","webpack://Apple2/webpack/runtime/define property getters","webpack://Apple2/webpack/runtime/ensure chunk","webpack://Apple2/webpack/runtime/get javascript chunk filename","webpack://Apple2/webpack/runtime/hasOwnProperty shorthand","webpack://Apple2/webpack/runtime/make namespace object","webpack://Apple2/webpack/runtime/publicPath","webpack://Apple2/webpack/runtime/jsonp chunk loading","webpack://Apple2/./js/prefs.ts","webpack://Apple2/./node_modules/micromodal/dist/micromodal.es.js","webpack://Apple2/./js/base64.ts","webpack://Apple2/./js/ui/options_modal.ts","webpack://Apple2/./js/util.ts","webpack://Apple2/./js/ui/audio.ts","webpack://Apple2/./js/types.ts","webpack://Apple2/./js/formats/types.ts","webpack://Apple2/./js/ui/types.ts","webpack://Apple2/./js/ui/gamepad.ts","webpack://Apple2/./js/ui/keyboard.ts","webpack://Apple2/./js/ui/tape.ts","webpack://Apple2/./js/applesoft/decompiler.ts","webpack://Apple2/./js/applesoft/compiler.ts","webpack://Apple2/./js/ui/screen.ts","webpack://Apple2/./js/ui/joystick.ts","webpack://Apple2/./js/ui/system.ts","webpack://Apple2/./js/ui/apple2.ts","webpack://Apple2/./js/ui/drive_lights.ts","webpack://Apple2/./js/ui/printer.ts","webpack://Apple2/./js/formats/format_utils.ts","webpack://Apple2/./js/formats/do.ts","webpack://Apple2/./js/formats/nib.ts","webpack://Apple2/./js/formats/po.ts","webpack://Apple2/./js/formats/2mg.ts","webpack://Apple2/./js/formats/woz.ts","webpack://Apple2/./js/formats/create_disk.ts","webpack://Apple2/./js/formats/d13.ts","webpack://Apple2/./js/roms/cards/disk2.ts","webpack://Apple2/./js/cards/disk2.ts","webpack://Apple2/./js/ram.ts","webpack://Apple2/./js/cards/langcard.ts","webpack://Apple2/./js/roms/cards/parallel.ts","webpack://Apple2/./js/cards/parallel.ts","webpack://Apple2/./js/roms/cards/ramfactor.ts","webpack://Apple2/./js/cards/ramfactor.ts","webpack://Apple2/./js/roms/cards/smartport.ts","webpack://Apple2/./js/cpu6502.ts","webpack://Apple2/./js/formats/prodos/constants.ts","webpack://Apple2/./js/formats/prodos/file_entry.ts","webpack://Apple2/./js/formats/prodos/directory.ts","webpack://Apple2/./js/formats/prodos/utils.ts","webpack://Apple2/./js/formats/prodos/vdh.ts","webpack://Apple2/./js/formats/prodos/bit_map.ts","webpack://Apple2/./js/formats/prodos/index.ts","webpack://Apple2/./js/cards/smartport.ts","webpack://Apple2/./js/formats/block.ts","webpack://Apple2/./js/roms/cards/thunderclock.ts","webpack://Apple2/./js/cards/thunderclock.ts","webpack://Apple2/./js/roms/cards/videoterm.ts","webpack://Apple2/./js/cards/videoterm.ts","webpack://Apple2/./js/apple2io.ts","webpack://Apple2/./js/canvas.ts","webpack://Apple2/./js/gl.ts","webpack://Apple2/./js/mmu.ts","webpack://Apple2/./js/symbols.ts","webpack://Apple2/./js/debugger.ts","webpack://Apple2/./js/main2.ts","webpack://Apple2/./js/apple2.ts","webpack://Apple2/./js/entry2.ts"],"names":["root","factory","exports","module","define","amd","self","inProgress","dataWebpackPrefix","map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","screenEmu","Point","x","y","this","Size","width","height","Rect","origin","size","Vector","n","data","Float32Array","vec","sum","item","gain","i","other","w","length","omega","Math","PI","j","cos","newData","min","sidelobeDb","m","alpha","cosh","acosh","pow","a","abs","acos","realIDFT","resize","max","reduce","prev","cur","fc","v","halfN","floor","sin","Matrix3","c00","c01","c02","c10","c11","c12","c20","c21","c22","val","k","NTSC_FSC","NTSC_4FSC","NTSC_IQ_DELTA","NTSC_I_CUTOFF","ntscVisibleRect","ntscClockFrequency","ntscDisplayRect","palVisibleRect","palClockFrequency","palDisplayRect","VERTEX_RENDER_SHADER","buildTiming","clockFrequency","displayRect","visibleRect","vertTotal","fsc","vertStart","frameCycleNum","horizStart","imageSize","imageLeft","colorBurst","cycleNum","topLeft","topLeft80Col","CELL_WIDTH","NTSC_DETAILS","PAL_DETAILS","loadImage","path","reject","img","Image","onload","onerror","src","TEXTURE_NAMES","SHADER_NAMES","resizeCanvas","canvas","displayWidth","clientWidth","displayHeight","clientHeight","createShader","gl","name","type","source","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","deleteShader","createProgram","shaders","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","TextureInfo","glTexture","C","HORIZ_START","HORIZ_BLANK","HORIZ_DISPLAY","HORIZ_TOTAL","CELL_HEIGHT","VERT_NTSC_START","VERT_PAL_START","VERT_DISPLAY","BLOCK_WIDTH","BLOCK_HEIGHT","NTSC_Q_CUTOFF","screenData","image","details","dhgr","naturalWidth","naturalHeight","document","createElement","context","getContext","fillStyle","fillRect","drawImage","getImageData","ScreenView","getExtension","textures","buffers","display","imageSampleRate","imageBlackLevel","imageWhiteLevel","imageSubcarrier","viewportSize","persistenceTexRect","configurationChanged","imageChanged","_image","displayConfiguration","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","createTexture","push","createBuffer","loadTextures","pixelStorei","PACK_ALIGNMENT","UNPACK_ALIGNMENT","loadShaders","deleteTexture","buffer","deleteBuffer","deleteShaders","all","loadTexture","isMipMap","texInfo","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","generateMipmap","loadShader","fragmentSource","vertexSource","glVertexShader","VERTEX_SHADER","glFragmentShader","FRAGMENT_SHADER","glProgram","canvasWidth","canvasHeight","viewport","uploadImage","configureShaders","renderImage","displayPersistence","drawDisplayCanvas","resizeTexture","texInfoImage","format","LUMINANCE","luminance","imageData","ary","Uint8Array","luminanceData","texSubImage2D","sampleRate","blackLevel","whiteLevel","subCarrier","texHeight","ceil","log2","phaseAlternation","phaseInfo","c","texInfoPhase","RGB","FLOAT","videoDecoder","decoder","renderShader","renderShaderName","getRenderShader","displayShader","isCompositeDecoder","useProgram","uniform1f","getUniformLocation","chebyshevWindow","normalize","wy","wu","wv","bandwidth","videoBandwidth","yBandwidth","videoLumaBandwidth","uBandwidth","videoChromaBandwidth","vBandwidth","videoWhiteOnly","mul","lanczosWindow","uniform3f","decoderMatrix","videoSaturation","hue","videoHue","brightness","videoBrightness","decoderOffset","at","contrast","videoContrast","videoLevel","uniformMatrix3fv","displayBarrel","uniform1i","displayShadowMaskLevel","centerLighting","displayCenterLighting","displayLuminanceGain","texSize","uniform2f","activeTexture","TEXTURE1","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE0","clipSize","copy","textureRect","canvasRect","drawRectangle","copyTexSubImage2D","posRect","texRect","texRect2","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","positionLocation","getAttribLocation","texcoordLocations","texRects","positionBuffer","bindBuffer","ARRAY_BUFFER","p_x1","l","p_x2","r","p_y1","t","p_y2","b","bufferData","STATIC_DRAW","enableVertexAttribArray","vertexAttribPointer","texcoordBuffer","t_x1","t_x2","t_y1","t_y2","drawArrays","TRIANGLES","displayResolution","vertexRect","viewportAspectRatio","ratio","displayAspectRatio","baseTexRect","interlaceShift","interlace","canvasTexLowerLeft","getDisplayCanvasTexPoint","canvasTexUpperRight","canvasTexRect","canvasSize","canvasVideoSize","videoSize","barrelTexRect","texture","scanlineHeight","shadowMaskTexture","shadowMaskAspectRatio","scanlineLevel","displayScanlineLevel","displayShadowMask","shadowMaskDotPitch","displayShadowMaskDotPitch","shadowMaskElemX","displayPixelDensity","shadowMaskSize","TEXTURE2","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","p","videoCenter","dummy","DisplayConfiguration","ImageInfo","ImageData","constructor","__webpack_module_cache__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","defineProperty","enumerable","get","f","chunkId","promises","u","obj","prop","prototype","hasOwnProperty","call","url","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","setAttribute","onScriptComplete","event","clearTimeout","doneFns","parentNode","removeChild","forEach","fn","setTimeout","bind","target","head","appendChild","Symbol","toStringTag","value","installedChunks","869","installedChunkData","promise","error","errorType","realSrc","message","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","havePrefs","window","localStorage","Prefs","params","URLSearchParams","location","search","defaultValue","has","getItem","setItem","_defineProperties","props","descriptor","configurable","writable","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","iterator","from","_iterableToArray","minLen","toString","slice","test","_unsupportedIterableToArray","TypeError","_nonIterableSpread","len","arr2","FOCUSABLE_ELEMENTS","Modal","activeModal","validateModalPresence","validateArgs","MicroModal","_ref","targetModal","_ref$triggers","triggers","_ref$onShow","onShow","_ref$onClose","onClose","_ref$openTrigger","openTrigger","_ref$closeTrigger","closeTrigger","_ref$openClass","openClass","_ref$disableScroll","disableScroll","_ref$disableFocus","disableFocus","_ref$awaitCloseAnimat","awaitCloseAnimation","_ref$awaitOpenAnimati","awaitOpenAnimation","_ref$debugMode","debugMode","instance","Constructor","_classCallCheck","modal","getElementById","config","registerTriggers","apply","onClick","onKeydown","protoProps","_this","_len","arguments","_key","filter","Boolean","trigger","addEventListener","showModal","_this2","activeElement","classList","add","scrollBehaviour","addEventListeners","handler","removeEventListener","setFocusToFirstNode","removeEventListeners","focus","remove","closeModal","toggle","body","querySelector","assign","style","overflow","hasAttribute","keyCode","retainFocus","nodes","querySelectorAll","_this3","focusableNodes","getFocusableNodes","nodesWhichAreNotCloseTargets","node","offsetParent","contains","focusedItemIndex","indexOf","shiftKey","preventDefault","console","warn","concat","triggerMap","validateTriggerPresence","init","options","triggerAttr","attributes","generateTriggerMap","show","close","closeModalById","B64","base64_encode","o1","o2","o3","h1","h2","h3","h4","bits","ac","enc","tmp_arr","charAt","join","base64_decode","DATA_URL_PREFIX","BOOLEAN_OPTION","SELECT_OPTION","garbage","random","allocMem","result","idx","allocMemPages","pages","bytify","args","numToString","num","String","fromCharCode","SOUND_ENABLED_OPTION","AudioContext","webkitAudioContext","Audio","io","sound","samples","started","autoStart","audioContext","resume","catch","start","isEnabled","setOption","AudioWorklet","ready","audioWorklet","addModule","workletNode","AudioWorkletNode","addSampleListener","sample","state","port","postMessage","connect","destination","audioNode","createScriptProcessor","onaudioprocess","outputBuffer","getChannelData","shift","ontouchstart","label","defaultVal","includes","DRIVE_NUMBERS","ENCODING_NIBBLE","ENCODING_BITSTREAM","ENCODING_BLOCK","NIBBLE_FORMATS","BLOCK_FORMATS","DISK_FORMATS","BUTTON","gamepad","DEFAULT_GAMEPAD","gamepadMap","gamepadState","initGamepad","entry","entries","mapVal","charCodeAt","parseInt","keymap","0","uiKitMap","keys2","keys2e","KeyBoard","cpu","shifted","controlled","capslocked","capslockKeyUsed","optioned","commanded","functions","keydown","evt","dialogOpen","metaKey","ctrlKey","mapKeyEvent","keyDown","capslockKey","controlKey","commandKey","optionKey","keyup","keyUp","isKeyboardCode","getModifierState","reset","down","shiftKeys","kb","buttonUp","buttonDown","capsLock","stopPropagation","el","row","label1","label2","buildLabel","span","innerHTML","substr","append","key1","key2","replace","dataset","mouseDown","genMouseDown","mouseUp","genMouseUp","ev","confirm","reload","TAPE_TYPES","Tape","file","kHz","getKHz","alert","fileReader","FileReader","decodeAudioData","buf","current","delta","datum","old","last","ival","setTape","readAsArrayBuffer","TOKENS","ApplesoftDump","mem","addr","page","off","read","lsb","readByte","str","readWord","end","line","next","lineno","PROGRAM_START","ApplesoftCompiler","write","msb","writeByte","lineNos","compileLine","offset","character","curChar","lineNoStr","toUpperCase","foundToken","tokenIdx","possibleToken","lookAhead","lineNo","nextLine","compiled","lines","split","compiledLine","writeWord","SCREEN_MONO","SCREEN_FULL_PAGE","SCREEN_SCANLINE","Screen","vm","enterFullScreen","elem","fullscreenEnabled","fullscreenElement","exitFullscreen","requestFullscreen","webkitRequestFullScreen","webkitIsFullScreen","webkitCancelFullScreen","mono","setFullPage","scanlines","on","JOYSTICK_DISABLE","JoyStick","disableMouseJoystick","flipX","flipY","swapXY","mousemove","getBoundingClientRect","pageX","left","pageY","top","z","paddle","which","_value","SYSTEM_CPU_ACCELERATED","System","values","updateKHz","paused","startTime","Date","now","lastCycles","lastFrames","lastRenderedFrames","hashtag","hash","optionsModal","prefs","handlers","sections","openModal","content","section","header","textContent","list","option","onChange","checked","listItem","element","inputElement","readPref","selectOption","selectElement","selected","optionElement","labelElement","reloadElement","getOptions","getOption","stringVal","prefVal","writePref","CIDERPRESS_EXTENSION","BIN_TYPES","KNOWN_FILE_TYPES","disk_categories","disk_sets","disk_cur_name","disk_cur_cat","_apple2","stats","tape","_disk2","_massStorage","_printer","audio","screen","joystick","system","keyboard","_e","_currentDrive","driveLights","drive","backgroundImage","_drive","_dirty","side","innerText","dumpAppleSoftProgram","compileAppleSoftProgram","compile","openLoad","driveString","selectCategory","openSave","getBinary","blob","Blob","href","URL","createObjectURL","download","wind","open","title","getJSON","dumpDisk","openAlert","msg","handleDragOver","dataTransfer","dropEffect","handleDragEnd","dt","items","clearData","handleDrop","getMetadata","files","runOnLoad","doLoadLocal","getAsString","parts","hup","loadingStart","loadingStop","run","loadAjax","fetch","response","ok","json","statusText","bin","maxLen","pos","setPC","loadBinary","disk","category","setDisk","loadDisk","doLoad","urls","filename","diskIndex","JSON","parse","setJSON","dirty","loadLocalStorage","r1","exec","doSave","stringify","updateLocalStorage","saveLocalStorage","doDelete","deleteLocalStorage","ext","toLowerCase","matches","match","aux","pop","byteLength","setBinary","doLoadLocalDisk","doLoadLocalTape","address","doLoadBinary","addressInput","addressStr","isNaN","bytes","doLoadHTTP","input","reader","getReader","received","chunks","contentLength","headers","readChunk","set","total","meter","progress","loadingProgress","fileParts","decodeURIComponent","showStats","ms","cycles","getCycles","fps","khz","kHzElement","trunc","renderedFrames","frames","toggleShowFPS","toggleSound","updateSoundButton","diskSelect","categorySelect","cat","selectDisk","clickDisk","names","contentDiv","processHash","updateUI","pauseRun","stop","openOptions","openPrinterModal","getRawOutput","clearPrinterPaper","regex","RegExp","results","initUI","apple2","disk2","massStorage","printer","getCPU","getIO","getStats","getVideoModes","addOptions","create","setFunction","getState","setState","startsWith","oldCat","disk_index","buildDiskIndex","paste","clipboardData","getData","setKeyBuffer","setData","getText","navigator","standalone","setInterval","onLoaded","Printer","_lineBuffer","_rawLen","_raw","paper","newLine","_line","ascii","visible","newRaw","DO","_DO","PO","_PO","D13O","_trans53","_trans62","detrans62","fourXfour","xx","yy","defourXfour","explodeSector16","volume","track","sector","gap","checksum","nibbles","idx2","idx6","val6","val2","explodeSector13","jdx","a5","a3","b5","b3","c5","c3","d5","d3","e5","e3","readSector","_sector","retry","tracks","_readNext","_skipBytes","count","checkSum","data2","kdx","grabNibble","nibble","waitForOne","createDiskFromDOS","rawData","readOnly","encoding","physical_sector","dos_sector","createDiskFromNibble","createDiskFromProDOS","physical_track","prodos_sector","read2MGHeader","prefix","DataView","signature","getInt32","creator","flags","stringFromBytes","byteOffset","InfoChunk","sides","bootSector","bitTiming","compatibleHardware","requiredRAM","largestTrack","version","getUint8","diskType","writeProtected","synchronized","cleaned","getUint16","TMapChunk","trackMap","TrksChunk","TrksChunk1","super","rawTracks","trackNo","rawTrack","trackData","trackBitCount","byteIndex","bitIndex","TrksChunk2","trks","startBlock","blockCount","bitCount","getUint32","trk","MetaChunk","acc","part","subParts","createDisk","fmt","createDiskFrom2MG","disk_sector","dv","wozVersion","dvOffset","WOZ_HEADER_START","readHeader","chunk","info","tmap","meta","createDiskFromWoz","BOOTSTRAP_ROM_16","BOOTSTRAP_ROM_13","SEQUENCER_ROM_13","SEQUENCER_ROM_16","PHASE_DELTA","isNibbleDrive","isWozDrive","setDriveState","phase","DiskII","callbacks","sectors","drives","skip","bus","latch","offTimeout","q6","q7","writeMode","nibbleCount","q","clock","zeros","debug","bootstrapRom","sequencerRom","initWorker","_args","workCycles","pulse","command","updateDirty","maxTrack","readMode","setPhase","driveLight","readWriteNext","moveHead","access","_page","getDriveState","driveNo","jsonDisk","worker","payload","createDiskFromJsonDisk","pretty","jsonEncode","_s","jsonDecode","Worker","RAM","sp","ep","start_page","end_page","LanguageCard","rom","readbsr","writebsr","bsr2","prewrite","bank1","bank2","ram","write1","write2","read1","read2","offSwitch","bank1Switch","bankStr","rwStr","updateBanks","Parallel","cbs","putChar","_state","RAMFactor","firmware","ramlo","rammid","ramhi","loc","sethi","setmid","setlo","FLAVOR_6502","FLAVOR_ROCKWELL_65C02","FLAVOR_WDC_65C02","FLAVORS_65C02","sizes","accumulator","implied","immediate","absolute","zeroPage","relative","absoluteX","absoluteY","zeroPageX","zeroPageY","absoluteIndirect","zeroPageXIndirect","zeroPageIndirectY","zeroPageIndirect","absoluteXIndirect","zeroPage_relative","BLANK_PAGE","CPU6502","flavor","pc","sr","ar","xr","yr","memPages","resetHandlers","sync","wait","readImmediate","readBytePC","readAbsolute","readWordPC","readZeroPage","readAbsoluteX","addrIdx","workCycleIndexedRead","readAbsoluteY","readZeroPageX","zpAddr","readZeroPageY","readZeroPageXIndirect","readZPWord","readZeroPageIndirectY","readZeroPageIndirect","writeAbsolute","writeZeroPage","writeAbsoluteX","workCycleIndexedWrite","writeAbsoluteY","writeZeroPageX","writeZeroPageY","writeZeroPageXIndirect","writeZeroPageIndirectY","writeZeroPageIndirect","readAddrZeroPage","readAddrZeroPageX","readAddrAbsolute","readAddrAbsoluteIndirectBug","readAddrAbsoluteIndirect","readAddrAbsoluteX","opts","is65C02","inc","readAddrAbsoluteY","readAddrZeroPageXIndirect","readAddrZeroPageIndirectY","oldPage","readAddrAbsoluteXIndirect","readNop","readNopImplied","brk","readFn","pushWord","pushByte","setFlag","stp","wai","lda","testNZ","ldx","ldy","sta","writeFn","stx","sty","stz","adc","sbc","incA","increment","readAddrFn","oldVal","workCycle","inx","iny","decA","decrement","dec","dex","dey","shiftLeft","aslA","asl","shiftRight","lsrA","lsr","rotateLeft","rolA","rol","rorA","rotateRight","ror","and","ora","eor","rmb","bit","smb","trb","testZ","tsb","bitI","cmp","compare","cpx","cpy","brs","newPage","newOff","brc","bbr","newPC","bbs","tax","txa","tay","tya","tsx","txs","pha","pla","pullByte","phx","plx","phy","ply","php","plp","jmp","jsr","rts","pullWordRaw","rti","flag","clr","nop","aso","rla","lse","rra","axs","lax","dcm","ins","alr","ah","al","b7","b6","xaa","oal","sax","tas","say","xas","axa","anc","las","skp","hlt","_impliedFn","OPS_6502","op","modeFn","mode","OPS_65C02","OPS_NMOS_6502","OPS_ROCKWELL_65C02","OPS_WDC_65C02","fill","ops","opary","unknown","sub","a7","ci","co","updateFlags","updateBCDFlags","unk","cb","pho","cmd","opcode","ENTRY_OFFSETS","FileEntry","storageType","fileType","auxType","blocksUsed","eof","creation","lastMod","keyPointer","headerPointer","block","nameLength","caseBits","readFileName","uint32ToDate","setUint8","writeFileName","setUint16","setUint32","dateToUint32","readEntries","blocks","entryLength","fileCount","fileEntry","entriesPerBlock","writeEntries","bitMap","allocBlock","freeBlock","Directory","parent","parentEntryLength","parentEntryNumber","vdh","yearMonthDay","hourMinute","date","year","getFullYear","month","getMonth","day","getDate","getHours","getMinutes","char","charCode","dumpDirectory","dirEntry","depth","dir","VDH","bitMapPointer","totalBlocks","BLOCK_ENTRIES","BitMap","blockOffset","bitMapBlock","mask","bitOffset","ProDOSVolume","_disk","_vdh","_bitMap","ID","Address","lo","hi","readLo","readHi","loByte","hiByte","SmartPort","disks","dumbPortRom","unit","blockOff","smartOff","getSync","bufferAddr","blockAddr","driveSlot","readAddress","getDeviceInfo","readBlock","writeBlock","formatDevice","stackAddr","retVal","cmdBlockAddr","cmdListAddr","writeAddress","parameterCount","status","createBlockDisk","dump","Thunderclock","strobe","shiftMode","register","shiftBCD","weekday","getDay","hour","minutes","seconds","getSeconds","calcBits","ROM","VIDEO_ROM","BLACK","WHITE","Videoterm","regs","blink","curReg","bank","refresh","refreshCursor","saddr","startPos","color","cdata","fromRegs","blinkmode","cursorPos","caddr","updateBuffer","shouldRefresh","updateStartPos","Apple2IO","_slot","_auxRom","_khz","_rate","_sample_size","_buffer","_keyDown","_button","_paddle","_phase","_sample","_sampleIdx","_sampleTime","_didAudio","_high","_low","_trigger","_annunciators","_tape","_tapeOffset","_tapeNext","_tapeCurrent","_calcSampleRate","_cycles_per_sample","_audioListener","_debug","text","mixed","hires","_updateKHz","_tick","_access","slot","card","ioSwitch","blit","annunciators","cards","cardState","rate","sample_size","tick","dim","orangeCol","greenCol","blueCol","violetCol","whiteCol","blackCol","_colors","r4","dcolors","notDirty","bottom","right","LoresPage2D","_refreshing","_blink","highColorTextMode","createImageData","setLoresPage","c0","c1","c2","inverse","_80colMode","altCharMode","_start","_end","_read","_write","base","fore","back","col","adj","textMode","hiresMode","mixedMode","_checkInverse","_drawHalfPixel","_drawPixel","colorMode","monoMode","odd","an3State","ab","rowToBase","mapCharCode","trimRight","HiresPage2D","colorDHRMode","setHiresPage","rowa","rowb","dx","dy","bz","b0","b1","b2","b4","hb","oneSixtyMode","c4","_draw3Pixel","_draw4Pixel","doubleHiresMode","mod","mcol","baseOff","monoColor","monoDHRMode","hbs","dcolor","mixedDHRMode","bb","rr","vv","v0","v1","v2","oddCol","evenCol","highColorHGRMode","VideoModes2D","_grs","_hgrs","_refreshFlag","_canvas","screenContext","_screenContext","imageSmoothingEnabled","_left","_top","_refresh","pageMode","lores","an3","pageNo","mainData","mixData","putImageData","mainDirty","mixDirty","blitted","buildScreen","altData","hgr","gr","updateImage","grs","hgrs","parentElement","LoresPageGL","HiresPageGL","lastCol","cropLastPixel","after","VideoModesGL","_scanlines","_sv","initOpenGL","_displayConfig","defaultMonitor","imageInfo","vsync","monitorII","Switches","mmu","AuxRom","_setIntc8rom","_updateBanks","_val","MMU","lores1","lores2","hires1","hires2","_readPages","_writePages","_pages","_vbEnd","switches","auxRom","mem00_01","mem02_03","mem04_07","bank0","mem08_0B","mem0C_1F","mem20_3F","mem40_5F","mem60_BF","memC0_C0","memC1_CF","memD0_DF","memE0_FF","_bank1","_readbsr","_writebsr","_prewrite","_auxRamRead","_auxRamWrite","_altzp","_intcxrom","_slot3rom","_intc8rom","_80store","_page2","_hires","_iouDisable","_80col","altChar","isText","isMixed","isHires","is80Col","isAltChar","isDoubleHires","doubleHires","_accessMMUSet","_accessStatus","_accessGraphics","_accessIOUDisable","_accessLangCard","_initSwitches","intcxrom","slot3rom","intc8rom","auxRamRead","auxRamWrite","altzp","page2","alwaysBreak","_info","dumpStatusRegister","Debugger","container","verbose","maxTrace","trace","breakpoints","Map","symbols","break","step","getDebugInfo","printDebugInfo","updateTrace","continue","setVerbose","setMaxTrace","getTrace","printTrace","setBreakpoint","exp","clearBreakpoint","delete","listBreakpoints","addSymbols","symbol","padWithSymbol","dumpRegisters","dumpRawOp","dumpOp","dumpPC","getOpInfo","debugInfo","dumpPage","stepCyclesDebug","padding","substring","toHexOrSymbol","romVersion","characterRom","enhanced","runTimer","runAnimationFrame","romImportPromise","characterRomImportPromise","LoresPage","HiresPage","VideoModes","default","Apple2ROM","gr2","hgr2","addPageHandler","theDebugger","runFn","stepMax","stepCycles","resetVB","annunciator","getGamepads","axes","buttons","button","pressed","processGamepad","requestAnimationFrame","clearInterval","cancelAnimationFrame","lc","getROM","parallel","videoTerm","slinky","smartport","setSlot"],"mappings":"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,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,EAAM,EAAM,GACnB,EAAM,CAAC,IAAM,IAAM,KACnB,EAAM,CAAC,EAAM,EAAM,GACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IAEnB,GAAM,CAAC,IAAM,IAAM,KACnB,GAAM,CAAC,IAAM,IAAM,KACnB,GAAM,CAAC,IAAM,IAAM,KACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IAGnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,EAAM,EAAM,GACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IAEnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,EAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IACnB,GAAM,CAAC,GAAM,GAAM,IAGnB,GAAM,CAAC,GAAM,EAAM,IACnB,GAAM,CAAC,GAAM,EAAM,IACnB,GAAM,CAAC,GAAM,EAAM,IACnB,GAAM,CAAC,GAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,EAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IAEnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,GAAM,IACnB,GAAM,CAAC,IAAM,IAAM,KACnB,GAAM,CA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W,kBAAkBf,ICrErC,MAMMgB,EAAS,CACX,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,OACN,IAAM,QACN,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,KACN,IAAM,OACN,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,OACN,IAAM,OACN,IAAM,OACN,IAAM,OACN,IAAM,MACN,IAAM,UACN,IAAM,QACN,IAAM,OACN,IAAM,QACN,IAAM,OACN,IAAM,OACN,IAAM,OACN,IAAM,SACN,IAAM,SACN,IAAM,QACN,IAAM,UACN,IAAM,SACN,IAAM,UACN,IAAM,QACN,IAAM,SACN,IAAM,OACN,IAAM,OACN,IAAM,SACN,IAAM,SACN,IAAM,QACN,IAAM,SACN,IAAM,SACN,IAAM,QACN,IAAM,SACN,IAAM,MACN,IAAM,OACN,IAAM,MACN,IAAM,KACN,IAAM,UACN,IAAM,IACN,IAAM,QACN,IAAM,SACN,IAAM,MACN,IAAM,OACN,IAAM,KACN,IAAM,OACN,IAAM,OACN,IAAM,OACN,IAAM,MACN,IAAM,OACN,IAAM,QACN,IAAM,OACN,IAAM,OACN,IAAM,QACN,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,KACN,IAAM,KACN,IAAM,OACN,IAAM,OACN,IAAM,KACN,IAAM,MACN,IAAM,OACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,MACN,IAAM,KACN,IAAM,IACN,IAAM,IACN,IAAM,IACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,QACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,MACN,IAAM,OACN,IAAM,MACN,IAAM,MACN,IAAM,OACN,IAAM,QACN,IAAM,SACN,IAAM,QAGK,MAAMC,EACjB,YAAoBC,GAAA,KAAAA,MAEZ,SAASC,GACb,MAAMC,EAAOD,GAAQ,EACfE,EAAa,IAAPF,EAEZ,OAAOztB,KAA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WAAW,CAC3C,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,EAAK,GAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,GAAK,GAAK,EAAK,EAAK,GAAK,IAAK,GACnC,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AAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,GAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,EAAM,EAAM,IAAM,IAAM,EAAM,GAGxFC,GAAmB,CAQrB,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,EAAM,EAAM,IAAM,IAAM,EAAM,EAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAA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AK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,GACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,EAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,EAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,IAAK,EAAK,GAAK,GAAK,EAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,GAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IACnC,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,EAAK,GAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,GAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GACnC,EAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,EAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,GAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,EAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,GAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,GAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,EAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,EAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GACnC,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,EAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,GAAK,GAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,GAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,EACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,GAAK,GAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GACnC,EAAK,GAAK,GAAK,IAAK,EAAK,GAAK,EAAK,GACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,GAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,EAAK,IAAK,GAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,GAAK,EAAK,GAAK,GAAK,IACnC,EAAK,GAAK,EAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,GAAK,EAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,IAAK,IAAK,EAAK,GAAK,EACnC,EAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,EAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GACnC,IAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,EAAK,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GAAK,GACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IACnC,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,GAAK,GAAK,IAAK,EAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,EAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,EAAK,EACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GACnC,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,GAAK,EAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,EAAK,IAAK,EAAK,EAAK,GAAK,GAAK,IACnC,GAAK,EAAK,EAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,EACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,EAAK,EACnC,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,EAAK,GAAK,EAAK,EACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,EACnC,IAAK,EAAK,GAAK,EAAK,EAAK,GAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,EAAK,GAAK,EAAK,EAAK,GACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,IAAK,GAAK,GAAK,IAAK,EAAK,EAAK,GAAK,IACnC,GAAK,GAAK,EAAK,EAAK,GAAK,EAAK,GAAK,EACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,EAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,IAAK,EAAK,EAAK,GAAK,IAAK,GAAK,IACnC,EAAK,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,EAAK,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GACnC,EAAK,EAAK,GAAK,EAAK,EAAK,GAAK,EAAK,EACnC,GAAK,EAAK,EAAK,GAAK,IAAK,EAAK,EAAK,IACnC,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EACnC,EAAK,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EACnC,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IACnC,EAAK,EAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,IAAK,GACnC,EAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IACnC,EAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,EAAK,EAAK,IAAK,GAAK,IAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,GAAK,GAAK,IAAK,EAAK,EAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,EAAK,GAAK,IAAK,EAAK,EAAK,GAAK,GACnC,GAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,EAAK,GACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,GACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,IAAK,IAAK,GAAK,EAAK,IAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,GAAK,IAAK,EAAK,EACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,IAAK,EAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EAAK,IACnC,EAAK,IAAK,EAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,EAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,IAAK,GAAK,GAAK,IAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IA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,GAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IAC5E,IAAK,EAAK,GAAK,GAAK,GAAK,GAAK,IAAK,IAAM,IAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IAC5E,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAM,GAAK,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,EAC5E,IAAK,GAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IAAM,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EAC5E,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAM,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EAC5E,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,GAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAM,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAC5E,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK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AK,IAAK,EACnC,GAAK,IAAK,EAAK,GAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,GACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,EAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,GAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IACnC,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,GAAK,EAAK,GACnC,GAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,EAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GAAK,IACnC,GAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,EAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,EACnC,GAAK,IAAK,EAAK,IAAK,GAAK,EAAK,GAAK,IACnC,IAAK,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,GAAK,GAAK,GAAK,EACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,EACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IACnC,EAAK,GAAK,IAAK,GAAK,EAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IAAK,EACnC,GAAK,IAAK,GAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,GAAK,GACnC,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,EAAK,IAAK,GACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,EACnC,IAAK,IAAK,IAAK,GAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,EAAK,GAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,GAAK,EAAK,IAAK,GAAK,IAAK,EAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,EAAK,IACnC,IAAK,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,GACnC,GAAK,IAAK,GAAK,EAAK,IAAK,GAAK,EAAK,GACnC,GAAK,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,EACnC,IAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,EAAK,GACnC,EAAK,IAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,EAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,EAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,GAAK,GACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,EAAK,IAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IACnC,EAAK,EAAK,IAAK,IAAK,IAAK,GAAK,EAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,EACnC,IAAK,GAAK,EAAK,IAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,GACnC,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IACnC,GAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,GAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAA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AAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,IAAK,EAAK,GACnC,EAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,GAAK,EAAK,IAAK,GAAK,EAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IACnC,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IAAK,IACnC,GAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,GAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,EAAK,GAAK,IAAK,IACnC,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,IAAK,EAAK,IAAK,EAAK,GAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EAAK,IACnC,IAAK,EAAK,GAAK,EAAK,IAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,GAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,EAAK,IAAK,GAAK,GAAK,GAAK,GAAK,IACnC,IAAK,EAAK,GAAK,IAAK,GAAK,IAAK,EAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IAAK,IACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EAAK,GACnC,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,EAAK,IAAK,IAAK,EAAK,GAAK,GAAK,GAAK,GACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IACnC,GAAK,GAAK,GAAK,IAAK,IAAK,EAAK,GAAK,IACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,EAAK,IACnC,GAAK,GAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,EAAK,GAAK,EAAK,IACnC,EAAK,IAAK,GAAK,GAAK,IAAK,GAAK,EAAK,IACnC,EAAK,GAAK,IAAK,IAAK,IAAK,GAAK,IAAK,GACnC,GAAK,IAAK,GAAK,IAAK,IAAK,EAAK,IAAK,IACnC,EAAK,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GACnC,IAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,GAAK,IAAK,EAAK,IAAK,IAAK,EAAK,GACnC,EAAK,IAAK,IAAK,IAAK,IAAK,EAAK,GAAK,IACnC,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,IAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,IAAK,GAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,GAAK,GAAK,IACnC,IAAK,IAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IACnC,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,GACnC,GAAK,GAAK,EAAK,IAAK,GAAK,GAAK,IAAK,GACnC,IAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,IACnC,EAAK,GAAK,IAAK,EAAK,IAAK,EAAK,IAAK,EACnC,IAAK,GAAK,IAAK,EAAK,GAAK,GAAK,IAAK,IACnC,EAAK,GAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IACnC,IAAK,GAAK,IAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,GAAK,GAAK,GAAK,IAAK,GAAK,IAAK,GACnC,IAAK,GAAK,IAAK,EAAK,IAAK,GAAK,IAAK,GACnC,GAAK,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,GAAK,IAAK,GAAK,IAAK,IAAK,IAAK,EAAK,IACnC,IAAK,IAAK,GAAK,IAAK,EAAK,EAAK,IAAK,GACnC,GAAK,GAAK,IAAK,EAAK,EAAK,IAAK,GAAK,IACnC,IAAK,EAAK,IAAK,EAAK,EAAK,IAAK,EAAK,GACnC,IAAK,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,GACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,GAAK,GAAK,EAAK,IAAK,IAAK,IACnC,IAAK,IAAK,GAAK,IAAK,IAAK,EAAK,GAAK,GACnC,IAAK,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,EACnC,IAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,IAAK,EAAK,GAAK,GAAK,IAAK,IAAK,EAAK,IACnC,IAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,EACnC,IAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,GAAK,EAAK,IAAK,IAAK,EAAK,IAAK,IACnC,IAAK,EAAK,IAAK,GAAK,IAAK,IAAK,GAAK,IACnC,IAAK,IAAK,IAAK,GAAK,IAAK,IAAK,IAAK,IACnC,EAAK,IAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GACnC,IAAK,IAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,GAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAG1Bk0C,GAAY,IAAIl0C,WAAW,CACpC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,IAAK,IAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,EAAK,EAAK,EAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,IAAK,EAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,IAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,IAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,IAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,EAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,EAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,GACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,EAAK,IAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,GAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,IAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,EAAK,EAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,IAAK,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,IACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,EAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,IAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,EAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,GAAK,GAAK,GAAK,IAAK,GACnC,GAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,EAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,IAAK,IAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,GAAK,GAAK,GAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,IAAK,GAAK,GAAK,GAAK,GACnC,IAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,IAAK,EAAK,GAAK,GAAK,IAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,GAAK,GAAK,EAAK,GAAK,EAAK,GAAK,GAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACnC,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EAAK,EACn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","file":"main2.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Apple2\"] = factory();\n\telse\n\t\troot[\"Apple2\"] = factory();\n})(self, function() {\nreturn ","var inProgress = {};\nvar dataWebpackPrefix = \"Apple2:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var map = {\n\t\"./apple2_char\": [\n\t\t975,\n\t\t975\n\t],\n\t\"./apple2_char.ts\": [\n\t\t975,\n\t\t975\n\t],\n\t\"./apple2e_char\": [\n\t\t189,\n\t\t189\n\t],\n\t\"./apple2e_char.ts\": [\n\t\t189,\n\t\t189\n\t],\n\t\"./apple2enh_char\": [\n\t\t64,\n\t\t64\n\t],\n\t\"./apple2enh_char.ts\": [\n\t\t64,\n\t\t64\n\t],\n\t\"./apple2j_char\": [\n\t\t132,\n\t\t132\n\t],\n\t\"./apple2j_char.ts\": [\n\t\t132,\n\t\t132\n\t],\n\t\"./apple2lc_char\": [\n\t\t957,\n\t\t957\n\t],\n\t\"./apple2lc_char.ts\": [\n\t\t957,\n\t\t957\n\t],\n\t\"./pigfont_char\": [\n\t\t30,\n\t\t30\n\t],\n\t\"./pigfont_char.ts\": [\n\t\t30,\n\t\t30\n\t],\n\t\"./rmfont_char\": [\n\t\t601,\n\t\t601\n\t],\n\t\"./rmfont_char.ts\": [\n\t\t601,\n\t\t601\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 800;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./apple2e\": [\n\t\t553,\n\t\t553\n\t],\n\t\"./apple2e.ts\": [\n\t\t553,\n\t\t553\n\t],\n\t\"./apple2enh\": [\n\t\t45,\n\t\t45\n\t],\n\t\"./apple2enh.ts\": [\n\t\t45,\n\t\t45\n\t],\n\t\"./apple2ex\": [\n\t\t875,\n\t\t875\n\t],\n\t\"./apple2ex.ts\": [\n\t\t875,\n\t\t875\n\t],\n\t\"./apple2j\": [\n\t\t156,\n\t\t156\n\t],\n\t\"./apple2j.ts\": [\n\t\t156,\n\t\t156\n\t],\n\t\"./fpbasic\": [\n\t\t94,\n\t\t94\n\t],\n\t\"./fpbasic.ts\": [\n\t\t94,\n\t\t94\n\t],\n\t\"./intbasic\": [\n\t\t89,\n\t\t89\n\t],\n\t\"./intbasic.ts\": [\n\t\t89,\n\t\t89\n\t],\n\t\"./original\": [\n\t\t663,\n\t\t663\n\t],\n\t\"./original.ts\": [\n\t\t663,\n\t\t663\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 190;\nmodule.exports = webpackAsyncContext;","\"use strict\";\n\nconst screenEmu = (function () {\n\n  // Classes\n\n  const Point = class {\n    constructor(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n  }\n\n  const Size = class {\n    constructor(width, height) {\n      this.width = width;\n      this.height = height;\n    }\n\n    copy() {\n      return new Size(this.width, this.height);\n    }\n\n    get ratio() {\n      return this.width / this.height;\n    }\n  }\n\n  const Rect = class {\n    constructor(x, y, width, height) {\n      this.origin = new Point(x, y);\n      this.size = new Size(width, height);\n    }\n\n    get x() {\n      return this.origin.x;\n    }\n\n    get y() {\n      return this.origin.y;\n    }\n\n    get width() {\n      return this.size.width;\n    }\n\n    get height() {\n      return this.size.height;\n    }\n\n    get l() {\n      return this.origin.x;\n    }\n\n    get r() {\n      return this.origin.x + this.size.width;\n    }\n\n    get t() {\n      return this.origin.y;\n    }\n\n    get b() {\n      return this.origin.y + this.size.height;\n    }\n  }\n\n  const Vector = class {\n    constructor(n) {\n      this.data = new Float32Array(n);\n    }\n\n    // Normalize the vector.\n    normalize() {\n      const vec = this.data;\n      let sum = 0;\n      for (const item of vec) {\n        sum += item;\n      }\n      const gain = 1/sum;\n      for (const i in vec) {\n        vec[i] *= gain;\n      }\n      return this;\n    }\n\n    // Multiply this Vector by another, or by a number.\n    mul(other) {\n      const w = new Vector(0);\n      if ((typeof other != \"number\") && (this.data.length != other.data.length)) {\n        return w;\n      }\n\n      w.data = new Float32Array(this.data);\n\n      for (let i = 0; i < w.data.length; i++) {\n        if (typeof other == \"number\") {\n          w.data[i] *= other;\n        } else {\n          w.data[i] *= other.data[i];\n        }\n      }\n\n      return w;\n    }\n\n    realIDFT() {\n      const size = this.data.length;\n      const w = new Vector(size);\n      for (let i = 0; i < size; i++) {\n        const omega = 2 * Math.PI * i / size;\n\n        for (let j = 0; j < size; j++) {\n          w.data[i] += this.data[j] * Math.cos(j * omega);\n        }\n      }\n\n      for (let i = 0; i < size; i++) {\n        w.data[i] /= size;\n      }\n\n      return w;\n    }\n\n    resize(n) {\n      const newData = new Float32Array(n);\n      for (let i=0; i < Math.min(newData.length, this.data.length); i++) {\n        newData[i] = this.data[i];\n      }\n      this.data = newData;\n      return this;\n    }\n\n    // Chebyshev Window\n    //\n    // Based on ideas at:\n    // http://www.dsprelated.com/showarticle/42.php\n    //\n    static chebyshevWindow(n, sidelobeDb) {\n      const m = n - 1;\n      let w = new Vector(m);\n\n      const alpha = Math.cosh(Math.acosh(Math.pow(10, sidelobeDb / 20)) / m);\n      for (let i = 0; i < m; i++) {\n        const a = Math.abs(alpha * Math.cos(Math.PI * i / m));\n        if (a > 1)\n          w.data[i] = Math.pow(-1, i) * Math.cosh(m * Math.acosh(a));\n        else\n          w.data[i] = Math.pow(-1, i) * Math.cos(m * Math.acos(a));\n      }\n\n      w = w.realIDFT();\n\n      w.resize(n);\n      w.data[0] /= 2;\n      w.data[n-1] = w.data[0];\n\n      const max = w.data.reduce((prev, cur) => Math.max(prev, Math.abs(cur)));\n      for (const i in w.data) {\n        w.data[i] /= max;\n      }\n\n      return w;\n    }\n\n    // Lanczos Window\n    static lanczosWindow(n, fc) {\n      let v = new Vector(n);\n      fc = Math.min(fc, 0.5);\n      const halfN = Math.floor(n / 2);\n\n      for (let i = 0; i < n; i++) {\n        const x = 2 * Math.PI * fc * (i - halfN);\n\n        v.data[i] = (x == 0.0) ? 1.0 : Math.sin(x) / x;\n      }\n\n      return v;\n    }\n\n  };\n\n  const Matrix3 = class {\n    constructor(c00, c01, c02,\n                c10, c11, c12,\n                c20, c21, c22) {\n      this.data = new Float32Array([c00, c01, c02, c10, c11, c12, c20, c21, c22]);\n    }\n\n    at(i, j) {\n      return this.data[3 * i + j];\n    }\n\n    mul(val) {\n      const m = new Matrix3(0,0,0,0,0,0,0,0,0);\n      if (typeof val == \"number\") {\n        m.data = this.data.map(x => x * val);\n      } else {\n        for (let i = 0; i < 3; i++) {\n          for (let j = 0; j < 3; j++) {\n            for (let k = 0; k < 3; k++) {\n              m.data[i * 3 + j] += val.data[i * 3 + k] * this.data[k * 3 + j];\n            }\n          }\n        }\n      }\n      return m;\n    }\n  }\n\n\n  // From AppleIIVideo.cpp\n\n  const HORIZ_START = 16;\n  const HORIZ_BLANK = (9 + HORIZ_START) // 25;\n  const HORIZ_DISPLAY = 40;\n  const HORIZ_TOTAL = (HORIZ_BLANK + HORIZ_DISPLAY) // 65;\n\n  const CELL_WIDTH = 14;\n  const CELL_HEIGHT = 8;\n\n  const VERT_NTSC_START = 38;\n  const VERT_PAL_START = 48;\n  const VERT_DISPLAY = 192;\n\n  const BLOCK_WIDTH = HORIZ_DISPLAY; // 40\n  const BLOCK_HEIGHT = (VERT_DISPLAY / CELL_HEIGHT); // 24\n\n  // From CanvasInterface.h\n\n  const NTSC_FSC     = 315/88 * 1e6;         // 3579545 = 3.5 Mhz: Color Subcarrier\n  const NTSC_4FSC    = 4 * NTSC_FSC;         // 14318180 = 14.3 Mhz\n  const NTSC_HTOTAL  = (63+5/9) * 1e-6;\n  const NTSC_HLENGTH = (52+8/9) * 1e-6;\n  const NTSC_HHALF   = (35+2/3) * 1e-6;\n  const NTSC_HSTART  = NTSC_HHALF - NTSC_HLENGTH/2;\n  const NTSC_HEND    = NTSC_HHALF + NTSC_HLENGTH/2;\n  const NTSC_VTOTAL  = 262;\n  const NTSC_VLENGTH = 240;\n  const NTSC_VSTART  = 19;\n  const NTSC_VEND    = NTSC_VSTART + NTSC_VLENGTH;\n\n  const PAL_FSC      = 4433618.75; // Color subcarrier\n  const PAL_4FSC     = 4 * PAL_FSC;\n  const PAL_HTOTAL   = 64e-6;\n  const PAL_HLENGTH  = 52e-6;\n  const PAL_HHALF    = (37+10/27) * 1e-6;\n  const PAL_HSTART   = PAL_HHALF - PAL_HLENGTH / 2;\n  const PAL_HEND     = PAL_HHALF + PAL_HLENGTH / 2;\n  const PAL_VTOTAL   = 312;\n  const PAL_VLENGTH  = 288;\n  const PAL_VSTART   = 21;\n  const PAL_VEND     = PAL_VSTART + PAL_VLENGTH;\n\n  // From OpenGLCanvas.cpp\n  const NTSC_I_CUTOFF = 1300000;\n  const NTSC_Q_CUTOFF = 600000;\n  const NTSC_IQ_DELTA = NTSC_I_CUTOFF - NTSC_Q_CUTOFF;\n\n  // From AppleIIVideo::updateTiming\n  const ntscClockFrequency = NTSC_4FSC * HORIZ_TOTAL / 912;\n  const ntscVisibleRect = new Rect(ntscClockFrequency * NTSC_HSTART, NTSC_VSTART,\n\t\t\t\t   ntscClockFrequency * NTSC_HLENGTH, NTSC_VLENGTH);\n  const ntscDisplayRect = new Rect(HORIZ_START, VERT_NTSC_START,\n\t\t\t\t   HORIZ_DISPLAY, VERT_DISPLAY);\n  const ntscVertTotal = NTSC_VTOTAL;\n\n  const palClockFrequency = 14250450.0 * HORIZ_TOTAL / 912;\n  const palVisibleRect = new Rect(palClockFrequency * PAL_HSTART, PAL_VSTART,\n\t\t\t\t  palClockFrequency * PAL_HLENGTH, PAL_VLENGTH);\n  const palDisplayRect = new Rect(HORIZ_START, VERT_PAL_START,\n\t\t\t\t  HORIZ_DISPLAY, VERT_DISPLAY);\n  const palVertTotal = PAL_VTOTAL;\n\n  const VERTEX_RENDER_SHADER =`\n// an attribute will receive data from a buffer\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nvarying vec2 v_texCoord;\n\n// all shaders have a main function\nvoid main() {\n  gl_Position = a_position;\n  v_texCoord = a_texCoord;\n}\n`;\n\n  const VERTEX_DISPLAY_SHADER =`\n// an attribute will receive data from a buffer\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_texCoord2;\nvarying vec2 v_texCoord;\nvarying vec2 v_texCoord2;\n\n// all shaders have a main function\nvoid main() {\n  gl_Position = vec4(a_position.x, -a_position.y, a_position.z, a_position.w);\n  v_texCoord = a_texCoord;\n  v_texCoord2 = a_texCoord2;\n}\n`;\n\n  const COMPOSITE_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform float subcarrier;\nuniform sampler2D phaseInfo;\nuniform vec3 c0, c1, c2, c3, c4, c5, c6, c7, c8;\nuniform mat3 decoderMatrix;\nuniform vec3 decoderOffset;\n\nfloat PI = 3.14159265358979323846264;\n\nvec3 pixel(in vec2 q)\n{\n  vec3 c = texture2D(texture, q).rgb;\n  vec2 p = texture2D(phaseInfo, vec2(0, q.y)).rg;\n  float phase = 2.0 * PI * (subcarrier * textureSize.x * q.x + p.x);\n  return c * vec3(1.0, sin(phase), (1.0 - 2.0 * p.y) * cos(phase));\n}\n\nvec3 pixels(vec2 q, float i)\n{\n  return pixel(vec2(q.x + i, q.y)) + pixel(vec2(q.x - i, q.y));\n}\n\nvoid main(void)\n{\n  vec2 q = v_texCoord;\n  vec3 c = pixel(q) * c0;\n  c += pixels(q, 1.0 / textureSize.x) * c1;\n  c += pixels(q, 2.0 / textureSize.x) * c2;\n  c += pixels(q, 3.0 / textureSize.x) * c3;\n  c += pixels(q, 4.0 / textureSize.x) * c4;\n  c += pixels(q, 5.0 / textureSize.x) * c5;\n  c += pixels(q, 6.0 / textureSize.x) * c6;\n  c += pixels(q, 7.0 / textureSize.x) * c7;\n  c += pixels(q, 8.0 / textureSize.x) * c8;\n  gl_FragColor = vec4(decoderMatrix * c + decoderOffset, 1.0);\n}\n`;\n\n  const DISPLAY_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\nvarying vec2 v_texCoord2;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform float barrel;\nuniform vec2 barrelSize;\nuniform float scanlineLevel;\nuniform sampler2D shadowMask;\nuniform vec2 shadowMaskSize;\nuniform float shadowMaskLevel;\nuniform float centerLighting;\nuniform sampler2D persistence;\nuniform vec2 persistenceSize;\nuniform vec2 persistenceOrigin;\nuniform float persistenceLevel;\nuniform float luminanceGain;\n\nfloat PI = 3.14159265358979323846264;\n\nvoid main(void)\n{\n  vec2 qc = (v_texCoord2 - vec2(0.5, 0.5)) * barrelSize;\n  vec2 qb = barrel * qc * dot(qc, qc);\n  vec2 q = v_texCoord + qb;\n\n  vec3 c = texture2D(texture, q).rgb;\n\n  float scanline = sin(PI * textureSize.y * q.y);\n  c *= mix(1.0, scanline * scanline, scanlineLevel);\n\n  vec3 mask = texture2D(shadowMask, (v_texCoord2 + qb) * shadowMaskSize).rgb;\n  c *= mix(vec3(1.0, 1.0, 1.0), mask, shadowMaskLevel);\n\n  vec2 lighting = qc * centerLighting;\n  c *= exp(-dot(lighting, lighting));\n\n  c *= luminanceGain;\n\n  vec2 qp = v_texCoord2 * persistenceSize + persistenceOrigin;\n  c = max(c, texture2D(persistence, qp).rgb * persistenceLevel - 0.5 / 256.0);\n\n  gl_FragColor = vec4(c, 1.0);\n}\n`;\n\n  const RGB_SHADER = `\nprecision mediump float;\n\nvarying vec2 v_texCoord;\n\nuniform sampler2D texture;\nuniform vec2 textureSize;\nuniform vec3 c0, c1, c2, c3, c4, c5, c6, c7, c8;\nuniform mat3 decoderMatrix;\nuniform vec3 decoderOffset;\n\nvec3 pixel(vec2 q)\n{\n  return texture2D(texture, q).rgb;\n}\n\nvec3 pixels(in vec2 q, in float i)\n{\n  return pixel(vec2(q.x + i, q.y)) + pixel(vec2(q.x - i, q.y));\n}\n\nvoid main(void)\n{\n  vec2 q = v_texCoord;\n  vec3 c = pixel(q) * c0;\n  c += pixels(q, 1.0 / textureSize.x) * c1;\n  c += pixels(q, 2.0 / textureSize.x) * c2;\n  c += pixels(q, 3.0 / textureSize.x) * c3;\n  c += pixels(q, 4.0 / textureSize.x) * c4;\n  c += pixels(q, 5.0 / textureSize.x) * c5;\n  c += pixels(q, 6.0 / textureSize.x) * c6;\n  c += pixels(q, 7.0 / textureSize.x) * c7;\n  c += pixels(q, 8.0 / textureSize.x) * c8;\n  gl_FragColor = vec4(decoderMatrix * c + decoderOffset, 1.0);\n}\n`;\n\n  function buildTiming(clockFrequency, displayRect, visibleRect, vertTotal, fsc) {\n    const vertStart = displayRect.y;\n    // Total number of CPU cycles per frame: 17030 for NTSC.\n    const frameCycleNum = HORIZ_TOTAL * vertTotal;\n    // first displayed column.\n    const horizStart = Math.floor(displayRect.x);\n    // imageSize is [14 * visible rect width in cells, visible lines]\n    const imageSize = new Size(Math.floor(CELL_WIDTH * visibleRect.width),\n\t\t\t       Math.floor(visibleRect.height));\n    // imageLeft is # of pixels from first visible point to first displayed point.\n    const imageLeft = Math.floor((horizStart-visibleRect.x) * CELL_WIDTH);\n    const colorBurst = [2 * Math.PI * (-33/360 + (imageLeft % 4) / 4)];\n    const cycleNum = frameCycleNum + 16;\n\n    // First pixel that OpenEmulator draws when painting normally.\n    const topLeft = new Point(imageLeft, vertStart - visibleRect.y);\n    // First pixel that OpenEmulator draws when painting 80-column mode.\n    const topLeft80Col = new Point(imageLeft - CELL_WIDTH/2, vertStart - visibleRect.y);\n\n    return {\n      fsc: fsc,\n      clockFrequency: clockFrequency,\n      displayRect: displayRect,\n      visibleRect: visibleRect,\n      vertStart: vertStart,\n      vertTotal: vertTotal,\n      frameCycleNum: frameCycleNum,\n      horizStart: horizStart,\n      imageSize: imageSize,\n      imageLeft: imageLeft,\n      colorBurst: colorBurst,\n      cycleNum: cycleNum,\n      topLeft: topLeft,\n      topLeft80Col: topLeft80Col,\n    };\n  }\n\n  const NTSC_DETAILS = buildTiming(ntscClockFrequency, ntscDisplayRect,\n                                   ntscVisibleRect, ntscVertTotal, NTSC_FSC);\n  const PAL_DETAILS = buildTiming(palClockFrequency, palDisplayRect,\n\t\t\t\t  palVisibleRect, palVertTotal, PAL_FSC);\n\n  // https://codereview.stackexchange.com/a/128619\n  const loadImage = path =>\n        new Promise((resolve, reject) => {\n          const img = new Image();\n          img.onload = () => resolve(img);\n          img.onerror = () => reject(`error loading '${path}'`);\n          img.src = path;\n        });\n\n  // Given an image that's 560x192, render it into the larger space\n  // required for NTSC or PAL.\n  // image: a 560x192 image, from the same domain (hence readable).\n  // details: NTSC_DETAILS, or PAL_DETAILS\n  // returns: a canvas\n  const screenData = (image, details, dhgr=true) => {\n    if ((image.naturalWidth != 560) || (image.naturalHeight != 192)) {\n      throw new Error('screenData expects an image 560x192;' +\n                      ` got ${image.naturalWidth}x${image.naturalHeight}`);\n    }\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    const width = details.imageSize.width;\n    const height = details.imageSize.height;\n    canvas.width = width;\n    canvas.height = height;\n    context.fillStyle = 'rgba(0,0,0,1)';\n    context.fillRect(0, 0, width, height);\n    const topLeft = dhgr ? details.topLeft80Col : details.topLeft;\n    context.drawImage(image, topLeft.x, topLeft.y);\n    const imageData = context.getImageData(0, 0, width, height);\n    return [canvas, imageData];\n  };\n\n  // Given an ImageData (RGBA), convert to luminance by taking the max\n  // of (R,G,B) for each pixel. Return a Uint8Array.\n  const luminanceData = (imageData) => {\n    const width = imageData.width;\n    const height = imageData.height;\n    const data = imageData.data;\n    const size = width * height;\n    const ary = new Uint8Array(size);\n    for (let i = 0; i < size; i++) {\n      ary[i] = Math.max(data[i*4], data[i*4+1], data[i*4+2]);\n    }\n    return ary;\n  };\n\n  const TEXTURE_NAMES = [\n    \"SHADOWMASK_TRIAD\",\n    \"SHADOWMASK_INLINE\",\n    \"SHADOWMASK_APERTURE\",\n    \"SHADOWMASK_LCD\",\n    \"SHADOWMASK_BAYER\",\n    \"IMAGE_PHASEINFO\",\n    \"IMAGE_IN\",\n    \"IMAGE_DECODED\",\n    \"IMAGE_PERSISTENCE\",\n  ];\n\n  const BUFFER_COUNT = 3;\n\n  const SHADER_NAMES = [\n    \"COMPOSITE\",\n    \"DISPLAY\",\n    \"RGB\",\n  ];\n\n  const resizeCanvas = (canvas) => {\n    // Lookup the size the browser is displaying the canvas.\n    const displayWidth = canvas.clientWidth;\n    const displayHeight = canvas.clientHeight;\n\n    // Check if the canvas is not the same size.\n    if (canvas.width != displayWidth ||\n        canvas.height != displayHeight) {\n      canvas.width = displayWidth;\n      canvas.height = displayHeight;\n    }\n  };\n\n  // Code from:\n  // https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html\n  const createShader = (gl, name, type, source) => {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (success) {\n      return shader;\n    }\n\n    const log = gl.getShaderInfoLog(shader);\n    gl.deleteShader(shader);\n    throw new Error(`unable to compile shader ${name}: \\n${log}`);\n  };\n\n  // Code from:\n  // https://webglfundamentals.org/webgl/lessons/webgl-fundamentals.html\n  const createProgram = (gl, name, ...shaders) => {\n    const program = gl.createProgram();\n    for (let shader of shaders) {\n      gl.attachShader(program, shader);\n    }\n    gl.linkProgram(program);\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (success) {\n      return program;\n    }\n    const log = gl.getProgramInfoLog(program);\n    gl.deleteProgram(program);\n    throw new Error(`unable to compile program ${name}: \\n${log}`);\n  };\n\n  const TextureInfo = class {\n    constructor(width, height, glTexture) {\n      this.width = width;\n      this.height = height;\n      this.glTexture = glTexture;\n    }\n\n    get size() {\n      return new Size(this.width, this.height);\n    }\n  };\n\n  const DisplayConfiguration = class {\n    constructor() {\n      this.videoDecoder = \"CANVAS_YUV\";\n      this.videoBrightness = 0;\n      this.videoContrast = 1;\n      this.videoSaturation = 1;\n      this.videoHue = 0;\n      this.videoCenter = new Point(0, 0);\n      this.videoSize = new Size(1.05, 1.05);\n      this.videoBandwidth = 6000000; // 14318180;\n      this.videoLumaBandwidth = 2000000; // 600000;\n      this.videoChromaBandwidth = 600000; // 2000000;\n      this.videoWhiteOnly = false;\n\n      this.displayResolution = new Size(640, 480);\n      this.displayPixelDensity = 72;\n      this.displayBarrel = 0.05; // 0;\n      this.displayScanlineLevel = 0.05; // 0;\n      this.displayShadowMaskLevel = 0.05; // 0;\n      this.displayShadowMaskDotPitch = 0.5; // 1;\n      this.displayShadowMask = \"SHADOWMASK_TRIAD\";\n      this.displayPersistence = 0;\n      this.displayCenterLighting = 1;\n      this.displayLuminanceGain = 1;\n    }\n  };\n\n  // Corresponds to OEImage. Contains the data on an NTSC/PAL/whatever\n  // image. The `data` field is an ImageData object with the actual\n  // image data.\n  const ImageInfo = class {\n    constructor(data) {\n      if (typeof data != \"object\") {\n        throw new Error(`want typeof data == 'object'; got '${typeof data}'`);\n      }\n      if (!(data instanceof ImageData)) {\n        throw new Error(`want data instanceof ImageData; got '${data.constructor.name}'`);\n      }\n\n      this.sampleRate = NTSC_4FSC;\n      this.blackLevel = 0;\n      this.whiteLevel = 1;\n      this.interlace = 0;\n      this.subCarrier = NTSC_FSC;\n      this.colorBurst = NTSC_DETAILS.colorBurst;\n      this.phaseAlternation = [false];\n      this.data = data;\n    }\n\n    get width() {\n      return this.data.width;\n    }\n\n    get height() {\n      return this.data.height;\n    }\n\n    get size() {\n      return new Size(this.data.width, this.data.height);\n    }\n  };\n\n  const ScreenView = class {\n    constructor(canvas) {\n      const gl = canvas.getContext(\"webgl\");\n      const float_texture_ext = gl.getExtension('OES_texture_float');\n      if (float_texture_ext == null) {\n        throw new Error(\"WebGL extension 'OES_texture_float' unavailable\");\n      }\n\n      this.canvas = canvas;\n      this.gl = gl;\n      this.textures = {};\n      this.shaders = {};\n      this.buffers = [];\n      this.image = null;\n      this.display = null;\n      this.imageSampleRate = null;\n      this.imageBlackLevel = null;\n      this.imageWhiteLevel = null;\n      this.imageSubcarrier = null;\n      this.viewportSize = new Size(0, 0);\n      this.persistenceTexRect = new Rect(0, 0, 0, 0);\n\n      this.configurationChanged = true;\n      this.imageChanged = true;\n    }\n\n    get image() {\n      return this._image\n    }\n\n    set image(image) {\n      this._image = image;\n      this.imageChanged = true;\n    }\n\n    set displayConfiguration(displayConfiguration) {\n      this.display = displayConfiguration;\n      this.configurationChanged = true;\n    }\n\n    async initOpenGL() {\n      const gl = this.gl;\n\n      gl.enable(gl.BLEND);\n      gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n      this.textures = {};\n\n      for (let name of TEXTURE_NAMES) {\n        this.textures[name] = new TextureInfo(0, 0, gl.createTexture());\n      }\n\n      for (let i = 0; i < BUFFER_COUNT; i++) {\n        this.buffers.push(gl.createBuffer());\n      }\n\n      await this.loadTextures();\n\n      gl.pixelStorei(gl.PACK_ALIGNMENT, 1);\n      gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);\n\n      this.loadShaders();\n    }\n\n    freeOpenGL() {\n      const gl = this.gl;\n\n      for (let name of TEXTURE_NAMES) {\n        gl.deleteTexture(this.textures[name].glTexture);\n      }\n\n      for (let buffer of this.buffers) {\n        gl.deleteBuffer(buffer);\n      }\n\n      this.deleteShaders();\n    }\n\n    loadTextures() {\n      return Promise.all([\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAB5hJREFUeNrsXEtolUcU/u6NNT4SH0SNbyUlrVpTlPRBqykq0RjpQsT6WATFhbowLrS4KEKhRaorFxZEixSkipviwvoIFVtiVSq+tW1qia8mPmpFk6gx5tX/frcX0jT3n5l/zrEU7seskpn5zpkz/8ycM2duDKEoAGYD04GJwFCgP//4BLgP/AL8AHwLXIMaXgKKKcFbFGUwkA20AU1APXABOAZUAw/1JAgo3wNmAVOAUUAu0AtoIWWg92kOwFmgVZ55DnAIeAZ0hpZnrDZHnD7QdA1w2UQflHvANqBQXIJC9nvPQoLLlDVXjHkScNiCtls5zIYy+ACodaR/CnwG5IjQ57Cvp44S1FJubywHGtxHP1ka2NwLwRq3Myp9UM4BRZ4SFLGXyBLsTK3T7ujnp3tXEfpFk2AycMab/qHPLFjO9p4SnKEm7tglMfrJsisC/TigRoi+HVgSQYIlbCkiQQ31cUGl3OgnS6UTfXCyOCBK/4frWlTENoISHKBWdnjVbrN3KvfYrS1WSdMHZb+TAfYrSLDKlvxLBfJOdmuFke5nHsuyyFKCRTr0tdTNhCl0rDT4n7BzMzbo0AfleyBupI+znpIEG8z0pZEPLRbHqlJjpRhQrubGvmlzHpnMekoop4ahBngXijB3Pjbimc12ChQbKxWrzcCkdccaDPCypgGCzvuG1xgPDNGUYKJADQ8MoYahBhiizG+IDgyDLkYK1PCDQcN4XJM8blwCY8rqxwRqqEoQb9Qkb2S41FBDFQ8FaniPQagB7miS3zHy1wPNmhLcEKjhgWZqGGqAak1+c+dXgStq9G3ACWOlE6ynhCvUMNQAR1SucxIIuj1irNQCVKmpf56hZQPOsZ4SqqihaY84quMFHrXc4Iq4TmlIsM5ymNbp0DfaRgTn6/DPt58oOxTof7U/4w5jbXEJdjh8Ktulybc7faljuFoK0j8HFjpJsJBtBCW4Qq2s0Yd361Lkh9ihG4pFA/LrI6zX60WvI4qd+YcDJyXIT7KriJGrBgkJtkTeM7dI0DdEjy8OjZQP0S03YqjPqWEmUOdB3wFs9Dy3bGQvkSWoow4eyAY+ovPgylzPhtn+J7cCYJ/7HUUHL8PniZwd57GvDvfrj32UXgI5TDWqsb6BXiOVktM1jvo58MCCvpWn7VJIo5T9tlpI8ICyRgwrx8K/hmnA+8A7tOzA1ARv4Tp3DTgFfENXsgU6CJazuUAZMJVRy1wgiyo3p5Ijv6MEP+v58pM4ADNTuZl9OWLtTI68TQ+uiu7mfcVoYRLB6OelgvvNNHoDXiCySD8I6E31H1PlZy9Sgj40QA5FCQ6sjzgG7cgggwwy+D8jpk+Ry5jUFG7keVzFnzBxq4ab2FXNaHACI7mFBxKM5k4G7l51TCo/z51UF72AVyjBBCCfmbvPuX1c4/uGQIhEEnypEvl0ZmfdTn+Aa6MIHxtvrqOdpCv4fKIpPX0TK1SIn6GTGE/NLlPLdBIENvjb5TkJLOPsFEBv9lXt4ssEk/IrHnoFMAr41DHZrpZNRkkN/TRq02CXy/2PUapyC+GlCWxWRfXjg6nyCc950VHuEcuo808Sy6IGbS6J3N3/dNXnjUMR23sGs/ZEiKUmsdLOcw13q1f6uAp73Cl7+NNv0Z5cFbKlSDh3t01SZzcsE0rvb2dXzohT6k4RA3QyyJDvxJ/PNoIXGm4x5bmhm61raWKHLyiSHTYLHbBb4Upvqf22c12a+7rTbrjUgylsOZxhyT/De+3tsZy1fPC2WedOe7Ol9v0pqbwBHD6C3TojEJTFRu4RwC0d7lvs3IzFXjShe91suo8GjGY9JSywCduP0eEeY+mhLvBiCTXAcKDE2ENJ5DtgO196hPHgr4dymw9wup4BYOMTFGmOwPDwS75shlj0MMF4yVrgO/3iZgt71/ATb1h4wCdPkz7P5n1DXNUAZp+0D3SRHR5qzFbm7hVdOgt0Gg1gvnjUvppsCvlfC28n9fDYeN3dJPCNh+KmsYebmiPQEp5fHxj/rib9XeP8qvfLSIgZDXDB2McFzRG4RZ805AvGRU36i0lXKQTXKaPWF3CTPp4BZzU/ghPGKXhM0wDmzhts3oCY9oG0ZatlF1t1XNF2pgQZMAi4pEN/iZ2bUeYXhk37j9/tf3JlHGuLj8BeS/oKHQNU2E/ivRoGWOv0Ha2VVv9PexcvCzgoTX/Q6WauiPJKGuBr15vBLLYRHIHVTvST/LKq/3036fz7d6sFDVDtehuTRD5biozApgj0ZXa5vDaptmXRdtNNIgbY5pMb0ZvtfdR/ZBOCTodC/pKnD/1pzx/AXEwN3AzQ1sX0K0QObyuizsXTzGDywkCPF387UplbXpjqOAsSjymDU9QXxt9VccJY9vjU5fKjUjCuMws47jIIx9lEMoRUaXdPlPCiP9QL6Rbwxc8ZRkw6esoCus/jRnDeG6ARRy3hb2jWUs0eda9lhRLfgGYaDKBmB6llW09PeloTTlws8fvMSk/lEwh6fx14g2lng/nAIIt8j1MJkqdUf60h8KTeBl7jCWFAlwcmjcxO/Qn4kYu2Isan3rfkcYFLxo6f89h6gwmJGWSQQQb/Hf4SYABjDjkS7NbBvAAAAABJRU5ErkJggg==\", true, \"SHADOWMASK_TRIAD\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxdJREFUeNrsnDtoVEEUhr9do0YwAR9YiGJhoYIiFiJooSJoI6KFj8KIIAQRIwQsLI2IYhHBQkGxUolgowQtREEJPlAxEhstYnwQNBLQJMSYxI3xetLkce7dCUuKvfv/TLP3nHNnmG927mPOXDKwE5rgB/yC3lEl+tkNb6EGyonRDGiA3NjIcSWyXiBe1eb0Oz7+D7yExRMjK62Fw2Flg1v5reD482787uD4VuJOMBAQfTKu9w6H1d5vnB2thC9hp7iYSgDZEzaI8+oorHANGwnSTFjvGpa5Q9vTFtKo7NIwv3kwxzVMC66qzG9AgfFFDyAT7JpBmgIA6gIBEABJAARAEgABkARAACQBEABJAASgVDQsAIXpb4Fd/TU4/pt79GdwE9pTCKAPXoR5fojr6ivwOSD+DVx3DU22qJZXA1CfQgA5OAXfA9xOwyfX9g72wwOD6aoHbsNB6HDNg1Bry6Wd8ZU3W/xd11z0y0zPYDMcgTW2tjp6nsnAELTBVXiUcIonsAPmwnRvnhq0fIXBhPiIzDGog1kxc2SXpRaQTgAjg7imwFP0T+Zi4Pdyp+6CdBsqCYAASAIgAJIACIAUpjQ8iC2CA7DaMoDHPQnn4CPcgJaE+GrL3B6Id4iekK8lvPJZB8et8qEYh8j0Gs76rzuKPb17lRmSI3tgV1zvbbXH4LyVd9q7DkcLbO9CSPtrUzgFZW3jQt4E7wp7U7PQte2xAZpX8+P2N0TDf21YY6tSCGA2bArzjP4oS1xDZXBlFe7R8uD4ynRehMsm83fRXZAkAAIgCYAASAIgAJIACIAkAAIgAJIACIBUrAAKzc8fLnUAfcGuOffoq7DgIUvSdtQWnNb6NJ0A7oT5PYb3ruEy3A+Ib4CbrqE5bufCWLXCmVQCKKuzrILtiU4ttuzf7dp6YR8cgm32Ta1xM1LGxnejZRXETlbnLMO8yr5dlh07KWXtY37P4VLYRpYiBNABe22Pw/IJGxRGNji0w8PkaaLLBnF9Ic1otFKK+r+kGl0G7lmRdBsqAJIACIAkAAIgCYAASFOvfwIMAIJ7Za+ecZHPAAAAAElFTkSuQmCC\", true, \"SHADOWMASK_INLINE\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNrs0bEJgEAURMHFWGzIOmzLQqzJJkyMBDUw85DLRJzHpQv/mCzJXvf6lJqq92NxP1Tv5/u4Sz59/1kTvRoAAAAEAIAAABAAAAIAQAAACAAAAQAgAA+tAN5tAyAAAAQAgAAAEAAAAgBAAAC4/hdfaAEIAAABACAAAAQAgAAAEAAAAgBAAAAIAAABACAAAAQAgAAAEAAAujoEGADEOVdpwC68FwAAAABJRU5ErkJggg==\", true, \"SHADOWMASK_APERTURE\"),\n        this.loadTexture(\"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAABACAIAAABdtOgoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAedJREFUeNrsnL9rFEEcR9+uPwhyXBQbm1QWRsg/kcomiCCWVoLYpE5rbWehFnYWpk9lIQhCCCgKWgmCoNglCIomBs/EzVReMnd+RTj94ntMczv72f3OvpvhDpahgQvwGD7AF/j8U+s+foSXsAhTjOAo3IfBcHJf63pvMpqr5aSt0flv8ARmDib7kL1+LsE27P6qXR9192uBcNe+ludUYQ7exS5xqzqA7PXzLJbegLPVApZj+a7dqOYvhvOvqgPIXn97mhAn4US14xBRDlePtn+Yz15/24QvED9zkmSvv0UUoABRgAJEAQoQBShAFKAAUYACRAEK+NfZTP70N7MLGCQXMHAJcglSgChAAaIABYgCFCAKUIAoQAFWP7H6cw+hl1xAzyXISawAUYACRAEKEAUoQBSgAFGAAkQBCpAcAnbCZ+7+xtHJ8bfrb+Ov2NffBX8aC3+H59WON7Aeu8Rq9Wj2+rkT2+7pEUxX8z14EMjfGzPZlgL513DmYLKfv/7mFNyFhbHuXsCVsjlYneOl+1zZk2rfjG7K92OlDGBrzB3Ow+WyrV07PKnbEluD2/C2OoBjyevf20aqG8M8zMKR4XRTZt57eBieZhOmG8Cn5PXnpp+/fn+G+j9AAaIABYgCFCAK+P/4IcAAEwdyjgWX2v0AAAAASUVORK5CYII=\", true, \"SHADOWMASK_LCD\"),\n        this.loadTexture(\"data:image/jpeg;base64,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\", true, \"SHADOWMASK_BAYER\"),\n      ]);\n    }\n\n    async loadTexture(path, isMipMap, name) {\n      const gl = this.gl;\n      const texInfo = this.textures[name];\n      const image = await loadImage(path);\n      gl.bindTexture(gl.TEXTURE_2D, texInfo.glTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,\n                    gl.RGBA, gl.UNSIGNED_BYTE, image);\n      if (isMipMap) {\n        gl.generateMipmap(gl.TEXTURE_2D);\n      }\n\n      texInfo.width = image.naturalWidth;\n      texInfo.height = image.naturalHeight;\n    }\n\n    loadShaders() {\n      this.loadShader(\"COMPOSITE\", COMPOSITE_SHADER, VERTEX_RENDER_SHADER);\n      this.loadShader(\"RGB\", RGB_SHADER, VERTEX_RENDER_SHADER);\n      this.loadShader(\"DISPLAY\", DISPLAY_SHADER, VERTEX_DISPLAY_SHADER);\n    }\n\n    loadShader(name, fragmentSource, vertexSource) {\n      const glVertexShader = createShader(this.gl, name, this.gl.VERTEX_SHADER, vertexSource);\n      const glFragmentShader = createShader(this.gl, name, this.gl.FRAGMENT_SHADER,\n\t\t\t\t\t    fragmentSource);\n      const glProgram = createProgram(this.gl, name, glVertexShader, glFragmentShader);\n      this.gl.deleteShader(glVertexShader);\n      this.gl.deleteShader(glFragmentShader);\n      this.shaders[name] = glProgram;\n    }\n\n    deleteShaders() {\n      for (let name of SHADER_NAMES) {\n        if (this.shaders[name]) {\n          this.gl.deleteProgram(this.shaders[name]);\n          this.shaders[name] = false;\n        }\n      }\n    }\n\n    vsync() {\n      const gl = this.gl;\n      resizeCanvas(this.canvas);\n      const canvasWidth = this.canvas.width;\n      const canvasHeight = this.canvas.height;\n\n      // if viewport size has changed:\n      if ((this.viewportSize.width != canvasWidth)\n          || (this.viewportSize.height != this.canvasHeight)) {\n        this.viewportSize = new Size(canvasWidth, canvasHeight);\n        gl.viewport(0, 0, canvasWidth, canvasHeight);\n        this.configurationChanged = true;\n      }\n\n      if (this.imageChanged) {\n        this.uploadImage();\n      }\n\n      if (this.configurationChanged) {\n        this.configureShaders();\n      }\n\n      if (this.imageChanged || this.configurationChanged) {\n        this.renderImage();\n      }\n\n      if (this.imageChanged || this.configurationChanged ||\n          this.image.displayPersistence != 0) {\n        this.drawDisplayCanvas();\n      }\n\n      this.imageChanged = false;\n      this.configurationChanged = false;\n    }\n\n    uploadImage() {\n      const gl = this.gl;\n      const image = this.image;\n\n      this.resizeTexture(\"IMAGE_IN\", image.width, image.height, true);\n      const texInfoImage = this.textures[\"IMAGE_IN\"];\n      gl.bindTexture(gl.TEXTURE_2D, texInfoImage.glTexture);\n      const format = gl.LUMINANCE;\n      const type = gl.UNSIGNED_BYTE;\n      const luminance = luminanceData(image.data);\n      gl.texSubImage2D(gl.TEXTURE_2D, 0,\n                       0, 0, // xoffset, yoffset\n                       image.data.width,\n                       image.data.height,\n                       format, type, luminance);\n\n      // Update configuration\n      if ((image.sampleRate != this.imageSampleRate) ||\n          (image.blackLevel != this.imageBlackLevel) ||\n          (image.whiteLevel != this.imageWhiteLevel) ||\n          (image.subCarrier != this.imageSubcarrier))\n      {\n        this.imageSampleRate = image.sampleRate;\n        this.imageBlackLevel = image.blackLevel;\n        this.imageWhiteLevel = image.whiteLevel;\n        this.imageSubcarrier = image.subCarrier;\n\n        this.configurationChanged = true;\n      }\n\n      // Upload phase info\n      const texHeight = 2**Math.ceil(Math.log2(image.height));\n      const colorBurst = image.colorBurst\n      const phaseAlternation = image.phaseAlternation;\n\n      const phaseInfo = new Float32Array(3 * texHeight);\n\n      for (let x = 0; x < image.height; x++) {\n        const c = colorBurst[x % colorBurst.length] / 2 / Math.PI;\n        phaseInfo[3 * x + 0] = c - Math.floor(c);\n        phaseInfo[3 * x + 1] = phaseAlternation[x % phaseAlternation.length];\n      }\n\n      const texInfoPhase = this.textures[\"IMAGE_PHASEINFO\"];\n      gl.bindTexture(gl.TEXTURE_2D, texInfoPhase.glTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGB, 1, texHeight, 0,\n                    gl.RGB, gl.FLOAT, phaseInfo);\n    }\n\n    getRenderShader() {\n      switch (this.display.videoDecoder) {\n      case \"CANVAS_RGB\":\n      case \"CANVAS_MONOCHROME\":\n        return [this.shaders[\"RGB\"], \"RGB\"];\n      case \"CANVAS_YUV\":\n      case \"CANVAS_YIQ\":\n      case \"CANVAS_CXA2025AS\":\n        return [this.shaders[\"COMPOSITE\"], \"COMPOSITE\"];\n      }\n      const decoder = this.display.videoDecoder;\n      throw new Error(`unknown displayConfiguration.videoDecoder: ${decoder}`);\n    }\n\n    configureShaders() {\n      const gl = this.gl;\n\n      const [renderShader, renderShaderName] = this.getRenderShader();\n      const displayShader = this.shaders[\"DISPLAY\"];\n\n      const isCompositeDecoder = (renderShaderName == \"COMPOSITE\");\n\n      // Render shader\n      gl.useProgram(renderShader);\n\n      // Subcarrier\n      if (isCompositeDecoder) {\n        gl.uniform1f(gl.getUniformLocation(renderShader, \"subcarrier\"),\n                     this.imageSubcarrier / this.imageSampleRate);\n      }\n\n      // Filters\n      const w = Vector.chebyshevWindow(17, 50).normalize();\n\n      let wy, wu, wv;\n\n      const bandwidth = this.display.videoBandwidth / this.imageSampleRate;\n\n      if (isCompositeDecoder) {\n        let yBandwidth = this.display.videoLumaBandwidth / this.imageSampleRate;\n        let uBandwidth = this.display.videoChromaBandwidth / this.imageSampleRate;\n        let vBandwidth = uBandwidth;\n\n        if (this.display.videoDecoder == \"CANVAS_YIQ\")\n          uBandwidth = uBandwidth + NTSC_IQ_DELTA / this.imageSampleRate;\n\n        // Switch to video bandwidth when no subcarrier\n        if ((this.imageSubcarrier == 0.0) || this.display.videoWhiteOnly)\n        {\n            yBandwidth = bandwidth;\n            uBandwidth = bandwidth;\n            vBandwidth = bandwidth;\n        }\n\n        wy = w.mul(Vector.lanczosWindow(17, yBandwidth));\n        wy = wy.normalize();\n\n        wu = w.mul(Vector.lanczosWindow(17, uBandwidth));\n        wu = wu.normalize().mul(2);\n\n        wv = w.mul(Vector.lanczosWindow(17, vBandwidth));\n        wv = wv.normalize().mul(2);\n      } else {\n        wy = w.mul(Vector.lanczosWindow(17, bandwidth));\n        wu = wv = wy = wy.normalize();\n      }\n\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c0\"),\n                   wy.data[8], wu.data[8], wv.data[8]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c1\"),\n                   wy.data[7], wu.data[7], wv.data[7]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c2\"),\n                   wy.data[6], wu.data[6], wv.data[6]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c3\"),\n                   wy.data[5], wu.data[5], wv.data[5]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c4\"),\n                   wy.data[4], wu.data[4], wv.data[4]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c5\"),\n                   wy.data[3], wu.data[3], wv.data[3]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c6\"),\n                   wy.data[2], wu.data[2], wv.data[2]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c7\"),\n                   wy.data[1], wu.data[1], wv.data[1]);\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"c8\"),\n                   wy.data[0], wu.data[0], wv.data[0]);\n\n      // Decoder matrix\n      let decoderMatrix = new Matrix3(1, 0, 0,\n                                      0, 1, 0,\n                                      0, 0, 1);\n\n      // Encode\n      if (!isCompositeDecoder) {\n        // Y'PbPr encoding matrix\n        decoderMatrix = new Matrix3(0.299, -0.168736, 0.5,\n                                    0.587, -0.331264, -0.418688,\n                                    0.114, 0.5, -0.081312).mul(decoderMatrix);\n      }\n\n      // Set hue\n      if (this.display.videoDecoder == \"CANVAS_MONOCHROME\")\n        decoderMatrix = new Matrix3(1, 0.5, 0,\n                                    0, 0, 0,\n                                    0, 0, 0).mul(decoderMatrix);\n\n      // Disable color decoding when no subcarrier\n      if (isCompositeDecoder)\n      {\n        if ((this.imageSubcarrier == 0.0) || this.display.videoWhiteOnly) {\n          decoderMatrix = new Matrix3(1, 0, 0,\n                                      0, 0, 0,\n                                      0, 0, 0).mul(decoderMatrix);\n        }\n      }\n\n      // Saturation\n      decoderMatrix = new Matrix3(1, 0, 0,\n                                  0, this.display.videoSaturation, 0,\n                                  0, 0, this.display.videoSaturation).mul(decoderMatrix);\n\n      // Hue\n      let hue = 2 * Math.PI * this.display.videoHue;\n\n      decoderMatrix = new Matrix3(1, 0, 0,\n                                  0, Math.cos(hue), -Math.sin(hue),\n                                  0, Math.sin(hue), Math.cos(hue)).mul(decoderMatrix);\n\n      // Decode\n      switch (this.display.videoDecoder) {\n      case \"CANVAS_RGB\":\n      case \"CANVAS_MONOCHROME\":\n        // Y'PbPr decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    0, -0.344136, 1.772,\n                                    1.402, -0.714136, 0).mul(decoderMatrix);\n        break;\n\n      case \"CANVAS_YUV\":\n      case \"CANVAS_YIQ\":\n        // Y'UV decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    0, -0.394642, 2.032062,\n                                    1.139883, -0.580622, 0).mul(decoderMatrix);\n        break;\n\n      case \"CANVAS_CXA2025AS\":\n        // Exchange I and Q\n        decoderMatrix = new Matrix3(1, 0, 0,\n                                    0, 0, 1,\n                                    0, 1, 0).mul(decoderMatrix);\n\n        // Rotate 33 degrees\n        hue = -Math.PI * 33 / 180;\n        decoderMatrix = new Matrix3(1, 0, 0,\n                                    0, Math.cos(hue), -Math.sin(hue),\n                                    0, Math.sin(hue), Math.cos(hue)).mul(decoderMatrix);\n\n        // CXA2025AS decoder matrix\n        decoderMatrix = new Matrix3(1, 1, 1,\n                                    1.630, -0.378, -1.089,\n                                    0.317, -0.466, 1.677).mul(decoderMatrix);\n        break;\n      default:\n        throw new Error(`unknown videoDecoder: ${this.display.videoDecoder}`);\n      }\n\n      // Brightness\n      const brightness = this.display.videoBrightness - this.imageBlackLevel;\n      let decoderOffset;\n\n      if (isCompositeDecoder)\n        decoderOffset = decoderMatrix.mul(new Matrix3(brightness, 0, 0,\n                                                      0, 0, 0,\n                                                      0, 0, 0));\n      else\n        decoderOffset = decoderMatrix.mul(new Matrix3(brightness, 0, 0,\n                                                      brightness, 0, 0,\n                                                      brightness, 0, 0));\n\n      gl.uniform3f(gl.getUniformLocation(renderShader, \"decoderOffset\"),\n                   decoderOffset.at(0, 0),\n                   decoderOffset.at(0, 1),\n                   decoderOffset.at(0, 2));\n\n      // Contrast\n      let contrast = this.display.videoContrast;\n\n      const videoLevel = (this.imageWhiteLevel - this.imageBlackLevel);\n      if (videoLevel > 0)\n        contrast /= videoLevel;\n      else\n        contrast = 0;\n\n      if (contrast < 0)\n        contrast = 0;\n\n      decoderMatrix = decoderMatrix.mul(contrast);\n\n      gl.uniformMatrix3fv(gl.getUniformLocation(renderShader, \"decoderMatrix\"),\n                          false, decoderMatrix.data);\n\n      // Display shader\n      gl.useProgram(displayShader);\n\n      // Barrel\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"barrel\"),\n                   this.display.displayBarrel);\n\n      // Shadow mask\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"shadowMask\"), 1);\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"shadowMaskLevel\"),\n                   this.display.displayShadowMaskLevel);\n\n      // Persistence\n      const frameRate = 60;\n\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"persistenceLevel\"),\n                   this.display.displayPersistence /\n                   (1.0 / frameRate + this.display.displayPersistence));\n\n      if (this.display.displayPersistence == 0)\n        this.resizeTexture(\"IMAGE_PERSISTENCE\", 0, 0);\n\n      // Center lighting\n      let centerLighting = this.display.displayCenterLighting;\n      if (Math.abs(centerLighting) < 0.001)\n        centerLighting = 0.001;\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"centerLighting\"),\n                   1.0 / centerLighting - 1);\n\n      // Luminance gain\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"luminanceGain\"),\n                   this.display.displayLuminanceGain);\n    }\n\n    renderImage() {\n      const gl = this.gl;\n      const [renderShader, renderShaderName] = this.getRenderShader();\n\n      const isCompositeDecoder = (renderShaderName == \"COMPOSITE\");\n\n      gl.useProgram(renderShader);\n\n      const texSize = this.textures[\"IMAGE_IN\"].size;\n      this.resizeTexture(\"IMAGE_DECODED\", texSize.width, texSize.height);\n\n      gl.uniform1i(gl.getUniformLocation(renderShader, \"texture\"), 0);\n      gl.uniform2f(gl.getUniformLocation(renderShader, \"textureSize\"),\n                   texSize.width, texSize.height);\n\n      if (isCompositeDecoder)\n      {\n        gl.uniform1i(gl.getUniformLocation(renderShader, \"phaseInfo\"), 1);\n\n        gl.activeTexture(gl.TEXTURE1);\n\n        gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_PHASEINFO\"].glTexture);\n\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n        gl.activeTexture(gl.TEXTURE0);\n      }\n\n      // Render to the back buffer, to avoid using FBOs\n      // (support for vanilla OpenGL 2.0 cards)\n\n      // I think webgl is rendering to the back buffer anyway, until\n      // we stop executing javascript statements and give control\n      // back, at which point it flips. So we might not need\n      // this. Although truly, I'm not certain what it's doing. If we\n      // *do* end up needing it, we'll have to go full webgl2.\n\n      // glReadBuffer(GL_BACK);\n\n      const imageSize = this.image.size;\n\n      for (let y = 0; y < this.image.height; y += this.viewportSize.height) {\n        for (let x = 0; x < this.image.width; x += this.viewportSize.width) {\n          // Calculate rects\n          const clipSize = this.viewportSize.copy();\n\n          if ((x + clipSize.width) > imageSize.width)\n            clipSize.width = imageSize.width - x;\n          if ((y + clipSize.height) > imageSize.height)\n            clipSize.height = imageSize.height - y;\n          const textureRect = new Rect(x / texSize.width,\n                                       y / texSize.height,\n                                       clipSize.width / texSize.width,\n                                       clipSize.height / texSize.height);\n          const canvasRect = new Rect(-1,\n                                      -1,\n                                      2 * clipSize.width / this.viewportSize.width,\n                                      2 * clipSize.height / this.viewportSize.height);\n\n          // Render\n          gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_IN\"].glTexture);\n\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n          // What is this, some ancient fixed pipeline nonsense? No way.\n          // glLoadIdentity();\n\n\t  this.drawRectangle(renderShader, canvasRect, textureRect);\n\n\t  // Copy framebuffer\n\t  gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_DECODED\"].glTexture);\n\n\t  gl.copyTexSubImage2D(gl.TEXTURE_2D, 0,\n\t\t\t     x, y, 0, 0,\n\t\t\t     clipSize.width, clipSize.height);\n        }\n      }\n    }\n\n    drawRectangle(shader, posRect, texRect, texRect2) {\n      const gl = this.gl;\n\n      gl.clearColor(0, 0, 0, 0);\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n      const positionLocation = gl.getAttribLocation(shader, \"a_position\");\n      const texcoordLocations = [gl.getAttribLocation(shader, \"a_texCoord\")];\n      const texRects = [texRect];\n      if (texRect2) {\n\ttexcoordLocations.push(gl.getAttribLocation(shader, \"a_texCoord2\"));\n\ttexRects.push(texRect2);\n      }\n\n      const positionBuffer = this.buffers[0];\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n      const p_x1 = posRect.l;\n      const p_x2 = posRect.r;\n      const p_y1 = posRect.t;\n      const p_y2 = posRect.b;\n      gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n        p_x1, p_y1,\n        p_x2, p_y1,\n        p_x1, p_y2,\n        p_x1, p_y2,\n        p_x2, p_y1,\n        p_x2, p_y2,\n      ]), gl.STATIC_DRAW);\n\n      gl.enableVertexAttribArray(positionLocation);\n      gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n      gl.vertexAttribPointer(positionLocation, 2, gl.FLOAT, false, 0, 0);\n\n      for (let i = 0; i < texRects.length; i++) {\n\tconst texcoordBuffer = this.buffers[i+1];\n\tgl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n\tconst t_x1 = texRects[i].l;\n\tconst t_x2 = texRects[i].r;\n\tconst t_y1 = texRects[i].t;\n\tconst t_y2 = texRects[i].b;\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\n          t_x1, t_y1,\n          t_x2, t_y1,\n          t_x1, t_y2,\n          t_x1, t_y2,\n          t_x2, t_y1,\n          t_x2, t_y2,\n\t]), gl.STATIC_DRAW);\n\n\tgl.enableVertexAttribArray(texcoordLocations[i]);\n\tgl.bindBuffer(gl.ARRAY_BUFFER, texcoordBuffer);\n\tgl.vertexAttribPointer(texcoordLocations[i], 2, gl.FLOAT, false, 0, 0);\n      }\n\n      gl.drawArrays(gl.TRIANGLES, 0, 6);\n    }\n\n    drawDisplayCanvas() {\n      const gl = this.gl;\n\n      const displayShader = this.shaders[\"DISPLAY\"];\n\n      // Clear\n      // (Moved inside drawRectangle)\n      // gl.clearColor(0, 0, 0, 1);\n      // gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n\n      if (this.image.width == 0 || this.image.height == 0) {\n\tthis.resizeTexture(\"IMAGE_PERSISTENCE\", 0, 0);\n\treturn;\n      }\n\n      // Grab common variables\n      const displayResolution = this.display.displayResolution;\n\n      // Vertex rect\n      const vertexRect = new Rect(-1, -1, 2, 2);\n\n      const viewportAspectRatio = this.viewportSize.ratio;\n      const displayAspectRatio = displayResolution.ratio;\n\n      const ratio = viewportAspectRatio / displayAspectRatio;\n\n      if (ratio > 1) {\n\tvertexRect.origin.x /= ratio;\n\tvertexRect.size.width /= ratio;\n      } else {\n\tvertexRect.origin.y *= ratio;\n\tvertexRect.size.height *= ratio;\n      }\n\n      // Base texture rect\n      const baseTexRect = new Rect(0, 0, 1, 1);\n\n      // Canvas texture rect\n      const interlaceShift = this.image.interlace / this.image.height;\n\n      const canvasTexLowerLeft = this.getDisplayCanvasTexPoint(\n\tnew Point(-1, -1 + 2 * interlaceShift));\n      const canvasTexUpperRight = this.getDisplayCanvasTexPoint(\n\tnew Point(1, 1 + 2 * interlaceShift));\n\n      const canvasTexRect = new Rect(canvasTexLowerLeft.x,\n                                     canvasTexLowerLeft.y,\n                                     canvasTexUpperRight.x - canvasTexLowerLeft.x,\n                                     canvasTexUpperRight.y - canvasTexLowerLeft.y);\n\n      const canvasSize = new Size(0.5 * this.viewportSize.width *\n                                  vertexRect.size.width,\n                                  0.5 * this.viewportSize.height *\n                                  vertexRect.size.height);\n\n      const canvasVideoSize = new Size(canvasSize.width *\n                                       this.display.videoSize.width,\n                                       canvasSize.height *\n                                       this.display.videoSize.height);\n\n      let barrelTexRect;\n\n      // Render\n      const texture = this.textures[\"IMAGE_DECODED\"];\n\n      // Set uniforms\n      gl.useProgram(displayShader);\n\n      // Texture\n      const texSize = texture.size;\n\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"texture\"), 0);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"textureSize\"),\n                   texSize.width, texSize.height);\n\n      // Barrel\n      barrelTexRect = new Rect(-0.5, -0.5 / displayAspectRatio,\n                               1.0, 1.0 / displayAspectRatio);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"barrelSize\"),\n                   1, 1.0 / displayAspectRatio);\n\n      // Scanlines\n      const scanlineHeight = canvasVideoSize.height / this.image.height;\n      let scanlineLevel = this.display.displayScanlineLevel;\n\n      scanlineLevel = ((scanlineHeight > 2.5) ? scanlineLevel :\n                       (scanlineHeight < 2) ? 0 :\n                       (scanlineHeight - 2) / (2.5 - 2) * scanlineLevel);\n\n      gl.uniform1f(gl.getUniformLocation(displayShader, \"scanlineLevel\"), scanlineLevel);\n\n      // Shadow mask\n      let shadowMaskTexture;\n      let shadowMaskAspectRatio;\n      switch (this.display.displayShadowMask)\n      {\n        case \"SHADOWMASK_TRIAD\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_TRIAD\"];\n          shadowMaskAspectRatio = 2 / (274.0 / 240.0);\n          break;\n        case \"SHADOWMASK_INLINE\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_INLINE\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_APERTURE\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_APERTURE\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_LCD\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_LCD\"];\n          shadowMaskAspectRatio = 2;\n          break;\n        case \"SHADOWMASK_BAYER\":\n          shadowMaskTexture = this.textures[\"SHADOWMASK_BAYER\"];\n          shadowMaskAspectRatio = 2;\n        break;\n      }\n\n      let shadowMaskDotPitch = this.display.displayShadowMaskDotPitch;\n\n      if (shadowMaskDotPitch <= 0.001)\n        shadowMaskDotPitch = 0.001;\n\n      const shadowMaskElemX = (displayResolution.width /\n                               this.display.displayPixelDensity *\n                               25.4 * 0.5 / shadowMaskDotPitch);\n      const shadowMaskSize = new Size(shadowMaskElemX,\n                                      shadowMaskElemX * shadowMaskAspectRatio /\n                                      displayAspectRatio);\n\n      gl.activeTexture(gl.TEXTURE1);\n\n      gl.bindTexture(gl.TEXTURE_2D, shadowMaskTexture.glTexture);\n\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"shadowMaskSize\"),\n                   shadowMaskSize.width, shadowMaskSize.height);\n\n      // Persistence\n      gl.activeTexture(gl.TEXTURE2);\n\n      gl.bindTexture(gl.TEXTURE_2D, this.textures[\"IMAGE_PERSISTENCE\"].glTexture);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\n      gl.activeTexture(gl.TEXTURE0);\n\n      gl.uniform1i(gl.getUniformLocation(displayShader, \"persistence\"), 2);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"persistenceOrigin\"),\n                   this.persistenceTexRect.x, this.persistenceTexRect.y);\n      gl.uniform2f(gl.getUniformLocation(displayShader, \"persistenceSize\"),\n                   this.persistenceTexRect.width, this.persistenceTexRect.height);\n\n      // Old fixed pipeline stuff.\n      // gl.loadIdentity();\n      // gl.rotatef(180, 1, 0, 0);\n\n      gl.bindTexture(gl.TEXTURE_2D, texture.glTexture);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\n      // Render\n      this.drawRectangle(displayShader, vertexRect, canvasTexRect, baseTexRect);\n\n      // TODO(zellyn): implement\n/*\n    if (displayConfiguration.displayPersistence != 0.0)\n    {\n        updateTextureSize(OPENGLCANVAS_IMAGE_PERSISTENCE, viewportSize);\n\n        gl.bindTexture(gl.TEXTURE_2D, texture[OPENGLCANVAS_IMAGE_PERSISTENCE]);\n\n        gl.readBuffer(gl.BACK);\n\n        gl.copyTexSubImage2D(gl.TEXTURE_2D, 0,\n                            0, 0, 0, 0,\n                            viewportSize.width, viewportSize.height);\n\n        OESize persistenceTexSize = OEMakeSize(viewportSize.width /\n                                               textureSize[OPENGLCANVAS_IMAGE_PERSISTENCE].width,\n                                               viewportSize.height /\n                                               textureSize[OPENGLCANVAS_IMAGE_PERSISTENCE].height);\n        persistenceTexRect = OEMakeRect((vertexRect.origin.x + 1) * 0.5F * persistenceTexSize.width,\n                                        (vertexRect.origin.y + 1) * 0.5F * persistenceTexSize.height,\n                                        vertexRect.size.width * 0.5F * persistenceTexSize.width,\n                                        vertexRect.size.height * 0.5F * persistenceTexSize.height);\n\n        persistenceTexRect.origin.y += persistenceTexRect.size.height;\n        persistenceTexRect.size.height = -persistenceTexRect.size.height;\n    }\n*/\n\n    }\n\n    getDisplayCanvasTexPoint(p) {\n      const videoCenter = this.display.videoCenter;\n      const videoSize = this.display.videoSize;\n\n      p = new Point((p.x - 2 * videoCenter.x) / videoSize.width,\n                    (p.y - 2 * videoCenter.y) / videoSize.height);\n\n      const imageSize = this.image.size;\n      const texSize = this.textures[\"IMAGE_IN\"].size;\n\n      p.x = (p.x + 1) * 0.5 * imageSize.width / texSize.width;\n      p.y = (p.y + 1) * 0.5 * imageSize.height / texSize.height;\n\n      return p;\n    }\n\n    // Resize the texture with the given name to the next\n    // highest power of two width and height. Wouldn't be\n    // necessary with webgl2.\n    resizeTexture(name, width, height, luminance=false) {\n      const gl = this.gl;\n      const texInfo = this.textures[name];\n      if (!texInfo) {\n        throw new Error(`Cannot find texture named ${name}`);\n      }\n      if (width < 4) width = 4;\n      if (height < 4) height = 4;\n      width = 2**Math.ceil(Math.log2(width));\n      height = 2**Math.ceil(Math.log2(height));\n      if (texInfo.width != width || texInfo.height != height) {\n        texInfo.width = width;\n        texInfo.height = height;\n        gl.bindTexture(gl.TEXTURE_2D, texInfo.glTexture);\n\tconst length = width * height * (luminance ? 1 : 4);\n        const dummy = new Uint8Array(length);\n\tconst type = luminance ? gl.LUMINANCE : gl.RGBA;\n        gl.texImage2D(gl.TEXTURE_2D, 0, type, width, height, 0,\n                      type, gl.UNSIGNED_BYTE, dummy);\n      }\n    }\n  }\n\n  return {\n    C: {\n      HORIZ_START: HORIZ_START,\n      HORIZ_BLANK: HORIZ_BLANK,\n      HORIZ_DISPLAY: HORIZ_DISPLAY,\n      HORIZ_TOTAL: HORIZ_TOTAL,\n      CELL_WIDTH: CELL_WIDTH,\n      CELL_HEIGHT: CELL_HEIGHT,\n      VERT_NTSC_START: VERT_NTSC_START,\n      VERT_PAL_START: VERT_PAL_START,\n      VERT_DISPLAY: VERT_DISPLAY,\n      BLOCK_WIDTH: BLOCK_WIDTH,\n      BLOCK_HEIGHT: BLOCK_HEIGHT,\n      NTSC_I_CUTOFF: NTSC_I_CUTOFF,\n      NTSC_Q_CUTOFF: NTSC_Q_CUTOFF,\n      NTSC_IQ_DELTA: NTSC_IQ_DELTA,\n      NTSC_DETAILS: NTSC_DETAILS,\n      PAL_DETAILS: PAL_DETAILS,\n    },\n    loadImage: loadImage,\n    screenData: screenData,\n    resizeCanvas: resizeCanvas,\n    createShader: createShader,\n    createProgram: createProgram,\n\n    // Classes.\n    ScreenView: ScreenView,\n    DisplayConfiguration: DisplayConfiguration,\n    ImageInfo: ImageInfo,\n    Vector: Vector,\n    Size: Size,\n    Point: Point,\n  };\n})();\n\nif (typeof module !== 'undefined') {\n  module.exports = {\n    screenEmu: screenEmu\n  }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"dist/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t869: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkApple2\"] = self[\"webpackChunkApple2\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","const havePrefs = typeof window.localStorage !== 'undefined';\n\nexport default class Prefs {\n    params: URLSearchParams;\n\n    constructor() {\n        this.params = new URLSearchParams(window.location.search);\n    }\n\n    havePrefs() {\n        return havePrefs;\n    }\n\n    readPref(name: string): string | null\n    readPref(name: string, defaultValue: string): string\n    readPref(name: string, defaultValue: string | null = null) {\n        if (this.params.has(name)) {\n            return this.params.get(name);\n        }\n\n        if (havePrefs) {\n            return window.localStorage.getItem(name) ?? defaultValue;\n        }\n        return defaultValue;\n    }\n\n    writePref(name: string, value: string) {\n        if (havePrefs) {\n            window.localStorage.setItem(name, value);\n        }\n    }\n}\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar MicroModal = function () {\n\n  var FOCUSABLE_ELEMENTS = ['a[href]', 'area[href]', 'input:not([disabled]):not([type=\"hidden\"]):not([aria-hidden])', 'select:not([disabled]):not([aria-hidden])', 'textarea:not([disabled]):not([aria-hidden])', 'button:not([disabled]):not([aria-hidden])', 'iframe', 'object', 'embed', '[contenteditable]', '[tabindex]:not([tabindex^=\"-\"])'];\n\n  var Modal = /*#__PURE__*/function () {\n    function Modal(_ref) {\n      var targetModal = _ref.targetModal,\n          _ref$triggers = _ref.triggers,\n          triggers = _ref$triggers === void 0 ? [] : _ref$triggers,\n          _ref$onShow = _ref.onShow,\n          onShow = _ref$onShow === void 0 ? function () {} : _ref$onShow,\n          _ref$onClose = _ref.onClose,\n          onClose = _ref$onClose === void 0 ? function () {} : _ref$onClose,\n          _ref$openTrigger = _ref.openTrigger,\n          openTrigger = _ref$openTrigger === void 0 ? 'data-micromodal-trigger' : _ref$openTrigger,\n          _ref$closeTrigger = _ref.closeTrigger,\n          closeTrigger = _ref$closeTrigger === void 0 ? 'data-micromodal-close' : _ref$closeTrigger,\n          _ref$openClass = _ref.openClass,\n          openClass = _ref$openClass === void 0 ? 'is-open' : _ref$openClass,\n          _ref$disableScroll = _ref.disableScroll,\n          disableScroll = _ref$disableScroll === void 0 ? false : _ref$disableScroll,\n          _ref$disableFocus = _ref.disableFocus,\n          disableFocus = _ref$disableFocus === void 0 ? false : _ref$disableFocus,\n          _ref$awaitCloseAnimat = _ref.awaitCloseAnimation,\n          awaitCloseAnimation = _ref$awaitCloseAnimat === void 0 ? false : _ref$awaitCloseAnimat,\n          _ref$awaitOpenAnimati = _ref.awaitOpenAnimation,\n          awaitOpenAnimation = _ref$awaitOpenAnimati === void 0 ? false : _ref$awaitOpenAnimati,\n          _ref$debugMode = _ref.debugMode,\n          debugMode = _ref$debugMode === void 0 ? false : _ref$debugMode;\n\n      _classCallCheck(this, Modal);\n\n      // Save a reference of the modal\n      this.modal = document.getElementById(targetModal); // Save a reference to the passed config\n\n      this.config = {\n        debugMode: debugMode,\n        disableScroll: disableScroll,\n        openTrigger: openTrigger,\n        closeTrigger: closeTrigger,\n        openClass: openClass,\n        onShow: onShow,\n        onClose: onClose,\n        awaitCloseAnimation: awaitCloseAnimation,\n        awaitOpenAnimation: awaitOpenAnimation,\n        disableFocus: disableFocus\n      }; // Register click events only if pre binding eventListeners\n\n      if (triggers.length > 0) this.registerTriggers.apply(this, _toConsumableArray(triggers)); // pre bind functions for event listeners\n\n      this.onClick = this.onClick.bind(this);\n      this.onKeydown = this.onKeydown.bind(this);\n    }\n    /**\n     * Loops through all openTriggers and binds click event\n     * @param  {array} triggers [Array of node elements]\n     * @return {void}\n     */\n\n\n    _createClass(Modal, [{\n      key: \"registerTriggers\",\n      value: function registerTriggers() {\n        var _this = this;\n\n        for (var _len = arguments.length, triggers = new Array(_len), _key = 0; _key < _len; _key++) {\n          triggers[_key] = arguments[_key];\n        }\n\n        triggers.filter(Boolean).forEach(function (trigger) {\n          trigger.addEventListener('click', function (event) {\n            return _this.showModal(event);\n          });\n        });\n      }\n    }, {\n      key: \"showModal\",\n      value: function showModal() {\n        var _this2 = this;\n\n        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        this.activeElement = document.activeElement;\n        this.modal.setAttribute('aria-hidden', 'false');\n        this.modal.classList.add(this.config.openClass);\n        this.scrollBehaviour('disable');\n        this.addEventListeners();\n\n        if (this.config.awaitOpenAnimation) {\n          var handler = function handler() {\n            _this2.modal.removeEventListener('animationend', handler, false);\n\n            _this2.setFocusToFirstNode();\n          };\n\n          this.modal.addEventListener('animationend', handler, false);\n        } else {\n          this.setFocusToFirstNode();\n        }\n\n        this.config.onShow(this.modal, this.activeElement, event);\n      }\n    }, {\n      key: \"closeModal\",\n      value: function closeModal() {\n        var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var modal = this.modal;\n        this.modal.setAttribute('aria-hidden', 'true');\n        this.removeEventListeners();\n        this.scrollBehaviour('enable');\n\n        if (this.activeElement && this.activeElement.focus) {\n          this.activeElement.focus();\n        }\n\n        this.config.onClose(this.modal, this.activeElement, event);\n\n        if (this.config.awaitCloseAnimation) {\n          var openClass = this.config.openClass; // <- old school ftw\n\n          this.modal.addEventListener('animationend', function handler() {\n            modal.classList.remove(openClass);\n            modal.removeEventListener('animationend', handler, false);\n          }, false);\n        } else {\n          modal.classList.remove(this.config.openClass);\n        }\n      }\n    }, {\n      key: \"closeModalById\",\n      value: function closeModalById(targetModal) {\n        this.modal = document.getElementById(targetModal);\n        if (this.modal) this.closeModal();\n      }\n    }, {\n      key: \"scrollBehaviour\",\n      value: function scrollBehaviour(toggle) {\n        if (!this.config.disableScroll) return;\n        var body = document.querySelector('body');\n\n        switch (toggle) {\n          case 'enable':\n            Object.assign(body.style, {\n              overflow: ''\n            });\n            break;\n\n          case 'disable':\n            Object.assign(body.style, {\n              overflow: 'hidden'\n            });\n            break;\n        }\n      }\n    }, {\n      key: \"addEventListeners\",\n      value: function addEventListeners() {\n        this.modal.addEventListener('touchstart', this.onClick);\n        this.modal.addEventListener('click', this.onClick);\n        document.addEventListener('keydown', this.onKeydown);\n      }\n    }, {\n      key: \"removeEventListeners\",\n      value: function removeEventListeners() {\n        this.modal.removeEventListener('touchstart', this.onClick);\n        this.modal.removeEventListener('click', this.onClick);\n        document.removeEventListener('keydown', this.onKeydown);\n      }\n    }, {\n      key: \"onClick\",\n      value: function onClick(event) {\n        if (event.target.hasAttribute(this.config.closeTrigger)) {\n          this.closeModal(event);\n        }\n      }\n    }, {\n      key: \"onKeydown\",\n      value: function onKeydown(event) {\n        if (event.keyCode === 27) this.closeModal(event); // esc\n\n        if (event.keyCode === 9) this.retainFocus(event); // tab\n      }\n    }, {\n      key: \"getFocusableNodes\",\n      value: function getFocusableNodes() {\n        var nodes = this.modal.querySelectorAll(FOCUSABLE_ELEMENTS);\n        return Array.apply(void 0, _toConsumableArray(nodes));\n      }\n      /**\n       * Tries to set focus on a node which is not a close trigger\n       * if no other nodes exist then focuses on first close trigger\n       */\n\n    }, {\n      key: \"setFocusToFirstNode\",\n      value: function setFocusToFirstNode() {\n        var _this3 = this;\n\n        if (this.config.disableFocus) return;\n        var focusableNodes = this.getFocusableNodes(); // no focusable nodes\n\n        if (focusableNodes.length === 0) return; // remove nodes on whose click, the modal closes\n        // could not think of a better name :(\n\n        var nodesWhichAreNotCloseTargets = focusableNodes.filter(function (node) {\n          return !node.hasAttribute(_this3.config.closeTrigger);\n        });\n        if (nodesWhichAreNotCloseTargets.length > 0) nodesWhichAreNotCloseTargets[0].focus();\n        if (nodesWhichAreNotCloseTargets.length === 0) focusableNodes[0].focus();\n      }\n    }, {\n      key: \"retainFocus\",\n      value: function retainFocus(event) {\n        var focusableNodes = this.getFocusableNodes(); // no focusable nodes\n\n        if (focusableNodes.length === 0) return;\n        /**\n         * Filters nodes which are hidden to prevent\n         * focus leak outside modal\n         */\n\n        focusableNodes = focusableNodes.filter(function (node) {\n          return node.offsetParent !== null;\n        }); // if disableFocus is true\n\n        if (!this.modal.contains(document.activeElement)) {\n          focusableNodes[0].focus();\n        } else {\n          var focusedItemIndex = focusableNodes.indexOf(document.activeElement);\n\n          if (event.shiftKey && focusedItemIndex === 0) {\n            focusableNodes[focusableNodes.length - 1].focus();\n            event.preventDefault();\n          }\n\n          if (!event.shiftKey && focusableNodes.length > 0 && focusedItemIndex === focusableNodes.length - 1) {\n            focusableNodes[0].focus();\n            event.preventDefault();\n          }\n        }\n      }\n    }]);\n\n    return Modal;\n  }();\n  /**\n   * Modal prototype ends.\n   * Here on code is responsible for detecting and\n   * auto binding event handlers on modal triggers\n   */\n  // Keep a reference to the opened modal\n\n\n  var activeModal = null;\n  /**\n   * Generates an associative array of modals and it's\n   * respective triggers\n   * @param  {array} triggers     An array of all triggers\n   * @param  {string} triggerAttr The data-attribute which triggers the module\n   * @return {array}\n   */\n\n  var generateTriggerMap = function generateTriggerMap(triggers, triggerAttr) {\n    var triggerMap = [];\n    triggers.forEach(function (trigger) {\n      var targetModal = trigger.attributes[triggerAttr].value;\n      if (triggerMap[targetModal] === undefined) triggerMap[targetModal] = [];\n      triggerMap[targetModal].push(trigger);\n    });\n    return triggerMap;\n  };\n  /**\n   * Validates whether a modal of the given id exists\n   * in the DOM\n   * @param  {number} id  The id of the modal\n   * @return {boolean}\n   */\n\n\n  var validateModalPresence = function validateModalPresence(id) {\n    if (!document.getElementById(id)) {\n      console.warn(\"MicroModal: \\u2757Seems like you have missed %c'\".concat(id, \"'\"), 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'ID somewhere in your code. Refer example below to resolve it.');\n      console.warn(\"%cExample:\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', \"<div class=\\\"modal\\\" id=\\\"\".concat(id, \"\\\"></div>\"));\n      return false;\n    }\n  };\n  /**\n   * Validates if there are modal triggers present\n   * in the DOM\n   * @param  {array} triggers An array of data-triggers\n   * @return {boolean}\n   */\n\n\n  var validateTriggerPresence = function validateTriggerPresence(triggers) {\n    if (triggers.length <= 0) {\n      console.warn(\"MicroModal: \\u2757Please specify at least one %c'micromodal-trigger'\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', 'data attribute.');\n      console.warn(\"%cExample:\", 'background-color: #f8f9fa;color: #50596c;font-weight: bold;', \"<a href=\\\"#\\\" data-micromodal-trigger=\\\"my-modal\\\"></a>\");\n      return false;\n    }\n  };\n  /**\n   * Checks if triggers and their corresponding modals\n   * are present in the DOM\n   * @param  {array} triggers   Array of DOM nodes which have data-triggers\n   * @param  {array} triggerMap Associative array of modals and their triggers\n   * @return {boolean}\n   */\n\n\n  var validateArgs = function validateArgs(triggers, triggerMap) {\n    validateTriggerPresence(triggers);\n    if (!triggerMap) return true;\n\n    for (var id in triggerMap) {\n      validateModalPresence(id);\n    }\n\n    return true;\n  };\n  /**\n   * Binds click handlers to all modal triggers\n   * @param  {object} config [description]\n   * @return void\n   */\n\n\n  var init = function init(config) {\n    // Create an config object with default openTrigger\n    var options = Object.assign({}, {\n      openTrigger: 'data-micromodal-trigger'\n    }, config); // Collects all the nodes with the trigger\n\n    var triggers = _toConsumableArray(document.querySelectorAll(\"[\".concat(options.openTrigger, \"]\"))); // Makes a mappings of modals with their trigger nodes\n\n\n    var triggerMap = generateTriggerMap(triggers, options.openTrigger); // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateArgs(triggers, triggerMap) === false) return; // For every target modal creates a new instance\n\n    for (var key in triggerMap) {\n      var value = triggerMap[key];\n      options.targetModal = key;\n      options.triggers = _toConsumableArray(value);\n      activeModal = new Modal(options); // eslint-disable-line no-new\n    }\n  };\n  /**\n   * Shows a particular modal\n   * @param  {string} targetModal [The id of the modal to display]\n   * @param  {object} config [The configuration object to pass]\n   * @return {void}\n   */\n\n\n  var show = function show(targetModal, config) {\n    var options = config || {};\n    options.targetModal = targetModal; // Checks if modals and triggers exist in dom\n\n    if (options.debugMode === true && validateModalPresence(targetModal) === false) return; // clear events in case previous modal wasn't close\n\n    if (activeModal) activeModal.removeEventListeners(); // stores reference to active modal\n\n    activeModal = new Modal(options); // eslint-disable-line no-new\n\n    activeModal.showModal();\n  };\n  /**\n   * Closes the active modal\n   * @param  {string} targetModal [The id of the modal to close]\n   * @return {void}\n   */\n\n\n  var close = function close(targetModal) {\n    targetModal ? activeModal.closeModalById(targetModal) : activeModal.closeModal();\n  };\n\n  return {\n    init: init,\n    show: show,\n    close: close\n  };\n}();\nwindow.MicroModal = MicroModal;\n\nexport default MicroModal;\n","import { memory } from './types';\n\nconst B64 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n/** Encode an array of bytes in base64. */\nexport function base64_encode(data: null | undefined): undefined;\nexport function base64_encode(data: memory): string;\nexport function base64_encode(data: memory | null | undefined): string | undefined {\n    // Twacked by Will Scullin to handle arrays of 'bytes'\n\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Bayron Guevara\n    // +   improved by: Thunder.m\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // -    depends on: utf8_encode\n    // *     example 1: base64_encode('Kevin van Zonneveld');\n    // *     returns 1: 'S2V2aW4gdmFuIFpvbm5ldmVsZA=='\n\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    //if (typeof this.window['atob'] == 'function') {\n    //    return atob(data);\n    //}\n\n\n    let o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0, enc='';\n    const tmp_arr = [];\n\n    if (!data) {\n        return undefined;\n    }\n\n    do { // pack three octets into four hexets\n        o1 = data[i++];\n        o2 = data[i++];\n        o3 = data[i++];\n\n        bits = o1<<16 | o2<<8 | o3;\n\n        h1 = bits>>18 & 0x3f;\n        h2 = bits>>12 & 0x3f;\n        h3 = bits>>6 & 0x3f;\n        h4 = bits & 0x3f;\n\n        // use hexets to index into b64, and append result to encoded string\n        tmp_arr[ac++] = B64.charAt(h1) + B64.charAt(h2) + B64.charAt(h3) + B64.charAt(h4);\n    } while (i < data.length);\n\n    enc = tmp_arr.join('');\n\n    switch (data.length % 3) {\n        case 1:\n            enc = enc.slice(0, -2) + '==';\n            break;\n        case 2:\n            enc = enc.slice(0, -1) + '=';\n            break;\n    }\n\n    return enc;\n}\n\n/** Returns undefined if the input is null or undefined. */\nexport function base64_decode(data: null | undefined): undefined;\n/** Returns an array of bytes from the given base64-encoded string. */\nexport function base64_decode(data: string): memory;\n/** Returns an array of bytes from the given base64-encoded string. */\nexport function base64_decode(data: string | null | undefined): memory | undefined {\n    // Twacked by Will Scullin to handle arrays of 'bytes'\n\n    // http://kevin.vanzonneveld.net\n    // +   original by: Tyler Akins (http://rumkin.com)\n    // +   improved by: Thunder.m\n    // +      input by: Aman Gupta\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +   bugfixed by: Onno Marsman\n    // +   bugfixed by: Pellentesque Malesuada\n    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // +      input by: Brett Zamir (http://brett-zamir.me)\n    // +   bugfixed by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)\n    // -    depends on: utf8_decode\n    // *     example 1: base64_decode('S2V2aW4gdmFuIFpvbm5ldmVsZA==');\n    // *     returns 1: 'Kevin van Zonneveld'\n\n    // mozilla has this native\n    // - but breaks in 2.0.0.12!\n    //if (typeof this.window['btoa'] == 'function') {\n    //    return btoa(data);\n    //}\n\n    let o1, o2, o3, h1, h2, h3, h4, bits, i = 0, ac = 0;\n    const tmp_arr = [];\n\n    if (!data) {\n        return undefined;\n    }\n\n    do {  // unpack four hexets into three octets using index points in B64\n        h1 = B64.indexOf(data.charAt(i++));\n        h2 = B64.indexOf(data.charAt(i++));\n        h3 = B64.indexOf(data.charAt(i++));\n        h4 = B64.indexOf(data.charAt(i++));\n\n        bits = h1<<18 | h2<<12 | h3<<6 | h4;\n\n        o1 = bits>>16 & 0xff;\n        o2 = bits>>8 & 0xff;\n        o3 = bits & 0xff;\n\n        tmp_arr[ac++] = o1;\n        if (h3 != 64) {\n            tmp_arr[ac++] = o2;\n        }\n        if (h4 != 64) {\n            tmp_arr[ac++] = o3;\n        }\n    } while (i < data.length);\n\n    return new Uint8Array(tmp_arr);\n}\n\nconst DATA_URL_PREFIX = 'data:application/octet-stream;base64,';\n\nexport function base64_json_parse(json: string) {\n    const reviver = (_key: string, value: any) => {\n        if (typeof value ==='string' && value.startsWith(DATA_URL_PREFIX)) {\n            return base64_decode(value.slice(DATA_URL_PREFIX.length));\n        }\n        return value;\n    };\n\n    return JSON.parse(json, reviver);\n}\n\nexport function base64_json_stringify(json: any) {\n    const replacer = (_key: string, value: any) => {\n        if (value instanceof Uint8Array) {\n            return DATA_URL_PREFIX + base64_encode(value);\n        }\n        return value;\n    };\n\n    return JSON.stringify(json, replacer);\n}\n","import Prefs from '../prefs';\nimport MicroModal from 'micromodal';\n\nexport const BOOLEAN_OPTION = 'BOOLEAN_OPTION';\nexport const SELECT_OPTION = 'SELECT_OPTION';\n\nexport interface Option {\n    name: string\n    label: string\n    type: string\n    defaultVal: string | boolean\n}\n\nexport interface BooleanOption extends Option {\n    type: typeof BOOLEAN_OPTION\n    defaultVal: boolean\n}\n\nexport interface SelectOption extends Option {\n    type: typeof SELECT_OPTION\n    defaultVal: string\n    values: Array<{name: string, value: string}>\n}\n\nexport interface OptionSection {\n    name: string\n    options: Option[]\n}\n\nexport interface OptionHandler {\n    getOptions: () => OptionSection[]\n    setOption: (name: string, value: string | boolean) => void\n}\n\nexport class OptionsModal {\n    private prefs: Prefs = new Prefs();\n    private options: Record<string, Option> = {};\n    private handlers: Record<string, OptionHandler> = {};\n    private sections: OptionSection[] = [];\n\n    addOptions(handler: OptionHandler) {\n        const sections = handler.getOptions();\n        for (const section of sections) {\n            const { options } = section;\n            for (const option of options) {\n                const { name } = option;\n                this.handlers[name] = handler;\n                this.options[name] = option;\n                const value = this.getOption(name);\n                if (value != null) {\n                    handler.setOption(name, value);\n                }\n            }\n            this.sections.push(section);\n        }\n    }\n\n    getOption(name: string): string | boolean | undefined {\n        const option = this.options[name];\n        if (option) {\n            const { name, defaultVal, type } = option;\n            const stringVal = String(defaultVal);\n            const prefVal = this.prefs.readPref(name, stringVal);\n            switch (type) {\n                case BOOLEAN_OPTION:\n                    return prefVal === 'true';\n                default:\n                    return prefVal;\n            }\n        }\n    }\n\n    setOption(name: string, value: string | boolean) {\n        if (name in this.options) {\n            const handler = this.handlers[name];\n            const option = this.options[name];\n            this.prefs.writePref(name, String(value));\n            switch (option.type) {\n                case BOOLEAN_OPTION:\n                    handler.setOption(name, Boolean(value));\n                    break;\n                default:\n                    handler.setOption(name, String(value));\n            }\n        }\n    }\n\n    openModal = () => {\n        const content = document.querySelector('#options-modal-content');\n        if (content) {\n            content.innerHTML = '';\n            for (const section of this.sections) {\n                const { name, options } = section;\n\n                // Section header\n                const header = document.createElement('h3');\n                header.textContent = name;\n                content.appendChild(header);\n\n                // Preferences\n                const list = document.createElement('ul');\n                for (const option of options) {\n                    const { name, label, defaultVal, type } = option;\n                    const onChange = (evt: InputEvent & { target: HTMLInputElement }) => {\n                        const { target } = evt;\n                        switch (type) {\n                            case BOOLEAN_OPTION:\n                                this.setOption(name, target.checked);\n                                break;\n                            default:\n                                this.setOption(name, target.value);\n                        }\n                    };\n\n                    const listItem = document.createElement('li');\n\n                    let element: HTMLElement;\n                    switch (type) {\n                        case BOOLEAN_OPTION:\n                            {\n                                const inputElement = document.createElement('input');\n                                const checked = this.prefs.readPref(name, String(defaultVal)) === 'true';\n                                inputElement.setAttribute('type', 'checkbox');\n                                inputElement.checked = checked;\n                                element = inputElement;\n                            }\n                            break;\n                        case SELECT_OPTION:\n                            {\n                                const selectOption = option as SelectOption;\n                                const selectElement = document.createElement('select');\n                                const selected = this.prefs.readPref(name, String(defaultVal));\n                                for (const value of selectOption.values) {\n                                    const optionElement = document.createElement('option');\n                                    optionElement.value = value.value;\n                                    optionElement.textContent = value.name;\n                                    optionElement.selected = value.value === selected;\n                                    selectElement.appendChild(optionElement);\n                                }\n                                element = selectElement;\n                            }\n                            break;\n                        default:\n                        {\n                            const inputElement = document.createElement('input');\n                            const value = this.prefs.readPref(name, String(defaultVal));\n                            inputElement.value = value;\n                            element = inputElement;\n                        }\n                    }\n                    element.id = name;\n                    element.addEventListener('change', onChange);\n                    listItem.appendChild(element);\n                    const labelElement = document.createElement('label');\n\n                    labelElement.textContent = label;\n                    labelElement.setAttribute('for', name);\n                    listItem.appendChild(labelElement);\n\n                    list.appendChild(listItem);\n                }\n                content.appendChild(list);\n            }\n            const reloadElement = document.createElement('i');\n            reloadElement.textContent = '* Reload page to take effect';\n            content.append(reloadElement);\n        } else {\n            console.error('Cannot find target div#options-modal-content');\n        }\n        MicroModal.show('options-modal');\n    };\n}\n","import { byte, memory, word } from './types';\n\n/*eslint no-console: 0*/\n\nconst hex_digits = '0123456789ABCDEF';\nconst bin_digits = '01';\n\n/** Returns a random byte. */\nexport function garbage(): byte {\n    return (Math.random() * 0x100) & 0xff;\n}\n\nexport const testables = {\n    garbage\n};\n\n/**\n * Returns an array or Uint8Array of `size` bytes filled as if the computer\n * was just powered on.\n */\nexport function allocMem(size: number) {\n    const result = new Uint8Array(size);\n\n    for (let idx = 0; idx < size; idx++) {\n        result[idx] = (idx & 0x02) ? 0x00 : 0xff;\n    }\n    // Borrowed from AppleWin (https://github.com/AppleWin/AppleWin)\n    for (let idx = 0; idx < size; idx += 0x200) {\n        result[idx + 0x28] = garbage();\n        result[idx + 0x29] = garbage();\n        result[idx + 0x68] = garbage();\n        result[idx + 0x69] = garbage();\n    }\n    return result;\n}\n\n/** Returns an array or Uint8Array of 256 * `pages` bytes. */\nexport function allocMemPages(pages: number): memory {\n    return allocMem(pages << 8);\n}\n\n/** Returns a new Uint8Array for the input array. */\nexport function bytify(ary: number[]): memory {\n    return new Uint8Array(ary);\n}\n\n/** Writes to the console. */\nexport function debug(...args: any[]): void {\n    console.log.apply(console, args);\n}\n\n/**\n * Returns a string of hex digits (all caps).\n * @param v the value to encode\n * @param n the number of nibbles. If `n` is missing, it is guessed from the value\n *     of `v`. If `v` < 256, it is assumed to be 2 nibbles, otherwise 4.\n */\nexport function toHex(v: byte | word | number, n?: number) {\n    if (!n) {\n        n = v < 256 ? 2 : 4;\n    }\n    let result = '';\n    for (let idx = 0; idx < n; idx++) {\n        result = hex_digits[v & 0x0f] + result;\n        v >>= 4;\n    }\n    return result;\n}\n\n/**\n * Returns a string of 8 binary digits.\n * @param v the value to encode\n */\nexport function toBinary(v: byte) {\n    let result = '';\n    for (let idx = 0; idx < 8; idx++) {\n        result = bin_digits[v & 0x01] + result;\n        v >>= 1;\n    }\n    return result;\n}\n\n/** Packs a 32-bit integer into a string in little-endian order. */\nexport function numToString(num: number) {\n    let result = '';\n    for (let idx = 0; idx < 4; idx++) {\n        result += String.fromCharCode(num & 0xff);\n        num >>= 8;\n    }\n    return result;\n}\n","import { BOOLEAN_OPTION, OptionHandler } from './options_modal';\nimport Apple2IO from '../apple2io';\nimport { debug } from '../util';\n\n/*\n * Audio Handling\n */\n\nconst QUANTUM_SIZE = 128;\nconst SAMPLE_SIZE = 1024;\nconst SAMPLE_RATE = 44000;\n\nexport const SOUND_ENABLED_OPTION = 'enable_sound';\n\ndeclare global {\n    interface Window {\n        webkitAudioContext: AudioContext;\n    }\n}\n\nconst AudioContext = window.AudioContext || window.webkitAudioContext;\n\nexport class Audio implements OptionHandler {\n    private sound = true;\n    private samples: number[][] = [];\n\n    private audioContext;\n    private audioNode;\n    private workletNode: AudioWorkletNode;\n    private started = false;\n\n    ready: Promise<void>;\n\n    constructor(io: Apple2IO) {\n        this.audioContext = new AudioContext({\n            sampleRate: SAMPLE_RATE\n        });\n\n        if (window.AudioWorklet) {\n            this.ready = this.audioContext.audioWorklet.addModule('./dist/audio_worker.bundle.js');\n            this.ready\n                .then(() => {\n                    this.workletNode = new AudioWorkletNode(this.audioContext, 'audio_worker');\n\n                    io.sampleRate(this.audioContext.sampleRate, QUANTUM_SIZE);\n                    io.addSampleListener((sample) => {\n                        if (this.sound && this.audioContext.state === 'running') {\n                            this.workletNode.port.postMessage(sample);\n                        }\n                    });\n                    this.workletNode.connect(this.audioContext.destination);\n                })\n                .catch(console.error);\n        } else {\n            // TODO(flan): MDN says that createScriptProcessor is deprecated and\n            // replaced by AudioWorklet. FF and Chrome support AudioWorklet, but\n            // Safari does not (yet).\n            this.audioNode = this.audioContext.createScriptProcessor(SAMPLE_SIZE, 1, 1);\n\n            this.audioNode.onaudioprocess = (event) => {\n                const data = event.outputBuffer.getChannelData(0);\n                const sample = this.samples.shift();\n                let idx = 0;\n                let len = data.length;\n\n                if (sample) {\n                    len = Math.min(sample.length, len);\n                    for (; idx < len; idx++) {\n                        data[idx] = sample[idx];\n                    }\n                }\n\n                for (; idx < data.length; idx++) {\n                    data[idx] = 0.0;\n                }\n            };\n\n            this.audioNode.connect(this.audioContext.destination);\n            io.sampleRate(this.audioContext.sampleRate, SAMPLE_SIZE);\n            io.addSampleListener((sample) => {\n                if (this.sound && this.audioContext.state === 'running') {\n                    if (this.samples.length < 5) {\n                        this.samples.push(sample);\n                    }\n                }\n            });\n            this.ready = Promise.resolve();\n        }\n\n        window.addEventListener('keydown', this.autoStart);\n        if (window.ontouchstart !== undefined) {\n            window.addEventListener('touchstart', this.autoStart);\n        }\n        window.addEventListener('mousedown', this.autoStart);\n\n        debug('Sound initialized');\n    }\n\n    autoStart = () => {\n        if (this.audioContext && !this.started) {\n            this.samples = [];\n            this.audioContext.resume().then(() => {\n                this.started = true;\n            }).catch((error) => {\n                console.warn('audio not started', error);\n            });\n        }\n    };\n\n    start = () => {\n        if (this.audioContext) {\n            this.samples = [];\n            this.audioContext.resume().catch((error) => {\n                console.warn('audio not resumed', error);\n            });\n        }\n    };\n\n    isEnabled = () => {\n        return this.sound;\n    };\n\n    getOptions() {\n        return [\n            {\n                name: 'Audio',\n                options: [\n                    {\n                        name: SOUND_ENABLED_OPTION,\n                        label: 'Enabled',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: true,\n                    }\n                ]\n            }\n        ];\n    }\n\n    setOption = (name: string, value: boolean) => {\n        switch (name) {\n            case SOUND_ENABLED_OPTION:\n                this.sound = value;\n        }\n    };\n}\n","/**\n * Extracts the members of a constant array as a type. Used as:\n *\n * @example\n * const SOME_VALUES = ['a', 'b', 1, 2] as const;\n * type SomeValues = MemberOf<typeof SOME_VALUES>; // 'a' | 'b' | 1 | 2\n */\nexport type MemberOf<T extends ReadonlyArray<unknown>> =\n    T extends ReadonlyArray<infer E> ? E : never;\n\n/**\n * Recursively extracts all members of a constant array as a type. Used as:\n *\n * @example\n * const SOME_ARRAYS = [['a'],['b', 2], 3] as const;\n * type SomeArrayValues = DeepMemberOf<typeof SOME_ARRAYS>; // 'a' | 'b' | 2 | 3\n */\nexport type DeepMemberOf<T extends ReadonlyArray<unknown>> =\n    T extends ReadonlyArray<infer E>\n    ? (E extends ReadonlyArray<unknown> ? DeepMemberOf<E> : E)\n    : never;\n\n/**\n * Extracts the declared keys of a type by removing `string` and `number`.\n *\n * Cribbed from the interwebs:\n * https://github.com/microsoft/TypeScript/issues/25987#issuecomment-408339599\n */\nexport type KnownKeys<T> = {\n    [K in keyof T]: string extends K ? never : number extends K ? never : K\n} extends { [_ in keyof T]: infer U } ? U : never;\n\n/**\n * Extracts the declared values of a constant object.\n */\nexport type KnownValues<T> = T extends {\n    [_ in keyof T]: infer U } ? U : never;\n\n/**\n * Replacement for `includes` on constant types that is also a type assertion.\n *\n * @example\n * const SOME_VALUES = [1, 2, 'a'] as const;\n * let n: number = 1;\n * let r = includes(SOME_VALUES, n); // r === true, n is 1 | 2 | 'a'\n * n = 5;\n * r = includes(SOME_VALUES, n); // r === false, n is number\n */\nexport function includes<S extends T, T>(a: ReadonlyArray<S>, v: T): v is S {\n    return (a as ReadonlyArray<T>).includes(v);\n}\n\n/** A bit. */\nexport type bit = 0 | 1;\n\n/** A nibble. */\nexport type nibble =\n    0x0 | 0x1 | 0x2 | 0x3 | 0x4 | 0x5 | 0x6 | 0x7 |\n    0x8 | 0x9 | 0xa | 0xb | 0xc | 0xd | 0xe | 0xf;\n\n/** A byte (0..255). This is not enforced by the compiler. */\nexport type byte = number;\n\n/** A word (0..65535). This is not enforced by the compiler. */\nexport type word = number;\n\n/** A raw region of memory. */\nexport type memory = Uint8Array;\n\n/** A raw region of memory. */\nexport type rom = ReadonlyUint8Array;\n\nexport interface Memory {\n    /** Read a byte. */\n    read(page: byte, offset: byte): byte;\n    /** Write a byte. */\n    write(page: byte, offset: byte, value: byte): void;\n}\n\n/** A mapped region of memory. */\nexport interface MemoryPages extends Memory {\n    /** Start page. */\n    start(): byte;\n    /** End page, inclusive. */\n    end(): byte;\n}\n\n/* An interface card */\nexport interface Card extends Memory, Restorable {\n    /* Reset the card */\n    reset?(): void;\n\n    /* Draw card to canvas */\n    blit?(): ImageData | undefined;\n\n    /* Process period events */\n    tick?(): void;\n\n    /* Read or Write an I/O switch */\n    ioSwitch(off: byte, val?: byte): byte | undefined;\n}\n\nexport type TapeData = Array<[duration: number, high: boolean]>;\n\nexport interface Restorable<T = any> {\n    getState(): T;\n    setState(state: T): void;\n}\n\n// Read-only typed arrays for constants\nexport type TypedArrayMutableProperties = 'copyWithin' | 'fill' | 'reverse' | 'set' | 'sort';\nexport interface ReadonlyUint8Array extends Omit<Uint8Array, TypedArrayMutableProperties> {\n    readonly [n: number]: number\n}\n\n// Readonly RGB color value\nexport type Color = readonly [r: byte, g: byte, b: byte];\n","import type { byte, memory, MemberOf } from '../types';\nimport type { GamepadConfiguration } from '../ui/types';\n\nexport const DRIVE_NUMBERS = [1, 2] as const;\nexport type DriveNumber = MemberOf<typeof DRIVE_NUMBERS>;\n\n/**\n * Arguments for the disk format processors.\n */\n\nexport interface DiskOptions {\n    name: string\n    side?: string\n    volume: byte\n    readOnly: boolean\n    data?: memory[][]\n    rawData?: ArrayBuffer\n    blockVolume?: boolean\n}\n\n/**\n * Return value from disk format processors. Describes raw disk\n * data which the DiskII card can process.\n */\n\nexport interface Disk {\n    name: string\n    side?: string\n    readOnly: boolean\n}\n\nexport const ENCODING_NIBBLE = 'nibble';\nexport const ENCODING_BITSTREAM = 'bitstream';\nexport const ENCODING_BLOCK = 'block';\n\nexport interface FloppyDisk extends Disk {\n    tracks: memory[]\n}\n\nexport interface NibbleDisk extends FloppyDisk {\n    encoding: typeof ENCODING_NIBBLE\n    format: DiskFormat\n    volume: byte\n}\n\nexport interface WozDisk extends FloppyDisk {\n    encoding: typeof ENCODING_BITSTREAM\n    trackMap: number[]\n    rawTracks: Uint8Array[]\n}\n\nexport interface BlockDisk extends Disk {\n    encoding: typeof ENCODING_BLOCK\n    blocks: Uint8Array[]\n}\n\n/**\n * File types supported by the disk format processors and\n * block devices.\n */\n\nexport const NIBBLE_FORMATS = [\n    '2mg',\n    'd13',\n    'do',\n    'dsk',\n    'po',\n    'nib',\n    'woz'\n] as const;\n\nexport const BLOCK_FORMATS = [\n    '2mg',\n    'hdv',\n    'po',\n] as const;\n\nexport const DISK_FORMATS = [...NIBBLE_FORMATS, ...BLOCK_FORMATS ] as const;\n\nexport type NibbleFormat = MemberOf<typeof NIBBLE_FORMATS>;\nexport type BlockFormat = MemberOf<typeof BLOCK_FORMATS>;\nexport type DiskFormat = MemberOf<typeof DISK_FORMATS>;\n\n/**\n * Base format for JSON defined disks\n */\n\nexport class JSONDiskBase {\n    type: DiskFormat;\n    name: string;\n    disk?: string;\n    category?: string;\n    volume?: byte;\n    readOnly?: boolean;\n    gamepad?: GamepadConfiguration;\n}\n\n/**\n * JSON Disk format with base64 encoded tracks with sectors\n */\n\nexport interface Base64JSONDisk extends JSONDiskBase {\n    type: Exclude<DiskFormat, 'nib'>\n    encoding: 'base64'\n    data: string[][]\n}\n\n/**\n * JSON Disk format with base64 encoded nibblized tracks\n */\n\nexport interface Base64JSONNibbleDisk extends JSONDiskBase {\n    type: 'nib'\n    encoding: 'base64'\n    data: string[]\n}\n\n/**\n * JSON Disk format with byte array tracks\n */\n\nexport interface BinaryJSONDisk extends JSONDiskBase {\n    type: DiskFormat\n    encoding: 'binary'\n    data: memory[][]\n}\n\n/**\n * General JSON Disk format\n */\n\nexport type JSONDisk = Base64JSONDisk | Base64JSONNibbleDisk | BinaryJSONDisk;\n\n/**\n * Process Disk message payloads for worker\n */\n\nexport const PROCESS_BINARY = 'PROCESS_BINARY';\nexport const PROCESS_JSON_DISK = 'PROCESS_JSON_DISK';\nexport const PROCESS_JSON = 'PROCESS_JSON';\n\n/** Binary disk file message */\nexport interface ProcessBinaryMessage {\n    type: typeof PROCESS_BINARY\n    payload: {\n        drive: DriveNumber\n        fmt: NibbleFormat\n        options: DiskOptions\n    }\n}\n\n/** Processed JSON file message (used for localStorage) */\nexport interface ProcessJsonDiskMessage {\n    type: typeof PROCESS_JSON_DISK\n    payload: {\n        drive: DriveNumber\n        jsonDisk: JSONDisk\n    }\n}\n\n/** Raw JSON file message */\nexport interface ProcessJsonMessage {\n    type: typeof PROCESS_JSON\n    payload: {\n        drive: DriveNumber\n        json: string\n    }\n}\n\nexport type FormatWorkerMessage =\n    ProcessBinaryMessage |\n    ProcessJsonDiskMessage |\n    ProcessJsonMessage;\n\n/**\n * Format work result message type\n */\n\nexport const DISK_PROCESSED = 'DISK_PROCESSED';\n\nexport interface DiskProcessedResponse {\n    type: typeof DISK_PROCESSED\n    payload: {\n        drive: DriveNumber\n        disk: Disk | null\n    }\n}\n\nexport type FormatWorkerResponse =\n    DiskProcessedResponse\n\n/**\n * Block device common interface\n */\nexport interface MassStorage {\n    setBinary(drive: number, name: string, ext: BlockFormat, data: ArrayBuffer): boolean\n}\n","import type { KnownKeys } from '../types';\n\nexport const BUTTON = {\n    // Buttons\n    'A': 0,\n    'B': 1,\n    'X': 2,\n    'Y': 3,\n\n    // Triggers\n    'L1': 4,\n    'R1': 5,\n\n    // Analog stick buttons\n    'L3': 6,\n    'R3': 7,\n\n    // Special\n    'START': 8,\n    'SELECT': 9,\n    'LOGO': 10,\n\n    // D pad\n    'UP': 11,\n    'DOWN': 12,\n    'LEFT': 13,\n    'RIGHT': 14\n} as const;\n\nexport type ButtonType = KnownKeys<typeof BUTTON>;\n\n/**\n * A `GamepadConfiguration` maps buttons on the controller to Apple Paddle\n * buttons or keys on the keyboard. If the value is a number, it must be\n * 0 | 1 | 2 and will map to the corresponding paddle button. If the value\n * is a string, the _first_ character of the string is used as a key to\n * press on the keyboard.\n */\nexport type GamepadConfiguration = {\n    [K in ButtonType]?: 0 | 1 | 2 | string;\n};\n","import Apple2IO from '../apple2io';\nimport { BUTTON, ButtonType, GamepadConfiguration } from './types';\n\nexport let gamepad: Gamepad | null = null;\n\nconst DEFAULT_GAMEPAD: GamepadConfiguration = {\n    'A': 0,\n    'B': 1,\n    'L1': 0,\n    'R1': 1,\n    'START': '\\x1B'\n} as const;\n\n/**\n * An array with 16 entries. For each entry _e_:\n *\n * *   if _e_ <= 0, then _-e_ is 0 | 1 | 2 and represents a joystick button;\n * *   if _e_ > 0, then _e_ is a key on the keyboard that is pressed;\n * *   if _e_ is undefined, nothing happens.\n */\nconst gamepadMap: Array<number | undefined> = [];\n/**\n * An array with 16 entries saying whether or not the given button is\n * currently pressed.\n */\nconst gamepadState: boolean[] = [];\nlet flipX = false;\nlet flipY = false;\n\n\nwindow.addEventListener('gamepadconnected', function (e: GamepadEvent) {\n    gamepad = e.gamepad;\n});\n\nexport function processGamepad(io: Apple2IO) {\n    // Always use the first gamepad\n    gamepad = navigator.getGamepads()[0];\n    if (!gamepad) {\n        return;\n    }\n    const x = (gamepad.axes[0] * 1.414 + 1) / 2.0;\n    const y = (gamepad.axes[1] * 1.414 + 1) / 2.0;\n    io.paddle(0, flipX ? 1.0 - x : x);\n    io.paddle(1, flipY ? 1.0 - y : y);\n    for (let idx = 0; idx < gamepad.buttons.length; idx++) {\n        const val = gamepadMap[idx];\n        if (val !== undefined) {\n            const old = gamepadState[idx];\n            const button = gamepad.buttons[idx];\n            let pressed: boolean;\n            if (typeof button === 'object') {\n                pressed = button.pressed;\n            } else {\n                pressed = (button === 1.0);\n            }\n\n            if (pressed && !old) {\n                if (val <= 0) {\n                    io.buttonDown(-val as 0 | 1 | 2);\n                } else {\n                    io.keyDown(gamepadMap[idx]!);\n                }\n            } else if (!pressed && old) {\n                if (val <= 0) {\n                    io.buttonUp(-val as 0 | 1 | 2);\n                } else {\n                    io.keyUp();\n                }\n            }\n            gamepadState[idx] = pressed;\n        }\n    }\n}\n\nexport function configGamepad(configFlipX: boolean, configFlipY: boolean) {\n    flipX = configFlipX;\n    flipY = configFlipY;\n}\n\nexport function initGamepad(data?: GamepadConfiguration) {\n    // Clear map\n    for (let idx = 0; idx < 16; idx++) {\n        gamepadMap[idx] = undefined;\n    }\n    const map = data || DEFAULT_GAMEPAD;\n    for (const entry of Object.entries(map)) {\n        const key = entry[0] as ButtonType;\n        const val = entry[1] as number | string;\n        let mapVal;\n        if (typeof val === 'string') {\n            mapVal = val.charCodeAt(0);\n        } else {\n            mapVal = -val;\n        }\n        if (key in BUTTON) {\n            gamepadMap[BUTTON[key]] = mapVal;\n        } else {\n            gamepadMap[parseInt(key, 10)] = mapVal;\n        }\n    }\n}\n","import { byte, DeepMemberOf, KnownKeys } from '../types';\nimport Apple2IO from '../apple2io';\nimport CPU6502 from '../cpu6502';\nimport { debug, toHex } from '../util';\n\n// keycode: [plain, cntl, shift]\nconst keymap = {\n    // Most of these won't happen\n    0x00: [0x00, 0x00, 0x00], //\n    0x01: [0x01, 0x01, 0x01], //\n    0x02: [0x02, 0x02, 0x02], //\n    0x03: [0x03, 0x03, 0x03], //\n    0x04: [0x04, 0x04, 0x04], //\n    0x05: [0x05, 0x05, 0x05], //\n    0x06: [0x06, 0x06, 0x06], //\n    0x07: [0x07, 0x07, 0x07], //\n    0x08: [0x7F, 0x7F, 0x7F], // BS/DELETE\n    0x09: [0x09, 0x09, 0x09], // TAB\n    0x0A: [0x0A, 0x0A, 0x0A], //\n    0x0B: [0x0B, 0x0B, 0x0B], //\n    0x0C: [0x0C, 0x0C, 0x0C], //\n    0x0D: [0x0D, 0x0D, 0x0D], // CR\n    0x0E: [0x0E, 0x0E, 0x0E], //\n    0x0F: [0x0F, 0x0F, 0x0F], //\n\n    0x10: [0xff, 0xff, 0xff], // SHIFT\n    0x11: [0xff, 0xff, 0xff], // CTRL\n    0x12: [0xff, 0xff, 0xff], // ALT/OPTION\n    0x13: [0x13, 0x13, 0x13], //\n    0x14: [0x14, 0x14, 0x14], //\n    0x15: [0x15, 0x15, 0x15], //\n    0x16: [0x16, 0x16, 0x16], //\n    0x17: [0x17, 0x17, 0x18], //\n    0x18: [0x18, 0x18, 0x18], //\n    0x19: [0x19, 0x19, 0x19], //\n    0x1A: [0x1A, 0x1A, 0x1A], //\n    0x1B: [0x1B, 0x1B, 0x1B], // ESC\n    0x1C: [0x1C, 0x1C, 0x1C], //\n    0x1D: [0x1D, 0x1D, 0x1D], //\n    0x1E: [0x1E, 0x1E, 0x1E], //\n    0x1F: [0x1F, 0x1F, 0x1F], //\n\n    // Most of these besides space won't happen\n    0x20: [0x20, 0x20, 0x20], //\n    0x21: [0x21, 0x21, 0x21], //\n    0x22: [0x22, 0x22, 0x22], //\n    0x23: [0x23, 0x23, 0x23], //\n    0x24: [0x24, 0x24, 0x24], //\n    0x25: [0x08, 0x08, 0x08], // <- left\n    0x26: [0x0B, 0x0B, 0x0B], // ^ up\n    0x27: [0x15, 0x15, 0x15], // -> right\n    0x28: [0x0A, 0x0A, 0x0A], // v down\n    0x29: [0x29, 0x29, 0x29], // )\n    0x2A: [0x2A, 0x2A, 0x2A], // *\n    0x2B: [0x2B, 0x2B, 0x2B], // +\n    0x2C: [0x2C, 0x2C, 0x3C], // , - <\n    0x2D: [0x2D, 0x2D, 0x5F], // - - _\n    0x2E: [0x2E, 0x2E, 0x3E], // . - >\n    0x2F: [0x2F, 0x2F, 0x3F], // / - ?\n\n    0x30: [0x30, 0x30, 0x29], // 0 - )\n    0x31: [0x31, 0x31, 0x21], // 1 - !\n    0x32: [0x32, 0x00, 0x40], // 2 - @\n    0x33: [0x33, 0x33, 0x23], // 3 - #\n    0x34: [0x34, 0x34, 0x24], // 4 - $\n    0x35: [0x35, 0x35, 0x25], // 5 - %\n    0x36: [0x36, 0x36, 0x5E], // 6 - ^\n    0x37: [0x37, 0x37, 0x26], // 7 - &\n    0x38: [0x38, 0x38, 0x2A], // 8 - *\n    0x39: [0x39, 0x39, 0x28], // 9 - (\n    0x3A: [0x3A, 0x3A, 0x3A], // :\n    0x3B: [0x3B, 0x3B, 0x3A], // ; - :\n    0x3C: [0x3C, 0x3C, 0x3C], // <\n    0x3D: [0x3D, 0x3D, 0x2B], // = - +\n    0x3E: [0x3E, 0x3E, 0x3E], // >\n    0x3F: [0x3F, 0x3F, 0x3F], // ?\n\n    // Alpha and control\n    0x40: [0x40, 0x00, 0x40], // @\n    0x41: [0x61, 0x01, 0x41], // A\n    0x42: [0x62, 0x02, 0x42], // B\n    0x43: [0x63, 0x03, 0x43], // C - BRK\n    0x44: [0x64, 0x04, 0x44], // D\n    0x45: [0x65, 0x05, 0x45], // E\n    0x46: [0x66, 0x06, 0x46], // F\n    0x47: [0x67, 0x07, 0x47], // G - BELL\n    0x48: [0x68, 0x08, 0x48], // H\n    0x49: [0x69, 0x09, 0x49], // I - TAB\n    0x4A: [0x6A, 0x0A, 0x4A], // J - NL\n    0x4B: [0x6B, 0x0B, 0x4B], // K - VT\n    0x4C: [0x6C, 0x0C, 0x4C], // L\n    0x4D: [0x6D, 0x0D, 0x4D], // M - CR\n    0x4E: [0x6E, 0x0E, 0x4E], // N\n    0x4F: [0x6F, 0x0F, 0x4F], // O\n\n    0x50: [0x70, 0x10, 0x50], // P\n    0x51: [0x71, 0x11, 0x51], // Q\n    0x52: [0x72, 0x12, 0x52], // R\n    0x53: [0x73, 0x13, 0x53], // S\n    0x54: [0x74, 0x14, 0x54], // T\n    0x55: [0x75, 0x15, 0x55], // U\n    0x56: [0x76, 0x16, 0x56], // V\n    0x57: [0x77, 0x17, 0x57], // W\n    0x58: [0x78, 0x18, 0x58], // X\n    0x59: [0x79, 0x19, 0x59], // Y\n    0x5A: [0x7A, 0x1A, 0x5A], // Z\n    0x5B: [0xFF, 0xFF, 0xFF], // Left window\n    0x5C: [0xFF, 0xFF, 0xFF], // Right window\n    0x5D: [0xFF, 0xFF, 0xFF], // Select\n    0x5E: [0x5E, 0x1E, 0x5E], //\n    0x5F: [0x5F, 0x1F, 0x5F], // _\n\n    // Numeric pad\n    0x60: [0x30, 0x30, 0x30], // 0\n    0x61: [0x31, 0x31, 0x31], // 1\n    0x62: [0x32, 0x32, 0x32], // 2\n    0x63: [0x33, 0x33, 0x33], // 3\n    0x64: [0x34, 0x34, 0x34], // 4\n    0x65: [0x35, 0x35, 0x35], // 5\n    0x66: [0x36, 0x36, 0x36], // 6\n    0x67: [0x37, 0x37, 0x37], // 7\n    0x68: [0x38, 0x38, 0x38], // 8\n    0x69: [0x39, 0x39, 0x39], // 9\n\n    0x6A: [0x2A, 0x2A, 0x2A], // *\n    0x6B: [0x2B, 0x2B, 0x2B], // +\n    0x6D: [0x2D, 0x2D, 0x2D], // -\n    0x6E: [0x2E, 0x2E, 0x2E], // .\n    0x6F: [0x2F, 0x2F, 0x39], // /\n\n    // Stray keys\n    0xAD: [0x2D, 0x2D, 0x5F], // - - _\n    0xBA: [0x3B, 0x3B, 0x3A], // ; - :\n    0xBB: [0x3D, 0x3D, 0x2B], // = - +\n    0xBC: [0x2C, 0x2C, 0x3C], // , - <\n    0xBD: [0x2D, 0x2D, 0x5F], // - - _\n    0xBE: [0x2E, 0x2E, 0x3E], // . - >\n    0xBF: [0x2F, 0x2F, 0x3F], // / - ?\n    0xC0: [0x60, 0x60, 0x7E], // ` - ~\n    0xDB: [0x5B, 0x1B, 0x7B], // [ - {\n    0xDC: [0x5C, 0x1C, 0x7C], // \\ - |\n    0xDD: [0x5D, 0x1D, 0x7D], // ] - }\n    0xDE: [0x27, 0x22, 0x22], // ' - '\n\n    0xFF: [0xFF, 0xFF, 0xFF] // No comma line\n} as const;\n\nfunction isKeyboardCode(code: number): code is KnownKeys<typeof keymap> {\n    return code in keymap;\n}\n\nconst uiKitMap = {\n    'Dead': 0xFF,\n    'UIKeyInputLeftArrow': 0x08,\n    'UIKeyInputRightArrow': 0x15,\n    'UIKeyInputUpArrow': 0x0B,\n    'UIKeyInputDownArrow': 0x0A,\n    'UIKeyInputEscape': 0x1B\n} as const;\n\n\nfunction isUiKitKey(k: string): k is KnownKeys<typeof uiKitMap> {\n    return k in uiKitMap;\n}\n\nconst keys2 = [\n    [\n        ['1', '2', '3', '4', '5', '6', '7', '8', '9', '0', ':', '-', 'RESET'],\n        ['ESC', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', 'REPT', 'RETURN'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ';', '&larr;', '&rarr;'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ',', '.', '/', 'SHIFT'],\n        ['POWER', '&nbsp;']\n    ], [\n        ['!', '\"', '#', '$', '%', '&', '\\'', '(', ')', '0', '*', '=', 'RESET'],\n        ['ESC', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', '@', 'REPT', 'RETURN'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'BELL', 'H', 'J', 'K', 'L', '+', '&larr;', '&rarr;'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', '^', ']', '<', '>', '?', 'SHIFT'],\n        ['POWER', '&nbsp;']\n    ]\n] as const;\n\n\ntype Key2 = DeepMemberOf<typeof keys2>;\n\nconst keys2e = [\n    [\n        ['ESC', '1', '2', '3', '4', '5', '6', '7', '8', '9', '0', '-', '=', 'DELETE'],\n        ['TAB', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '[', ']', '\\\\'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ';', '\"', 'RETURN'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', ',', '.', '/', 'SHIFT'],\n        ['LOCK', '`', 'POW', 'OPEN_APPLE', '&nbsp;', 'CLOSED_APPLE', '&larr;', '&rarr;', '&darr;', '&uarr;']\n    ], [\n        ['ESC', '!', '@', '#', '$', '%', '^', '&', '*', '(', ')', '_', '+', 'DELETE'],\n        ['TAB', 'Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P', '{', '}', '|'],\n        ['CTRL', 'A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L', ':', '\\'', 'RETURN'],\n        ['SHIFT', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', '<', '>', '?', 'SHIFT'],\n        ['CAPS', '~', 'POW', 'OPEN_APPLE', '&nbsp;', 'CLOSED_APPLE', '&larr;', '&rarr;', '&darr;', '&uarr;']\n    ]\n] as const;\n\ntype Key2e = DeepMemberOf<typeof keys2e>;\n\ntype Key = Key2 | Key2e;\n\ntype KeyFunction = (key: KeyboardEvent) => void\n\nexport default class KeyBoard {\n    private kb: HTMLElement;\n    private keys;\n\n    private shifted = false;\n    private controlled = false;\n    private capslocked = true;\n\n    // Initially caps lock on physical keyboard is assumed to be off,\n    // but on emulated keyboard it is on.\n    private capslockKeyUsed = false;\n    private optioned = false;\n    private commanded = false;\n\n    private functions: Record<string, KeyFunction> = {};\n\n    constructor(private cpu: CPU6502, private io: Apple2IO, private e: boolean) {\n        this.keys = e ? keys2e : keys2;\n\n        window.addEventListener('keydown', this.keydown);\n        window.addEventListener('keyup', this.keyup);\n    }\n\n    setFunction(key: string, fn: KeyFunction) {\n        this.functions[key] = fn;\n    }\n\n    mapKeyEvent(evt: KeyboardEvent) {\n        const code = evt.keyCode;\n        let key: byte = 0xff;\n\n        if (isUiKitKey(evt.key)) {\n            key = uiKitMap[evt.key];\n        } else if (isKeyboardCode(code)) {\n            key = keymap[code][evt.shiftKey ? 2 : (evt.ctrlKey ? 1 : 0)];\n\n            if (code != 20 && this.capslockKeyUsed) {\n                this.capslockKey(evt.getModifierState('CapsLock'));\n            }\n\n            if (this.capslocked && key >= 0x61 && key <= 0x7A) {\n                key -= 0x20;\n            }\n        } else {\n            debug('Unhandled key = ' + toHex(code));\n        }\n\n        if (key == 0x7F && evt.shiftKey && evt.ctrlKey) {\n            this.cpu.reset();\n            key = 0xff;\n        }\n\n        return key;\n    }\n\n    shiftKey(down: boolean) {\n        const shiftKeys = this.kb.querySelectorAll('.key-SHIFT');\n        this.shifted = down;\n        if (down) {\n            this.io.buttonUp(2);\n            shiftKeys.forEach((key) => { key.classList.add('active'); });\n        } else {\n            this.io.buttonDown(2);\n            shiftKeys.forEach((key) => { key.classList.remove('active'); });\n        }\n    }\n\n    controlKey(down: boolean) {\n        const ctrlKey = this.kb.querySelector('.key-CTRL');\n        this.controlled = down;\n        if (down) {\n            ctrlKey!.classList.add('active');\n        } else {\n            ctrlKey!.classList.remove('active');\n        }\n    }\n\n    commandKey(down: boolean) {\n        const commandKey = this.kb.querySelector('.key-OPEN_APPLE');\n        if (!commandKey) {\n            return;\n        }\n        this.commanded = down;\n        if (down) {\n            this.io.buttonDown(0);\n            commandKey.classList.add('active');\n        } else {\n            this.io.buttonUp(0);\n            commandKey.classList.remove('active');\n        }\n    }\n\n    optionKey(down: boolean) {\n        const optionKey = this.kb.querySelector('.key-CLOSED_APPLE');\n        if (!optionKey) {\n            return;\n        }\n        this.optioned = down;\n        if (down) {\n            this.io.buttonDown(1);\n            optionKey.classList.add('active');\n        } else {\n            this.io.buttonUp(1);\n            optionKey.classList.remove('active');\n        }\n    }\n\n    /**\n     * Sets the state of the Caps Lock key. It is very complicated.\n     * @param down if `true`, Caps Lock is pressed; if `false` Caps Lock is not pressed;\n     *     if `undefined`, Caps Lock is toggled and its \"used\" state is set to false;\n     *     if called with no arguments, the state is toggled _if_ it has been used before,\n     *     otherwise the used state is set to true.\n     */\n    capslockKey(down?: boolean | undefined) {\n        const capsLock = this.kb.querySelector('.key-LOCK');\n\n        if (arguments.length == 0) {\n            if (this.capslockKeyUsed) {\n                this.capslocked = !this.capslocked;\n            } else {\n                this.capslockKeyUsed = true;\n            }\n        } else if (down === undefined) {\n            this.capslocked = !this.capslocked;\n            this.capslockKeyUsed = false;\n        } else {\n            this.capslocked = down;\n        }\n\n        if (this.capslocked) {\n            capsLock!.classList.add('active');\n        } else {\n            capsLock!.classList.remove('active');\n        }\n    }\n\n    reset(event: Event) {\n        event.preventDefault();\n        event.stopPropagation();\n        this.cpu.reset();\n    }\n\n    create(el: string) {\n        this.kb = document.querySelector(el)!;\n        let x, y, row, key, label, label1, label2;\n\n        const buildLabel = (k: string) => {\n            const span = document.createElement('span');\n            span.innerHTML = k;\n            if (k.length > 1 && k.substr(0, 1) != '&')\n                span.classList.add('small');\n            return span;\n        };\n\n        for (y = 0; y < 5; y++) {\n            row = document.createElement('div');\n            row.classList.add('row');\n            row.classList.add('row' + y);\n            this.kb.append(row);\n            for (x = 0; x < this.keys[0][y].length; x++) {\n                const key1 = this.keys[0][y][x];\n                const key2 = this.keys[1][y][x];\n\n                label = document.createElement('div');\n                label1 = buildLabel(key1);\n                label2 = buildLabel(key2);\n\n                key = document.createElement('div');\n                key.classList.add('key');\n                key.classList.add('key-' + key1.replace(/[&#;]/g, ''));\n\n                if (key1.length > 1) {\n                    if (key1 == 'LOCK')\n                        key.classList.add('v-center2');\n                    else\n                        key.classList.add('v-center');\n                }\n                if (key1 != key2) {\n                    key.classList.add('key-' + key2.replace(/[&;]/g, ''));\n                    label.append(label2);\n                    label.append(document.createElement('br'));\n                }\n                if (key1 == 'LOCK') {\n                    key.classList.add('active');\n                }\n\n                label.append(label1);\n                key.append(label);\n                key.dataset.key1 = key1;\n                key.dataset.key2 = key2;\n\n                const mouseDown = this.genMouseDown(key, key1, key2);\n                const mouseUp = this.genMouseUp(key);\n                if (window.ontouchstart === undefined) {\n\n                    key.addEventListener('mousedown', mouseDown);\n                    key.addEventListener('mouseup', mouseUp);\n                    key.addEventListener('mouseleave', mouseUp);\n                } else {\n                    key.addEventListener('touchstart', mouseDown);\n                    key.addEventListener('touchend', mouseUp);\n                    key.addEventListener('touchleave', mouseUp);\n                }\n\n                row.append(key);\n            }\n        }\n    }\n\n    private genMouseDown(target: HTMLElement, key1: Key, key2: Key) {\n        return (ev: MouseEvent) => {\n            ev.preventDefault();\n            target.classList.add('pressed');\n\n            let key: string = this.shifted ? key2 : key1;\n            switch (key) {\n                case 'BELL':\n                    key = 'G';\n                    break;\n                case 'RETURN':\n                    key = '\\r';\n                    break;\n                case 'TAB':\n                    key = '\\t';\n                    break;\n                case 'DELETE':\n                    key = '\\x7F';\n                    break;\n                case '&larr;':\n                    key = '\\x08';\n                    break;\n                case '&rarr;':\n                    key = '\\x15';\n                    break;\n                case '&darr;':\n                    key = '\\x0A';\n                    break;\n                case '&uarr;':\n                    key = '\\x0B';\n                    break;\n                case '&nbsp;':\n                    key = ' ';\n                    break;\n                case 'ESC':\n                    key = '\\x1B';\n                    break;\n                default:\n                    break;\n            }\n\n            if (key.length > 1) {\n                switch (key) {\n                    case 'SHIFT':\n                        this.shiftKey(!this.shifted);\n                        break;\n                    case 'CTRL':\n                        this.controlKey(!this.controlled);\n                        break;\n                    case 'CAPS':\n                    case 'LOCK':\n                        this.capslockKey(undefined);\n                        break;\n                    case 'POW':\n                    case 'POWER':\n                        if (window.confirm('Power Cycle?'))\n                            window.location.reload();\n                        break;\n                    case 'RESET':\n                        this.cpu.reset();\n                        break;\n                    case 'OPEN_APPLE':\n                        this.commandKey(!this.commanded);\n                        break;\n                    case 'CLOSED_APPLE':\n                        this.optionKey(!this.optioned);\n                        break;\n                    default:\n                        break;\n                }\n            } else {\n                if (this.controlled && key >= '@' && key <= '_') {\n                    this.io.keyDown(key.charCodeAt(0) - 0x40);\n                } else if (this.e && !this.shifted && !this.capslocked &&\n                    key >= 'A' && key <= 'Z') {\n                    this.io.keyDown(key.charCodeAt(0) + 0x20);\n                } else {\n                    this.io.keyDown(key.charCodeAt(0));\n                }\n            }\n        };\n    }\n\n    private dialogOpen() {\n        return !!document.querySelector('.modal.is-open');\n    }\n\n    private genMouseUp(target: HTMLElement) {\n        return () => target.classList.remove('pressed');\n    }\n\n    private keydown = (evt: KeyboardEvent) => {\n        if (!this.dialogOpen() && (!evt.metaKey || evt.ctrlKey || this.e)) {\n            evt.preventDefault();\n\n            const key = this.mapKeyEvent(evt);\n            if (key !== 0xff) {\n                this.io.keyDown(key);\n                return;\n            }\n        }\n\n        if (evt.key === 'Shift') {\n            this.shiftKey(true);\n        } else if (evt.key === 'CapsLock') {\n            this.capslockKey();\n        } else if (evt.key === 'Control') {\n            this.controlKey(true);\n        } else if (evt.key === 'Meta') { // AKA Command\n            this.commandKey(true);\n        } else if (evt.key === 'Alt') {\n            if (evt.location === 1) {\n                this.commandKey(true);\n            } else {\n                this.optionKey(true);\n            }\n        } else {\n            if (evt.key in this.functions) {\n                this.functions[evt.key](evt);\n                evt.preventDefault();\n            }\n        }\n\n    };\n\n    private keyup = (evt: KeyboardEvent) => {\n        if (!this.dialogOpen()) {\n            this.io.keyUp();\n        }\n\n        if (evt.key === 'Shift') { // Shift\n            this.shiftKey(false);\n        } else if (evt.key === 'Control') { // Control\n            this.controlKey(false);\n        } else if (evt.key === 'Meta') { // AKA Command\n            this.commandKey(false);\n        } else if (evt.key === 'Alt') { // Alt\n            if (evt.location === 1) {\n                this.commandKey(false);\n            } else {\n                this.optionKey(false);\n            }\n        }\n    };\n}\n","\nimport { TapeData } from '../types';\nimport Apple2IO from '../apple2io';\nimport { debug } from '../util';\n\nexport const TAPE_TYPES = ['wav', 'aiff', 'aif', 'mp3', 'm4a'] as const;\n\nexport default class Tape {\n    constructor(private readonly io: Apple2IO) {}\n\n    public doLoadLocalTape(file: File, done?: () => void) {\n        const kHz = this.io.getKHz();\n\n        // Audio Buffer Source\n        let context: AudioContext;\n        if (AudioContext) {\n            context = new AudioContext();\n        } else {\n            window.alert('Not supported by your browser');\n            done && done();\n            return;\n        }\n\n        const fileReader = new FileReader();\n        fileReader.onload = (ev: ProgressEvent) => {\n            const target: FileReader = ev.target as FileReader;\n            const result: ArrayBuffer = target.result as ArrayBuffer;\n            context.decodeAudioData(result).then((buffer) => {\n                const buf: TapeData = [];\n                const data = buffer.getChannelData(0);\n                let datum = data[0];\n                let old = (datum > 0.0), current;\n                let last = 0;\n                let delta: number;\n                debug('Sample Count: ' + data.length);\n                debug('Sample rate: ' + buffer.sampleRate);\n                for (let idx = 1; idx < data.length; idx++) {\n                    datum = data[idx];\n                    if ((datum > 0.1) || (datum < -0.1)) {\n                        current = (datum > 0.0);\n                        if (current != old) {\n                            delta = idx - last;\n                            if (delta > 2000000) {\n                                delta = 2000000;\n                            }\n                            let ival = delta / buffer.sampleRate * 1000;\n                            if (ival >= 0.550 && ival < 0.750) {\n                                ival = 0.650; // Header\n                            } else if (ival >= 0.175 && ival < 0.225) {\n                                ival = 0.200; // sync 1\n                            } else if (ival >= 0.225 && ival < 0.275) {\n                                ival = 0.250; // 0 / sync 2\n                            } else if (ival >= 0.450 && ival < 0.550) {\n                                ival = 0.500; // 1\n                            } else {\n                                // debug(idx + ' ' + buf.length + ' ' + ival);\n                            }\n                            buf.push([ival * kHz, current]);\n                            old = current;\n                            last = idx;\n                        }\n                    }\n                }\n                this.io.setTape(buf);\n                if (done) {\n                    done();\n                }\n            }, function (error) {\n                window.alert(error.message);\n            });\n        };\n        fileReader.readAsArrayBuffer(file);\n    }\n}\n","import { byte, KnownKeys, Memory, word } from '../types';\n\nconst LETTERS =\n    '                                ' +\n    ' !\"#$%&\\'()*+,-./0123456789:;<=>?' +\n    '@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_' +\n    '`abcdefghijklmnopqrstuvwxyz{|}~ ';\n\nconst TOKENS = {\n    0x80: 'END',\n    0x81: 'FOR',\n    0x82: 'NEXT',\n    0x83: 'DATA',\n    0x84: 'INPUT',\n    0x85: 'DEL',\n    0x86: 'DIM',\n    0x87: 'READ',\n    0x88: 'GR',\n    0x89: 'TEXT',\n    0x8a: 'PR#',\n    0x8b: 'IN#',\n    0x8c: 'CALL',\n    0x8d: 'PLOT',\n    0x8e: 'HLIN',\n    0x8f: 'VLIN',\n    0x90: 'HGR2',\n    0x91: 'HGR',\n    0x92: 'HCOLOR=',\n    0x93: 'HPLOT',\n    0x94: 'DRAW',\n    0x95: 'XDRAW',\n    0x96: 'HTAB',\n    0x97: 'HOME',\n    0x98: 'ROT=',\n    0x99: 'SCALE=',\n    0x9a: 'SHLOAD',\n    0x9b: 'TRACE',\n    0x9c: 'NOTRACE',\n    0x9d: 'NORMAL',\n    0x9e: 'INVERSE',\n    0x9f: 'FLASH',\n    0xa0: 'COLOR=',\n    0xa1: 'POP=',\n    0xa2: 'VTAB',\n    0xa3: 'HIMEM:',\n    0xa4: 'LOMEM:',\n    0xa5: 'ONERR',\n    0xa6: 'RESUME',\n    0xa7: 'RECALL',\n    0xa8: 'STORE',\n    0xa9: 'SPEED=',\n    0xaa: 'LET',\n    0xab: 'GOTO',\n    0xac: 'RUN',\n    0xad: 'IF',\n    0xae: 'RESTORE',\n    0xaf: '&',\n    0xb0: 'GOSUB',\n    0xb1: 'RETURN',\n    0xb2: 'REM',\n    0xb3: 'STOP',\n    0xb4: 'ON',\n    0xb5: 'WAIT',\n    0xb6: 'LOAD',\n    0xb7: 'SAVE',\n    0xb8: 'DEF',\n    0xb9: 'POKE',\n    0xba: 'PRINT',\n    0xbb: 'CONT',\n    0xbc: 'LIST',\n    0xbd: 'CLEAR',\n    0xbe: 'GET',\n    0xbf: 'NEW',\n    0xc0: 'TAB(',\n    0xc1: 'TO',\n    0xc2: 'FN',\n    0xc3: 'SPC(',\n    0xc4: 'THEN',\n    0xc5: 'AT',\n    0xc6: 'NOT',\n    0xc7: 'STEP',\n    0xc8: '+',\n    0xc9: '-',\n    0xca: '*',\n    0xcb: '/',\n    0xcc: '^',\n    0xcd: 'AND',\n    0xce: 'OR',\n    0xcf: '>',\n    0xd0: '=',\n    0xd1: '<',\n    0xd2: 'SGN',\n    0xd3: 'INT',\n    0xd4: 'ABS',\n    0xd5: 'USR',\n    0xd6: 'FRE',\n    0xd7: 'SCRN(',\n    0xd8: 'PDL',\n    0xd9: 'POS',\n    0xda: 'SQR',\n    0xdb: 'RND',\n    0xdc: 'LOG',\n    0xdd: 'EXP',\n    0xde: 'COS',\n    0xdf: 'SIN',\n    0xe0: 'TAN',\n    0xe1: 'ATN',\n    0xe2: 'PEEK',\n    0xe3: 'LEN',\n    0xe4: 'STR$',\n    0xe5: 'VAL',\n    0xe6: 'ASC',\n    0xe7: 'CHR$',\n    0xe8: 'LEFT$',\n    0xe9: 'RIGHT$',\n    0xea: 'MID$'\n} as const;\n\nexport default class ApplesoftDump {\n    constructor(private mem: Memory) { }\n\n    private readByte(addr: word): byte {\n        const page = addr >> 8;\n        const off = addr & 0xff;\n\n        return this.mem.read(page, off);\n    }\n\n    private readWord(addr: word): word {\n        const lsb = this.readByte(addr);\n        const msb = this.readByte(addr + 1);\n\n        return (msb << 8) | lsb;\n    }\n\n    toString() {\n        let str = '';\n        const start = this.readWord(0x67); // Start\n        const end = this.readWord(0xaf); // End of program\n        let addr = start;\n        do {\n            let line = '';\n            const next = this.readWord(addr);\n            addr += 2;\n            const lineno = this.readWord(addr);\n            addr += 2;\n\n            line += lineno;\n            line += ' ';\n            let val = 0;\n            do {\n                if (addr < start || addr > end)\n                    return str;\n\n                val = this.readByte(addr++);\n                if (val >= 0x80) {\n                    line += ' ';\n                    line += TOKENS[val as KnownKeys<typeof TOKENS>];\n                    line += ' ';\n                }\n                else\n                    line += LETTERS[val];\n            } while (val);\n            line += '\\n';\n            str += line;\n            addr = next;\n        } while (addr && addr >= start && addr < end);\n\n        return str;\n    }\n}\n","import { byte, KnownKeys, KnownValues, Memory, word } from '../types';\n\n/** Map from keyword to token. */\nconst TOKENS = {\n    'END': 0x80,\n    'FOR': 0x81,\n    'NEXT': 0x82,\n    'DATA': 0x83,\n    'INPUT': 0x84,\n    'DEL': 0x85,\n    'DIM': 0x86,\n    'READ': 0x87,\n    'GR': 0x88,\n    'TEXT': 0x89,\n    'PR#': 0x8a,\n    'IN#': 0x8b,\n    'CALL': 0x8c,\n    'PLOT': 0x8d,\n    'HLIN': 0x8e,\n    'VLIN': 0x8f,\n    'HGR2': 0x90,\n    'HGR': 0x91,\n    'HCOLOR=': 0x92,\n    'HPLOT': 0x93,\n    'DRAW': 0x94,\n    'XDRAW': 0x95,\n    'HTAB': 0x96,\n    'HOME': 0x97,\n    'ROT=': 0x98,\n    'SCALE=': 0x99,\n    'SHLOAD': 0x9a,\n    'TRACE': 0x9b,\n    'NOTRACE': 0x9c,\n    'NORMAL': 0x9d,\n    'INVERSE': 0x9e,\n    'FLASH': 0x9f,\n    'COLOR=': 0xa0,\n    'POP=': 0xa1,\n    'VTAB': 0xa2,\n    'HIMEM:': 0xa3,\n    'LOMEM:': 0xa4,\n    'ONERR': 0xa5,\n    'RESUME': 0xa6,\n    'RECALL': 0xa7,\n    'STORE': 0xa8,\n    'SPEED=': 0xa9,\n    'LET': 0xaa,\n    'GOTO': 0xab,\n    'RUN': 0xac,\n    'IF': 0xad,\n    'RESTORE': 0xae,\n    '&': 0xaf,\n    'GOSUB': 0xb0,\n    'RETURN': 0xb1,\n    'REM': 0xb2,\n    'STOP': 0xb3,\n    'ON': 0xb4,\n    'WAIT': 0xb5,\n    'LOAD': 0xb6,\n    'SAVE': 0xb7,\n    'DEF': 0xb8,\n    'POKE': 0xb9,\n    'PRINT': 0xba,\n    'CONT': 0xbb,\n    'LIST': 0xbc,\n    'CLEAR': 0xbd,\n    'GET': 0xbe,\n    'NEW': 0xbf,\n    'TAB(': 0xc0,\n    'TO': 0xc1,\n    'FN': 0xc2,\n    'SPC(': 0xc3,\n    'THEN': 0xc4,\n    'AT': 0xc5,\n    'NOT': 0xc6,\n    'STEP': 0xc7,\n    '+': 0xc8,\n    '-': 0xc9,\n    '*': 0xca,\n    '/': 0xcb,\n    '^': 0xcc,\n    'AND': 0xcd,\n    'OR': 0xce,\n    '>': 0xcf,\n    '=': 0xd0,\n    '<': 0xd1,\n    'SGN': 0xd2,\n    'INT': 0xd3,\n    'ABS': 0xd4,\n    'USR': 0xd5,\n    'FRE': 0xd6,\n    'SCRN(': 0xd7,\n    'PDL': 0xd8,\n    'POS': 0xd9,\n    'SQR': 0xda,\n    'RND': 0xdb,\n    'LOG': 0xdc,\n    'EXP': 0xdd,\n    'COS': 0xde,\n    'SIN': 0xdf,\n    'TAN': 0xe0,\n    'ATN': 0xe1,\n    'PEEK': 0xe2,\n    'LEN': 0xe3,\n    'STR$': 0xe4,\n    'VAL': 0xe5,\n    'ASC': 0xe6,\n    'CHR$': 0xe7,\n    'LEFT$': 0xe8,\n    'RIGHT$': 0xe9,\n    'MID$': 0xea\n} as const;\n\nconst LOMEM = 0x69;\nconst ARRAY_START = 0x6B;\nconst ARRAY_END = 0x6D;\nconst PROGRAM_START = 0x801;\n\nconst STATES = {\n    NORMAL: 0,\n    STRING: 1,\n    COMMENT: 2,\n    DATA: 3\n} as const;\n\nexport default class ApplesoftCompiler {\n    constructor(private mem: Memory) { }\n\n    private writeByte(addr: word, val: byte) {\n        const page = addr >> 8;\n        const off = addr & 0xff;\n\n        return this.mem.write(page, off, val);\n    }\n\n    private writeWord(addr: word, val: byte) {\n        const lsb = val & 0xff;\n        const msb = val >> 8;\n\n        this.writeByte(addr, lsb);\n        this.writeByte(addr + 1, msb);\n    }\n\n    compile(program: string) {\n        const lineNos: { [line: string]: byte[]} = {};\n\n        function compileLine(line: string | null | undefined, offset: number) {\n            if (!line) {\n                return [];\n            }\n\n            let state: KnownValues<typeof STATES> = STATES.NORMAL;\n            const result = [0, 0, 0, 0];\n            let curChar = 0;\n            let character;\n            let lineNoStr = '';\n\n            while (line.length) {\n                character = line.charAt(curChar);\n                if (/\\d/.test(character)) {\n                    lineNoStr += character;\n                    curChar++;\n                } else {\n                    break;\n                }\n            }\n\n            while (curChar < line.length) {\n                character = line.charAt(curChar).toUpperCase();\n                switch (state) {\n                    case STATES.NORMAL:\n                        if (character !== ' ') {\n                            if (character === '\"') {\n                                result.push(character.charCodeAt(0));\n                                state = STATES.STRING;\n                                curChar++;\n                            } else {\n                                let foundToken = '';\n                                let tokenIdx = -1;\n                                for (const possibleToken in TOKENS) {\n                                    if (possibleToken.charAt(0) == character) {\n                                        tokenIdx = curChar + 1;\n                                        let idx = 1;\n                                        while (idx < possibleToken.length) {\n                                            if (line.charAt(tokenIdx) !== ' ') {\n                                                if (line.charAt(tokenIdx).toUpperCase() !== possibleToken.charAt(idx)) {\n                                                    break;\n                                                }\n                                                idx++;\n                                            }\n                                            tokenIdx++;\n                                        }\n                                        if (idx === possibleToken.length) {\n                                            // Found a token\n                                            if (possibleToken === 'AT') {\n                                                const lookAhead = line.charAt(tokenIdx + 1).toUpperCase();\n                                                // ATN takes precedence over AT\n                                                if (lookAhead === 'N') {\n                                                    foundToken = 'ATN';\n                                                    tokenIdx++;\n                                                }\n                                                // TO takes precedence over AT\n                                                if (lookAhead === 'O') {\n                                                    result.push(lookAhead.charCodeAt(0));\n                                                    foundToken = 'TO';\n                                                    tokenIdx++;\n                                                }\n                                            }\n                                            foundToken = possibleToken;\n                                        }\n                                    }\n                                    if (foundToken) {\n                                        break;\n                                    }\n                                }\n                                if (foundToken) {\n                                    result.push(TOKENS[foundToken as KnownKeys<typeof TOKENS>]);\n                                    curChar = tokenIdx;\n                                    if (foundToken === 'REM') {\n                                        state = STATES.COMMENT;\n                                    }\n                                } else {\n                                    result.push(character.charCodeAt(0));\n                                    curChar++;\n                                }\n                            }\n                        } else {\n                            curChar++;\n                        }\n                        break;\n                    case STATES.COMMENT:\n                        result.push(character.charCodeAt(0));\n                        curChar++;\n                        break;\n                    case STATES.STRING:\n                        result.push(character.charCodeAt(0));\n                        if (character == '\"') {\n                            state = STATES.NORMAL;\n                        }\n                        curChar++;\n                        break;\n                }\n            }\n\n            if (lineNoStr.length) {\n                const lineNo = parseInt(lineNoStr, 10);\n                if (lineNo < 0 || lineNo > 65535) {\n                    throw new Error('Line number out of range');\n                }\n                if (lineNos[lineNoStr]) {\n                    throw new Error('Duplicate line number');\n                }\n                lineNos[lineNoStr] = result;\n\n                // Next line pointer\n                result.push(0);\n                const nextLine = offset + result.length;\n                result[0] = nextLine & 0xff;\n                result[1] = nextLine >> 8;\n\n                // Line number\n                result[2] = lineNo & 0xff;\n                result[3] = lineNo >> 8;\n            } else {\n                throw new Error('Missing line number');\n            }\n\n            return result;\n        }\n\n        let compiled: number[] = [];\n        const lines = program.split(/[\\r\\n]+/g);\n\n        while (lines.length) {\n            const line = lines.shift();\n            const compiledLine = compileLine(line, PROGRAM_START + compiled.length);\n            compiled = compiled.concat(compiledLine);\n        }\n        compiled.push(0, 0);\n\n        for (let idx = 0; idx < compiled.length; idx++) {\n            this.writeByte(PROGRAM_START + idx, compiled[idx]);\n        }\n        this.writeWord(LOMEM, PROGRAM_START + compiled.length);\n        this.writeWord(ARRAY_START, PROGRAM_START + compiled.length);\n        this.writeWord(ARRAY_END, PROGRAM_START + compiled.length);\n    }\n}\n","import { VideoModes } from '../videomodes';\nimport { BOOLEAN_OPTION, OptionHandler } from './options_modal';\n\nexport const SCREEN_MONO = 'mono_screen';\nexport const SCREEN_FULL_PAGE = 'full_page';\nexport const SCREEN_SCANLINE = 'show_scanlines';\nexport const SCREEN_GL = 'gl_canvas';\n\ndeclare global {\n    interface Document {\n        webkitCancelFullScreen: () => void;\n        webkitIsFullScreen: boolean;\n    }\n    interface Element {\n        webkitRequestFullScreen: (options?: any) => void;\n    }\n}\nexport class Screen implements OptionHandler {\n    constructor(private vm: VideoModes) {}\n\n    enterFullScreen = () => {\n        const elem = document.getElementById('screen')!;\n        if (document.fullscreenEnabled) {\n            if (document.fullscreenElement) {\n                void document.exitFullscreen();\n            } else {\n                void elem.requestFullscreen();\n            }\n        } else if (elem.webkitRequestFullScreen) {\n            if (document.webkitIsFullScreen) {\n                document.webkitCancelFullScreen();\n            } else {\n                elem.webkitRequestFullScreen();\n            }\n        }\n    };\n\n    getOptions() {\n        return [\n            {\n                name: 'Screen',\n                options: [\n                    {\n                        name: SCREEN_MONO,\n                        label: 'Mono Screen',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_SCANLINE,\n                        label: 'Show Scanlines',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_FULL_PAGE,\n                        label: 'Full Page',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: SCREEN_GL,\n                        label: 'GL Renderer *',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: true,\n                    },\n                ]\n            }\n        ];\n    }\n\n    setOption(name: string, value: boolean) {\n        switch (name) {\n            case SCREEN_MONO:\n                this.vm.mono(value);\n                break;\n            case SCREEN_FULL_PAGE:\n                this.setFullPage(value);\n                break;\n            case SCREEN_SCANLINE:\n                this.vm.scanlines(value);\n                break;\n        }\n    }\n\n    private setFullPage(on: boolean) {\n        if (on) {\n            document.body.classList.add('full-page');\n        } else {\n            document.body.classList.remove('full-page');\n        }\n    }\n}\n","import Apple2IO from '../apple2io';\nimport { BOOLEAN_OPTION, OptionHandler } from './options_modal';\n\nconst JOYSTICK_DISABLE = 'disable_mouse';\nconst JOYSTICK_FLIP_X_AXIS = 'flip_x';\nconst JOYSTICK_FLIP_Y_AXIS = 'flip_y';\nconst JOYSTICK_SWAP_AXIS = 'swap_x_y';\n\nlet mouseMode = false;\n\nexport function enableMouseMode(on: boolean) {\n    mouseMode = on;\n}\n\nexport class JoyStick implements OptionHandler {\n    private disableMouseJoystick = false;\n    private flipX = false;\n    private flipY = false;\n    private swapXY = false;\n    private gamepad = false;\n\n    constructor(private io: Apple2IO) {\n        document.addEventListener('mousemove', this.mousemove);\n        document.querySelectorAll('canvas').forEach((canvas) => {\n            canvas.addEventListener('mousedown', (evt) => {\n                if (!this.gamepad && !mouseMode) {\n                    io.buttonDown(evt.which == 1 ? 0 : 1);\n                }\n                evt.preventDefault();\n            });\n            canvas.addEventListener('mouseup', (evt) => {\n                if (!this.gamepad && !mouseMode) {\n                    io.buttonUp(evt.which == 1 ? 0 : 1);\n                }\n            });\n            canvas.addEventListener('contextmenu', (evt) => {\n                evt.preventDefault();\n            });\n        });\n        window.addEventListener('gamepadconnected', (e: GamepadEvent) => {\n            this.gamepad = !!e.gamepad;\n        });\n    }\n\n    getOptions() {\n        return [\n            {\n                name: 'Joystick',\n                options: [\n                    {\n                        name: JOYSTICK_DISABLE,\n                        label: 'Disable Mouse Joystick',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_FLIP_X_AXIS,\n                        label: 'Flip X-Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_FLIP_Y_AXIS,\n                        label: 'Flip Y-Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                    {\n                        name: JOYSTICK_SWAP_AXIS,\n                        label: 'Swap Axis',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                ],\n            },\n        ];\n    }\n\n    setOption(name: string, _value: boolean) {\n        switch (name) {\n            case JOYSTICK_DISABLE:\n                this.io.paddle(0, 0.5);\n                this.io.paddle(1, 0.5);\n                break;\n            case JOYSTICK_FLIP_X_AXIS:\n            case JOYSTICK_FLIP_Y_AXIS:\n            case JOYSTICK_SWAP_AXIS:\n        }\n    }\n\n    private mousemove = (evt: MouseEvent) => {\n        if (this.gamepad || this.disableMouseJoystick || mouseMode) {\n            return;\n        }\n\n        const s = document.querySelector<HTMLDivElement>('#screen')!;\n        const offset = s.getBoundingClientRect();\n        let x = (evt.pageX - offset.left) / s.clientWidth;\n        let y = (evt.pageY - offset.top) / s.clientHeight;\n        const z = x;\n\n        if (this.swapXY) {\n            x = y;\n            y = z;\n        }\n\n        this.io.paddle(0, this.flipX ? 1 - x : x);\n        this.io.paddle(1, this.flipY ? 1 - y : y);\n    };\n}\n","import { BOOLEAN_OPTION, SELECT_OPTION, OptionHandler } from './options_modal';\nimport Apple2IO from '../apple2io';\n\nconst SYSTEM_TYPE_APPLE2E = 'computer_type2e';\nconst SYSTEM_TYPE_APPLE2 = 'computer_type2';\nconst SYSTEM_CPU_ACCELERATED = 'accelerator_toggle';\n\nexport class System implements OptionHandler {\n    constructor(private io: Apple2IO, private e: boolean) {}\n\n    getOptions() {\n        return [\n            {\n                name: 'Type',\n                options: this.e ? [\n                    {\n                        name: SYSTEM_TYPE_APPLE2E,\n                        label: ' *',\n                        type: SELECT_OPTION,\n                        defaultVal: 'apple2enh',\n                        values: [\n                            {\n                                value: 'apple2enh',\n                                name: 'Enhanced Apple //e'\n                            },\n                            {\n                                value: 'apple2e',\n                                name: 'Apple //e'\n                            },\n                            {\n                                value: 'apple2rm',\n                                name: 'Enhanced Apple //e (Reactive Micro)'\n                            },\n                            {\n                                value: 'apple2ex',\n                                name: 'Apple //e Extended Debugging'\n                            },\n                        ]\n                    }\n                ] : [\n                    {\n                        name: SYSTEM_TYPE_APPLE2,\n                        label: ' *',\n                        type: SELECT_OPTION,\n                        defaultVal: 'apple2plus',\n                        values: [\n                            {\n                                value: 'apple2plus',\n                                name: 'Apple ][+'\n                            },\n                            {\n                                value: 'apple2',\n                                name: 'Autostart Apple ]['\n                            },\n                            {\n                                value: 'apple213',\n                                name: '13 Sector Apple ]['\n                            },\n                            {\n                                value: 'original',\n                                name: 'Apple ]['\n                            },\n                            {\n                                value: 'apple2j',\n                                name: 'Apple ][j+'\n                            },\n                            {\n                                value: 'apple2lc',\n                                name: 'Apple ][+ (lowercase font)'\n                            },\n                            {\n                                value: 'apple2pig',\n                                name: 'Apple ][+ (pig font)'\n                            },\n                        ]\n                    },\n                ]\n            }, {\n                name: 'CPU',\n                options: [\n                    {\n                        name: SYSTEM_CPU_ACCELERATED,\n                        label: 'Accelerated',\n                        type: BOOLEAN_OPTION,\n                        defaultVal: false,\n                    },\n                ]\n            }\n        ];\n    }\n\n    setOption(name: string, value: boolean ) {\n        switch (name) {\n            case SYSTEM_CPU_ACCELERATED:\n                {\n                    const kHz = value ? 4092 : 1023;\n                    this.io.updateKHz(kHz);\n                }\n                break;\n        }\n    }\n}\n","import MicroModal from 'micromodal';\n\nimport { base64_json_parse, base64_json_stringify } from '../base64';\nimport { Audio, SOUND_ENABLED_OPTION } from './audio';\nimport DriveLights from './drive_lights';\nimport { byte, includes, word } from '../types';\nimport { BLOCK_FORMATS, MassStorage, NIBBLE_FORMATS } from '../formats/types';\nimport {\n    DISK_FORMATS,\n    DriveNumber,\n    DRIVE_NUMBERS,\n    JSONDisk\n} from '../formats/types';\nimport { initGamepad } from './gamepad';\nimport KeyBoard from './keyboard';\nimport Tape, { TAPE_TYPES } from './tape';\nimport type { GamepadConfiguration } from './types';\n\nimport ApplesoftDump from '../applesoft/decompiler';\nimport ApplesoftCompiler from '../applesoft/compiler';\n\nimport { debug } from '../util';\nimport { Apple2, Stats } from '../apple2';\nimport DiskII from '../cards/disk2';\nimport CPU6502 from '../cpu6502';\nimport { VideoModes } from '../videomodes';\nimport Apple2IO from '../apple2io';\nimport Printer from './printer';\n\nimport { OptionsModal } from './options_modal';\nimport { Screen, SCREEN_FULL_PAGE } from './screen';\nimport { JoyStick } from './joystick';\nimport { System } from './system';\n\nlet paused = false;\n\nlet startTime = Date.now();\nlet lastCycles = 0;\nlet lastFrames = 0;\nlet lastRenderedFrames = 0;\n\nlet hashtag = document.location.hash;\n\nconst optionsModal = new OptionsModal();\n\ninterface DiskDescriptor {\n    name: string;\n    disk?: number;\n    filename: string;\n    e?: boolean;\n    category: string;\n}\n\ntype DiskCollection = {\n    [name: string]: DiskDescriptor[]\n};\n\nconst CIDERPRESS_EXTENSION = /#([0-9a-f]{2})([0-9a-f]{4})$/i;\nconst BIN_TYPES = ['bin'];\n\nconst KNOWN_FILE_TYPES = [\n    ...DISK_FORMATS,\n    ...TAPE_TYPES,\n    ...BIN_TYPES,\n] as readonly string[];\n\nconst disk_categories: DiskCollection = { 'Local Saves': [] };\nconst disk_sets: DiskCollection = {};\n// Disk names\nconst disk_cur_name: string[] = [];\n// Disk categories\nconst disk_cur_cat: string[] = [];\n\nlet _apple2: Apple2;\nlet cpu: CPU6502;\nlet stats: Stats;\nlet vm: VideoModes;\nlet tape: Tape;\nlet _disk2: DiskII;\nlet _massStorage: MassStorage;\nlet _printer: Printer;\nlet audio: Audio;\nlet screen: Screen;\nlet joystick: JoyStick;\nlet system: System;\nlet keyboard: KeyBoard;\nlet io: Apple2IO;\nlet _currentDrive: DriveNumber = 1;\nlet _e: boolean;\n\nlet ready: Promise<[void, void]>;\n\nexport const driveLights = new DriveLights();\n\nexport function dumpAppleSoftProgram() {\n    const dumper = new ApplesoftDump(cpu);\n    debug(dumper.toString());\n}\n\nexport function compileAppleSoftProgram(program: string) {\n    const compiler = new ApplesoftCompiler(cpu);\n    compiler.compile(program);\n    dumpAppleSoftProgram();\n}\n\nexport function openLoad(driveString: string, event: MouseEvent) {\n    const drive = parseInt(driveString, 10) as DriveNumber;\n    _currentDrive = drive;\n    if (event.metaKey && includes(DRIVE_NUMBERS, drive)) {\n        openLoadHTTP();\n    } else {\n        if (disk_cur_cat[drive]) {\n            const element = document.querySelector<HTMLSelectElement>('#category_select')!;\n            element.value = disk_cur_cat[drive];\n            selectCategory();\n        }\n        MicroModal.show('load-modal');\n    }\n}\n\nexport function openSave(driveString: string, event: MouseEvent) {\n    const drive = parseInt(driveString, 10) as DriveNumber;\n\n    const mimeType = 'application/octet-stream';\n    const data = _disk2.getBinary(drive);\n    const a = document.querySelector<HTMLAnchorElement>('#local_save_link')!;\n\n    if (!data) {\n        alert('No data from drive ' + drive);\n        return;\n    }\n\n    const blob = new Blob([data], { 'type': mimeType });\n    a.href = window.URL.createObjectURL(blob);\n    a.download = driveLights.label(drive) + '.dsk';\n\n    if (event.metaKey) {\n        dumpDisk(drive);\n    } else {\n        const saveName = document.querySelector<HTMLInputElement>('#save_name')!;\n        saveName.value = driveLights.label(drive);\n        MicroModal.show('save-modal');\n    }\n}\n\nexport function openAlert(msg: string) {\n    const el = document.querySelector<HTMLDivElement>('#alert-modal .message')!;\n    el.innerText = msg;\n    MicroModal.show('alert-modal');\n}\n\n/********************************************************************\n *\n * Drag and Drop\n */\n\nexport function handleDragOver(_drive: number, event: DragEvent) {\n    event.preventDefault();\n    event.dataTransfer!.dropEffect = 'copy';\n}\n\nexport function handleDragEnd(_drive: number, event: DragEvent) {\n    const dt = event.dataTransfer!;\n    if (dt.items) {\n        for (let i = 0; i < dt.items.length; i++) {\n            dt.items.remove(i);\n        }\n    } else {\n        dt.clearData();\n    }\n}\n\nexport function handleDrop(drive: number, event: DragEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (drive < 1) {\n        if (!_disk2.getMetadata(1)) {\n            drive = 1;\n        } else if (!_disk2.getMetadata(2)) {\n            drive = 2;\n        } else {\n            drive = 1;\n        }\n    }\n    const dt = event.dataTransfer!;\n    if (dt.files.length == 1) {\n        const runOnLoad = event.shiftKey;\n        doLoadLocal(drive as DriveNumber, dt.files[0], { runOnLoad });\n    } else if (dt.files.length == 2) {\n        doLoadLocal(1, dt.files[0]);\n        doLoadLocal(2, dt.files[1]);\n    } else {\n        for (let idx = 0; idx < dt.items.length; idx++) {\n            if (dt.items[idx].type === 'text/uri-list') {\n                dt.items[idx].getAsString(function (url) {\n                    const parts = hup().split('|');\n                    parts[drive - 1] = url;\n                    document.location.hash = parts.join('|');\n                });\n            }\n        }\n    }\n}\n\nfunction loadingStart() {\n    const meter = document.querySelector<HTMLDivElement>('#loading-modal .meter')!;\n    meter.style.display = 'none';\n    MicroModal.show('loading-modal');\n}\n\nfunction loadingProgress(current: number, total: number) {\n    if (total) {\n        const meter = document.querySelector<HTMLDivElement>('#loading-modal .meter')!;\n        const progress = document.querySelector<HTMLDivElement>('#loading-modal .progress')!;\n        meter.style.display = 'block';\n        progress.style.width = current / total * meter.clientWidth + 'px';\n    }\n}\n\nfunction loadingStop() {\n    MicroModal.close('loading-modal');\n\n    if (!paused) {\n        ready.then(() => {\n            _apple2.run();\n        }).catch(console.error);\n    }\n}\n\ninterface JSONBinaryImage {\n    type: 'binary',\n    start: word,\n    length: word,\n    data: byte[],\n    gamepad?: GamepadConfiguration,\n}\n\nexport function loadAjax(drive: DriveNumber, url: string) {\n    loadingStart();\n\n    fetch(url).then(function (response: Response) {\n        if (response.ok) {\n            return response.json();\n        } else {\n            throw new Error('Error loading: ' + response.statusText);\n        }\n    }).then(function (data: JSONDisk | JSONBinaryImage) {\n        if (data.type === 'binary') {\n            loadBinary(data as JSONBinaryImage);\n        } else if (includes(DISK_FORMATS, data.type)) {\n            loadDisk(drive, data);\n        }\n        initGamepad(data.gamepad);\n        loadingStop();\n    }).catch(function (error) {\n        loadingStop();\n        openAlert(error.message);\n        console.error(error);\n    });\n}\n\nexport function doLoad(event: MouseEvent|KeyboardEvent) {\n    MicroModal.close('load-modal');\n    const select = document.querySelector<HTMLSelectElement>('#disk_select')!;\n    const urls = select.value;\n    let url;\n    if (urls && urls.length) {\n        if (typeof (urls) == 'string') {\n            url = urls;\n        } else {\n            url = urls[0];\n        }\n    }\n\n    const localFile = document.querySelector<HTMLInputElement>('#local_file')!;\n    const files = localFile.files;\n    if (files && files.length == 1) {\n        const runOnLoad = event.shiftKey;\n        doLoadLocal(_currentDrive, files[0], { runOnLoad });\n    } else if (url) {\n        let filename;\n        MicroModal.close('load-modal');\n        if (url.substr(0, 6) == 'local:') {\n            filename = url.substr(6);\n            if (filename == '__manage') {\n                openManage();\n            } else {\n                loadLocalStorage(_currentDrive, filename);\n            }\n        } else {\n            const r1 = /json\\/disks\\/(.*).json$/.exec(url);\n            if (r1) {\n                filename = r1[1];\n            } else {\n                filename = url;\n            }\n            const parts = hup().split('|');\n            parts[_currentDrive - 1] = filename;\n            document.location.hash = parts.join('|');\n        }\n    }\n}\n\nexport function doSave() {\n    const saveName = document.querySelector<HTMLInputElement>('#save_name')!;\n    const name = saveName.value;\n    saveLocalStorage(_currentDrive, name);\n    MicroModal.close('save-modal');\n    window.setTimeout(() => openAlert('Saved'), 0);\n}\n\nexport function doDelete(name: string) {\n    if (window.confirm('Delete ' + name + '?')) {\n        deleteLocalStorage(name);\n    }\n}\n\ninterface LoadOptions {\n    address?: word,\n    runOnLoad?: boolean,\n}\n\nfunction doLoadLocal(drive: DriveNumber, file: File, options: Partial<LoadOptions> = {}) {\n    const parts = file.name.split('.');\n    const ext = parts[parts.length - 1].toLowerCase();\n    const matches = file.name.match(CIDERPRESS_EXTENSION);\n    let type, aux;\n    if (matches && matches.length === 3) {\n        [, type, aux] = matches;\n    }\n    if (includes(DISK_FORMATS, ext)) {\n        doLoadLocalDisk(drive, file);\n    } else if (includes(TAPE_TYPES, ext)) {\n        tape.doLoadLocalTape(file);\n    } else if (BIN_TYPES.includes(ext) || type === '06' || options.address) {\n        const address = aux !== undefined ? parseInt(aux, 16) : undefined;\n        doLoadBinary(file, { address, ...options });\n    } else {\n        const addressInput = document.querySelector<HTMLInputElement>('#local_file_address');\n        const addressStr = addressInput?.value;\n        if (addressStr) {\n            const address = parseInt(addressStr, 16);\n            if (isNaN(address)) {\n                openAlert('Invalid address: ' + addressStr);\n                return;\n            }\n            doLoadBinary(file, { address, ...options });\n        } else {\n            openAlert('Unknown file type: ' + ext);\n        }\n    }\n}\n\nfunction doLoadBinary(file: File, options: LoadOptions) {\n    loadingStart();\n\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const result = this.result as ArrayBuffer;\n        let { address } = options;\n        address = address ?? 0x2000;\n        const bytes = new Uint8Array(result);\n        for (let idx = 0; idx < result.byteLength; idx++) {\n            cpu.write(address >> 8, address & 0xff, bytes[idx]);\n            address++;\n        }\n        if (options.runOnLoad) {\n            cpu.reset();\n            cpu.setPC(address);\n        }\n        loadingStop();\n    };\n    fileReader.readAsArrayBuffer(file);\n}\n\nfunction doLoadLocalDisk(drive: DriveNumber, file: File) {\n    loadingStart();\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const result = this.result as ArrayBuffer;\n        const parts = file.name.split('.');\n        const ext = parts.pop()!.toLowerCase();\n        const name = parts.join('.');\n\n        // Remove any json file reference\n        const files = hup().split('|');\n        files[drive - 1] = '';\n        document.location.hash = files.join('|');\n\n        if (includes(DISK_FORMATS, ext)) {\n            if (result.byteLength >= 800 * 1024) {\n                if (\n                    includes(BLOCK_FORMATS, ext) &&\n                    _massStorage.setBinary(drive, name, ext, result)\n                ) {\n                    initGamepad();\n                } else {\n                    openAlert(`Unable to load ${name}`);\n                }\n            } else {\n                if (\n                    includes(NIBBLE_FORMATS, ext) &&\n                    _disk2.setBinary(drive, name, ext, result)\n                ) {\n                    initGamepad();\n                } else {\n                    openAlert(`Unable to load ${name}`);\n                }\n            }\n        }\n        loadingStop();\n    };\n    fileReader.readAsArrayBuffer(file);\n}\n\nexport function doLoadHTTP(drive: DriveNumber, url?: string) {\n    if (!url) {\n        MicroModal.close('http-modal');\n    }\n\n    loadingStart();\n    const input = document.querySelector<HTMLInputElement>('#http_url')!;\n    url = url || input.value;\n    if (url) {\n        fetch(url).then(function (response) {\n            if (response.ok) {\n                const reader = response!.body!.getReader();\n                let received = 0;\n                const chunks: Uint8Array[] = [];\n                const contentLength = parseInt(response.headers.get('content-length')!, 10);\n\n                return reader.read().then(\n                    function readChunk(result): Promise<ArrayBufferLike> {\n                        if (result.done) {\n                            const data = new Uint8Array(received);\n                            let offset = 0;\n                            for (let idx = 0; idx < chunks.length; idx++) {\n                                data.set(chunks[idx], offset);\n                                offset += chunks[idx].length;\n                            }\n                            return Promise.resolve(data.buffer);\n                        }\n\n                        received += result.value.length;\n                        if (contentLength) {\n                            loadingProgress(received, contentLength);\n                        }\n                        chunks.push(result.value);\n\n                        return reader.read().then(readChunk);\n                    });\n            } else {\n                throw new Error('Error loading: ' + response.statusText);\n            }\n        }).then(function (data) {\n            const urlParts = url!.split('/');\n            const file = urlParts.pop()!;\n            const fileParts = file.split('.');\n            const ext = fileParts.pop()!.toLowerCase();\n            const name = decodeURIComponent(fileParts.join('.'));\n            if (includes(DISK_FORMATS, ext)) {\n                if (data.byteLength >= 800 * 1024) {\n                    if (\n                        includes(BLOCK_FORMATS, ext) &&\n                        _massStorage.setBinary(drive, name, ext, data)\n                    ) {\n                        initGamepad();\n                    }\n                } else {\n                    if (\n                        includes(NIBBLE_FORMATS, ext) &&\n                        _disk2.setBinary(drive, name, ext, data)\n                    ) {\n                        initGamepad();\n                    }\n                }\n            } else {\n                throw new Error(`Extension ${ext} not recognized.`);\n            }\n            loadingStop();\n        }).catch(function (error) {\n            loadingStop();\n            openAlert(error.message);\n            console.error(error);\n        });\n    }\n}\n\nfunction openLoadHTTP() {\n    MicroModal.show('http-modal');\n}\n\nfunction openManage() {\n    MicroModal.show('manage-modal');\n}\n\nlet showStats = 0;\n\nexport function updateKHz() {\n    const now = Date.now();\n    const ms = now - startTime;\n    const cycles = cpu.getCycles();\n    let delta;\n    let fps;\n    let khz;\n\n    const kHzElement = document.querySelector<HTMLDivElement>('#khz')!;\n    switch (showStats) {\n        case 0: {\n            delta = cycles - lastCycles;\n            khz = Math.trunc(delta / ms);\n            kHzElement.innerText = khz + ' kHz';\n            break;\n        }\n        case 1: {\n            delta = stats.renderedFrames - lastRenderedFrames;\n            fps = Math.trunc(delta / (ms / 1000));\n            kHzElement.innerText = fps + ' rps';\n            break;\n        }\n        default: {\n            delta = stats.frames - lastFrames;\n            fps = Math.trunc(delta / (ms / 1000));\n            kHzElement.innerText = fps + ' fps';\n        }\n    }\n\n    startTime = now;\n    lastCycles = cycles;\n    lastRenderedFrames = stats.renderedFrames;\n    lastFrames = stats.frames;\n}\n\nexport function toggleShowFPS() {\n    showStats = ++showStats % 3;\n}\n\nexport function toggleSound() {\n    const on = !audio.isEnabled();\n    optionsModal.setOption(SOUND_ENABLED_OPTION, on);\n    updateSoundButton(on);\n}\n\nfunction initSoundToggle() {\n    updateSoundButton(audio.isEnabled());\n}\n\nfunction updateSoundButton(on: boolean) {\n    const label = document.querySelector<HTMLDivElement>('#toggle-sound i')!;\n    if (on) {\n        label.classList.remove('fa-volume-off');\n        label.classList.add('fa-volume-up');\n    } else {\n        label.classList.remove('fa-volume-up');\n        label.classList.add('fa-volume-off');\n    }\n}\n\nfunction dumpDisk(drive: DriveNumber) {\n    const wind = window.open('', '_blank')!;\n    wind.document.title = driveLights.label(drive);\n    wind.document.write('<pre>');\n    wind.document.write(_disk2.getJSON(drive, true));\n    wind.document.write('</pre>');\n    wind.document.close();\n}\n\nexport function reset() {\n    _apple2.reset();\n}\n\nfunction loadBinary(bin: JSONBinaryImage) {\n    const maxLen = Math.min(bin.length, 0x10000 - bin.start);\n    for (let idx = 0; idx < maxLen; idx++) {\n        const pos = bin.start + idx;\n        cpu.write(pos, bin.data[idx]);\n    }\n    cpu.reset();\n    cpu.setPC(bin.start);\n}\n\nexport function selectCategory() {\n    const diskSelect = document.querySelector<HTMLSelectElement>('#disk_select')!;\n    const categorySelect = document.querySelector<HTMLSelectElement>('#category_select')!;\n    diskSelect.innerHTML = '';\n    const cat = disk_categories[categorySelect.value];\n    if (cat) {\n        for (let idx = 0; idx < cat.length; idx++) {\n            const file = cat[idx];\n            let name = file.name;\n            if (file.disk) {\n                name += ' - ' + file.disk;\n            }\n            const option = document.createElement('option');\n            option.value = file.filename;\n            option.innerText = name;\n            diskSelect.append(option);\n            if (disk_cur_name[_currentDrive] === name) {\n                option.selected = true;\n            }\n        }\n    }\n}\n\nexport function selectDisk() {\n    const localFile = document.querySelector<HTMLInputElement>('#local_file')!;\n    localFile.value = '';\n}\n\nexport function clickDisk(event: MouseEvent|KeyboardEvent) {\n    doLoad(event);\n}\n\n/** Called to load disks from the local catalog. */\nfunction loadDisk(drive: DriveNumber, disk: JSONDisk) {\n    let name = disk.name;\n    const category = disk.category!; // all disks in the local catalog have a category\n\n    if (disk.disk) {\n        name += ' - ' + disk.disk;\n    }\n\n    disk_cur_cat[drive] = category;\n    disk_cur_name[drive] = name;\n\n    _disk2.setDisk(drive, disk);\n    initGamepad(disk.gamepad);\n}\n\n/*\n *  LocalStorage Disk Storage\n */\n\nfunction updateLocalStorage() {\n    const diskIndex = JSON.parse(window.localStorage.diskIndex || '{}');\n    const names = Object.keys(diskIndex);\n\n    const cat: DiskDescriptor[] = disk_categories['Local Saves'] = [];\n    const contentDiv = document.querySelector<HTMLDivElement>('#manage-modal-content')!;\n    contentDiv.innerHTML = '';\n\n    names.forEach(function (name) {\n        cat.push({\n            'category': 'Local Saves',\n            'name': name,\n            'filename': 'local:' + name\n        });\n        contentDiv.innerHTML =\n            '<span class=\"local_save\">' +\n            name +\n            ' <a href=\"#\" onclick=\"Apple2.doDelete(\\'' +\n            name +\n            '\\')\">Delete</a><br /></span>';\n    });\n    cat.push({\n        'category': 'Local Saves',\n        'name': 'Manage Saves...',\n        'filename': 'local:__manage'\n    });\n}\n\ntype LocalDiskIndex = {\n    [name: string]: string,\n}\n\nfunction saveLocalStorage(drive: DriveNumber, name: string) {\n    const diskIndex = JSON.parse(window.localStorage.diskIndex || '{}') as LocalDiskIndex;\n\n    const json = _disk2.getJSON(drive);\n    diskIndex[name] = json;\n\n    window.localStorage.diskIndex = JSON.stringify(diskIndex);\n\n    driveLights.label(drive, name);\n    driveLights.dirty(drive, false);\n    updateLocalStorage();\n}\n\nfunction deleteLocalStorage(name: string) {\n    const diskIndex = JSON.parse(window.localStorage.diskIndex || '{}') as LocalDiskIndex;\n    if (diskIndex[name]) {\n        delete diskIndex[name];\n        openAlert('Deleted');\n    }\n    window.localStorage.diskIndex = JSON.stringify(diskIndex);\n    updateLocalStorage();\n}\n\nfunction loadLocalStorage(drive: DriveNumber, name: string) {\n    const diskIndex = JSON.parse(window.localStorage.diskIndex || '{}') as LocalDiskIndex;\n    if (diskIndex[name]) {\n        _disk2.setJSON(drive, diskIndex[name]);\n        driveLights.label(drive, name);\n        driveLights.dirty(drive, false);\n    }\n}\n\nif (window.localStorage !== undefined) {\n    const nodes = document.querySelectorAll<HTMLElement>('.disksave');\n    nodes.forEach(function (el) {\n        el.style.display = 'inline-block';\n    });\n}\n\nconst categorySelect = document.querySelector<HTMLSelectElement>('#category_select')!;\n\ndeclare global {\n    interface Window {\n        disk_index: DiskDescriptor[];\n    }\n}\n\nfunction buildDiskIndex() {\n    let oldCat = '';\n    let option;\n    for (let idx = 0; idx < window.disk_index.length; idx++) {\n        const file = window.disk_index[idx];\n        const cat = file.category;\n        const name = file.name;\n        const disk = file.disk;\n        if (file.e && !_e) {\n            continue;\n        }\n        if (cat != oldCat) {\n            option = document.createElement('option');\n            option.value = cat;\n            option.innerText = cat;\n            categorySelect.append(option);\n\n            disk_categories[cat] = [];\n            oldCat = cat;\n        }\n        disk_categories[cat].push(file);\n        if (disk) {\n            if (!disk_sets[name]) {\n                disk_sets[name] = [];\n            }\n            disk_sets[name].push(file);\n        }\n    }\n    option = document.createElement('option');\n    option.innerText = 'Local Saves';\n    categorySelect.append(option);\n\n    updateLocalStorage();\n}\n\n/**\n * Processes the URL fragment. It is expected to be of the form:\n * `disk1|disk2` where each disk is the name of a local image OR\n * a URL.\n */\nfunction processHash(hash: string) {\n    const files = hash.split('|');\n    for (let idx = 0; idx < Math.min(2, files.length); idx++) {\n        const drive = idx + 1;\n        if (!includes(DRIVE_NUMBERS, drive)) {\n            break;\n        }\n        const file = files[idx];\n        if (file.indexOf('://') > 0) {\n            const parts = file.split('.');\n            const ext = parts[parts.length - 1].toLowerCase();\n            if (ext == 'json') {\n                loadAjax(drive, file);\n            } else {\n                doLoadHTTP(drive, file);\n            }\n        } else if (file) {\n            loadAjax(drive, 'json/disks/' + file + '.json');\n        }\n    }\n}\n\nexport function updateUI() {\n    if (document.location.hash != hashtag) {\n        hashtag = document.location.hash;\n        const hash = hup();\n        if (hash) {\n            processHash(hash);\n        }\n    }\n}\n\nexport function pauseRun() {\n    const label = document.querySelector<HTMLElement>('#pause-run i')!;\n    if (paused) {\n        ready.then(() => {\n            _apple2.run();\n        }).catch(console.error);\n        label.classList.remove('fa-play');\n        label.classList.add('fa-pause');\n    } else {\n        _apple2.stop();\n        label.classList.remove('fa-pause');\n        label.classList.add('fa-play');\n    }\n    paused = !paused;\n}\n\nexport function openOptions() {\n    optionsModal.openModal();\n}\n\nexport function openPrinterModal() {\n    const mimeType = 'application/octet-stream';\n    const data = _printer.getRawOutput();\n    const a = document.querySelector<HTMLAnchorElement>('#raw_printer_output')!;\n\n    const blob = new Blob([data], { 'type': mimeType });\n    a.href = window.URL.createObjectURL(blob);\n    a.download = 'raw_printer_output.bin';\n    MicroModal.show('printer-modal');\n}\n\nexport function clearPrinterPaper() {\n    _printer.clear();\n}\n\ndeclare global {\n    interface Window {\n        clipboardData?: DataTransfer;\n    }\n    interface Event {\n        clipboardData?: DataTransfer;\n    }\n    interface Navigator {\n        standalone?: boolean;\n    }\n}\n\n/**\n * Returns the value of a query parameter or the empty string if it does not\n * exist.\n * @param name the parameter name. Note that `name` must not have any RegExp\n *     meta-characters except '[' and ']' or it will fail.\n */\n\nfunction gup(name: string) {\n    const params = new URLSearchParams(window.location.search);\n    return params.get(name);\n}\n\n/** Returns the URL fragment. */\nfunction hup() {\n    const regex = new RegExp('#(.*)');\n    const hash = decodeURIComponent(window.location.hash);\n    const results = regex.exec(hash);\n    if (!results)\n        return '';\n    else\n        return results[1];\n}\n\nfunction onLoaded(apple2: Apple2, disk2: DiskII, massStorage: MassStorage, printer: Printer, e: boolean) {\n    _apple2 = apple2;\n    cpu = _apple2.getCPU();\n    io = _apple2.getIO();\n    stats = apple2.getStats();\n    vm = apple2.getVideoModes();\n    tape = new Tape(io);\n    _disk2 = disk2;\n    _massStorage = massStorage;\n    _printer = printer;\n    _e = e;\n\n    system = new System(io, e);\n    optionsModal.addOptions(system);\n\n    joystick = new JoyStick(io);\n    optionsModal.addOptions(joystick);\n\n    screen = new Screen(vm);\n    optionsModal.addOptions(screen);\n\n    audio = new Audio(io);\n    optionsModal.addOptions(audio);\n    initSoundToggle();\n\n    ready = Promise.all([audio.ready, apple2.ready]);\n\n    MicroModal.init();\n\n    keyboard = new KeyBoard(cpu, io, e);\n    keyboard.create('#keyboard');\n    keyboard.setFunction('F1', () => cpu.reset());\n    keyboard.setFunction('F2', (event) => {\n        if (event.shiftKey) { // Full window, but not full screen\n            optionsModal.setOption(\n                SCREEN_FULL_PAGE,\n                !optionsModal.getOption(SCREEN_FULL_PAGE)\n            );\n        } else {\n            screen.enterFullScreen();\n        }\n    });\n    keyboard.setFunction('F3', () => io.keyDown(0x1b)); // Escape\n    keyboard.setFunction('F4', optionsModal.openModal);\n    keyboard.setFunction('F6', () => {\n        window.localStorage.state = base64_json_stringify(_apple2.getState());\n    });\n    keyboard.setFunction('F9', () => {\n        if (window.localStorage.state) {\n            _apple2.setState(base64_json_parse(window.localStorage.state));\n        }\n    });\n\n    buildDiskIndex();\n\n    /*\n     * Input Handling\n     */\n\n    window.addEventListener('paste', (event: Event) => {\n        const paste = (event.clipboardData || window.clipboardData)!.getData('text');\n        io.setKeyBuffer(paste);\n        event.preventDefault();\n    });\n\n    window.addEventListener('copy', (event: Event) => {\n        event.clipboardData!.setData('text/plain', vm.getText());\n        event.preventDefault();\n    });\n\n    if (navigator.standalone) {\n        document.body.classList.add('standalone');\n    }\n\n    cpu.reset();\n    setInterval(updateKHz, 1000);\n    initGamepad();\n\n    // Check for disks in hashtag\n\n    const hash = gup('disk') || hup();\n    if (hash) {\n        _apple2.stop();\n        processHash(hash);\n    } else {\n        ready.then(() => {\n            _apple2.run();\n        }).catch(console.error);\n    }\n\n    document.querySelector<HTMLInputElement>('#local_file')?.addEventListener(\n        'change',\n        (event: Event) => {\n            const target = event.target as HTMLInputElement;\n            const address = document.querySelector<HTMLInputElement>('#local_file_address_input')!;\n            const parts = target.value.split('.');\n            const ext = parts[parts.length - 1];\n\n            if (KNOWN_FILE_TYPES.includes(ext)) {\n                address.style.display = 'none';\n            } else {\n                address.style.display = 'inline-block';\n            }\n        }\n    );\n}\n\nexport function initUI(apple2: Apple2, disk2: DiskII, massStorage: MassStorage, printer: Printer, e: boolean) {\n    window.addEventListener('load', () => {\n        onLoaded(apple2, disk2, massStorage, printer, e);\n    });\n}\n","import { Callbacks } from '../cards/disk2';\nimport type { DriveNumber } from '../formats/types';\n\nexport default class DriveLights implements Callbacks {\n    public driveLight(drive: DriveNumber, on: boolean) {\n        const disk =\n            document.querySelector('#disk' + drive)! as HTMLElement;\n        disk.style.backgroundImage =\n            on ? 'url(css/red-on-16.png)' :\n                'url(css/red-off-16.png)';\n    }\n\n    public dirty(_drive: DriveNumber, _dirty: boolean) {\n        // document.querySelector('#disksave' + drive).disabled = !dirty;\n    }\n\n    public label(drive: DriveNumber, label?: string, side?: string) {\n        const labelElement =\n            document.querySelector('#disk-label' + drive)! as HTMLElement;\n        if (label) {\n            labelElement.innerText = label + (side ? ` - ${side}` : '');\n        }\n        return labelElement.innerText;\n    }\n}\n","import { byte } from '../types';\n\n/**\n  * Printer UI. The \"paper\" is bound to the element selected by the input.\n  *\n  * Every line that is output to the printer is added as a <div> to the paper.\n  * The high bit of all characters is stripped and only visible characters are\n  * added to the output. The following characters receive special treatment:\n  *\n  * *   `EOT` (ASCII 4): deletes last character\n  * *   `HT` (ASCII 9): replaced with 8 spaces\n  * *   `LF` (ASCII 10): silently removed\n  * *   `CR` (ASCII 13): a newline and carriage return\n  */\nexport default class Printer {\n    private paper: HTMLElement;\n    private _lineBuffer = '';\n    private _line: HTMLElement;\n    private _rawLen = 0;\n    private _raw = new Uint8Array(1024);\n\n    /**\n     * Creates a new printer bound to the given element.\n     * @param {string} el The selector of the element on which to bind the \"paper\".\n     */\n    constructor(el: string) {\n        this.paper = document.querySelector(el)!;\n        this.newLine();\n    }\n\n    private newLine() {\n        this._line = document.createElement('div');\n        this._line.classList.add('line');\n        this._line.innerText = this._lineBuffer;\n        this.paper.append(this._line);\n        this._lineBuffer = '';\n    }\n\n    putChar(val: byte) {\n        const ascii = val & 0x7f;\n        const visible = val >= 0x20;\n        const c = String.fromCharCode(ascii);\n\n        if (c === '\\r') {\n            this.newLine();\n        } else if (c === '\\n') {\n            // eat for now\n        } else if (c === '\\t') {\n            // possibly not right due to tab stops\n            this._lineBuffer += '        ';\n        } else if (ascii === 0x04) {\n            this._lineBuffer = this._lineBuffer.slice(0, -1);\n        } else if (visible) {\n            this._lineBuffer += c;\n        }\n        this._line.innerText = this._lineBuffer;\n        this._raw[this._rawLen] = val;\n        this._rawLen++;\n        if (this._rawLen > this._raw.length) {\n            const newRaw = new Uint8Array(this._raw.length * 2);\n            newRaw.set(this._raw);\n            this._raw = newRaw;\n        }\n    }\n\n    clear() {\n        this._lineBuffer = '';\n        this.paper.innerHTML = '';\n        this.newLine();\n        this._raw = new Uint8Array(1024);\n        this._rawLen = 0;\n    }\n\n    hasPrintout() {\n        return this.paper.innerText.length > 0;\n    }\n\n    getRawOutput() {\n        return this._raw.slice(0, this._rawLen);\n    }\n}\n","import { bit, byte, memory } from '../types';\nimport { base64_decode, base64_encode } from '../base64';\nimport { bytify, debug, toHex } from '../util';\nimport { NibbleDisk, ENCODING_NIBBLE } from './types';\n\n/**\n * DOS 3.3 Physical sector order (index is physical sector, value is DOS sector).\n */\nexport const DO = [\n    0x0, 0x7, 0xE, 0x6, 0xD, 0x5, 0xC, 0x4,\n    0xB, 0x3, 0xA, 0x2, 0x9, 0x1, 0x8, 0xF\n] as const;\n\n/**\n * DOS 3.3 Logical sector order (index is DOS sector, value is physical sector).\n */\nexport const _DO = [\n    0x0, 0xD, 0xB, 0x9, 0x7, 0x5, 0x3, 0x1,\n    0xE, 0xC, 0xA, 0x8, 0x6, 0x4, 0x2, 0xF\n] as const;\n\n/**\n * ProDOS Physical sector order (index is physical sector, value is ProDOS sector).\n */\nexport const PO = [\n    0x0, 0x8, 0x1, 0x9, 0x2, 0xa, 0x3, 0xb,\n    0x4, 0xc, 0x5, 0xd, 0x6, 0xe, 0x7, 0xf\n] as const;\n\n/**\n * ProDOS Logical sector order (index is ProDOS sector, value is physical sector).\n */\nexport const _PO = [\n    0x0, 0x2, 0x4, 0x6, 0x8, 0xa, 0xc, 0xe,\n    0x1, 0x3, 0x5, 0x7, 0x9, 0xb, 0xd, 0xf\n] as const;\n\n/**\n * DOS 13-sector disk physical sector order (index is disk sector, value is\n * physical sector).\n */\nexport const D13O = [\n    0x0, 0xa, 0x7, 0x4, 0x1, 0xb, 0x8, 0x5, 0x2, 0xc, 0x9, 0x6, 0x3\n] as const;\n\nexport const _D13O = [\n    0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8, 0x9, 0xa, 0xb, 0xc\n] as const;\n\nconst _trans53 = [\n    0xab, 0xad, 0xae, 0xaf, 0xb5, 0xb6, 0xb7, 0xba,\n    0xbb, 0xbd, 0xbe, 0xbf, 0xd6, 0xd7, 0xda, 0xdb,\n    0xdd, 0xde, 0xdf, 0xea, 0xeb, 0xed, 0xee, 0xef,\n    0xf5, 0xf6, 0xf7, 0xfa, 0xfb, 0xfd, 0xfe, 0xff\n] as const;\n\nconst _trans62 = [\n    0x96, 0x97, 0x9a, 0x9b, 0x9d, 0x9e, 0x9f, 0xa6,\n    0xa7, 0xab, 0xac, 0xad, 0xae, 0xaf, 0xb2, 0xb3,\n    0xb4, 0xb5, 0xb6, 0xb7, 0xb9, 0xba, 0xbb, 0xbc,\n    0xbd, 0xbe, 0xbf, 0xcb, 0xcd, 0xce, 0xcf, 0xd3,\n    0xd6, 0xd7, 0xd9, 0xda, 0xdb, 0xdc, 0xdd, 0xde,\n    0xdf, 0xe5, 0xe6, 0xe7, 0xe9, 0xea, 0xeb, 0xec,\n    0xed, 0xee, 0xef, 0xf2, 0xf3, 0xf4, 0xf5, 0xf6,\n    0xf7, 0xf9, 0xfa, 0xfb, 0xfc, 0xfd, 0xfe, 0xff\n] as const;\n\nexport const detrans62 = [\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01,\n    0x00, 0x00, 0x02, 0x03, 0x00, 0x04, 0x05, 0x06,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x07, 0x08,\n    0x00, 0x00, 0x00, 0x09, 0x0A, 0x0B, 0x0C, 0x0D,\n    0x00, 0x00, 0x0E, 0x0F, 0x10, 0x11, 0x12, 0x13,\n    0x00, 0x14, 0x15, 0x16, 0x17, 0x18, 0x19, 0x1A,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,\n    0x00, 0x00, 0x00, 0x1B, 0x00, 0x1C, 0x1D, 0x1E,\n    0x00, 0x00, 0x00, 0x1F, 0x00, 0x00, 0x20, 0x21,\n    0x00, 0x22, 0x23, 0x24, 0x25, 0x26, 0x27, 0x28,\n    0x00, 0x00, 0x00, 0x00, 0x00, 0x29, 0x2A, 0x2B,\n    0x00, 0x2C, 0x2D, 0x2E, 0x2F, 0x30, 0x31, 0x32,\n    0x00, 0x00, 0x33, 0x34, 0x35, 0x36, 0x37, 0x38,\n    0x00, 0x39, 0x3A, 0x3B, 0x3C, 0x3D, 0x3E, 0x3F\n] as const;\n\n/**\n * Converts a byte into its 4x4 encoded representation\n *\n * @param val byte to encode.\n * @returns A two byte array of representing the 4x4 encoding.\n */\nexport function fourXfour(val: byte): [xx: byte, yy: byte] {\n    let xx = val & 0xaa;\n    let yy = val & 0x55;\n\n    xx >>= 1;\n    xx |= 0xaa;\n    yy |= 0xaa;\n\n    return [xx, yy];\n}\n\n/**\n * Converts 2 4x4 encoded bytes into a byte value\n *\n * @param xx First encoded byte.\n * @param yy Second encoded byte.\n * @returns The decoded value.\n */\nexport function defourXfour(xx: byte, yy: byte): byte {\n    return ((xx << 1) | 0x01) & yy;\n}\n\n/**\n * Converts a raw sector into a nibblized representation to be combined into a\n * nibblized 16 sector track.\n *\n * @param volume volume number\n * @param track track number\n * @param sector sector number\n * @param data sector data\n * @returns a nibblized representation of the sector data\n */\nexport function explodeSector16(volume: byte, track: byte, sector: byte, data: memory): byte[] {\n    let buf = [];\n    let gap;\n\n    /*\n     * Gap 1/3 (40/0x28 bytes)\n     */\n\n    if (sector === 0) // Gap 1\n        gap = 0x80;\n    else { // Gap 3\n        gap = track === 0 ? 0x28 : 0x26;\n    }\n\n    for (let idx = 0; idx < gap; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Address Field\n     */\n\n    const checksum = volume ^ track ^ sector;\n    buf = buf.concat([0xd5, 0xaa, 0x96]); // Address Prolog D5 AA 96\n    buf = buf.concat(fourXfour(volume));\n    buf = buf.concat(fourXfour(track));\n    buf = buf.concat(fourXfour(sector));\n    buf = buf.concat(fourXfour(checksum));\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 2 (5 bytes)\n     */\n\n    for (let idx = 0; idx < 0x05; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Data Field\n     */\n\n    buf = buf.concat([0xd5, 0xaa, 0xad]); // Data Prolog D5 AA AD\n\n    const nibbles: byte[] = [];\n    const ptr2 = 0;\n    const ptr6 = 0x56;\n\n    for (let idx = 0; idx < 0x156; idx++) {\n        nibbles[idx] = 0;\n    }\n\n    let idx2 = 0x55;\n    for (let idx6 = 0x101; idx6 >= 0; idx6--) {\n        let val6 = data[idx6 % 0x100];\n        let val2: byte = nibbles[ptr2 + idx2];\n\n        val2 = (val2 << 1) | (val6 & 1);\n        val6 >>= 1;\n        val2 = (val2 << 1) | (val6 & 1);\n        val6 >>= 1;\n\n        nibbles[ptr6 + idx6] = val6;\n        nibbles[ptr2 + idx2] = val2;\n\n        if (--idx2 < 0)\n            idx2 = 0x55;\n    }\n\n    let last = 0;\n    for (let idx = 0; idx < 0x156; idx++) {\n        const val = nibbles[idx];\n        buf.push(_trans62[last ^ val]);\n        last = val;\n    }\n    buf.push(_trans62[last]);\n\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 3\n     */\n\n    buf.push(0xff);\n\n    return buf;\n}\n\n/**\n * Converts a raw sector into a nibblized representation to be combined into\n * a nibblized 13 sector track.\n *\n * @param volume volume number\n * @param track track number\n * @param sector sector number\n * @param data sector data\n * @returns a nibblized representation of the sector data\n */\nexport function explodeSector13(volume: byte, track: byte, sector: byte, data: memory): byte[] {\n    let buf = [];\n    let gap;\n\n    /*\n     * Gap 1/3 (40/0x28 bytes)\n     */\n\n    if (sector === 0) // Gap 1\n        gap = 0x80;\n    else { // Gap 3\n        gap = track === 0 ? 0x28 : 0x26;\n    }\n\n    for (let idx = 0; idx < gap; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Address Field\n     */\n\n    const checksum = volume ^ track ^ sector;\n    buf = buf.concat([0xd5, 0xaa, 0xb5]); // Address Prolog D5 AA B5\n    buf = buf.concat(fourXfour(volume));\n    buf = buf.concat(fourXfour(track));\n    buf = buf.concat(fourXfour(sector));\n    buf = buf.concat(fourXfour(checksum));\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 2 (5 bytes)\n     */\n\n    for (let idx = 0; idx < 0x05; idx++) {\n        buf.push(0xff);\n    }\n\n    /*\n     * Data Field\n     */\n\n    buf = buf.concat([0xd5, 0xaa, 0xad]); // Data Prolog D5 AA AD\n\n    const nibbles = [];\n\n    let jdx = 0;\n    for (let idx = 0x32; idx >= 0; idx--) {\n        const a5 = data[jdx] >> 3;\n        const a3 = data[jdx] & 0x07;\n        jdx++;\n        const b5 = data[jdx] >> 3;\n        const b3 = data[jdx] & 0x07;\n        jdx++;\n        const c5 = data[jdx] >> 3;\n        const c3 = data[jdx] & 0x07;\n        jdx++;\n        const d5 = data[jdx] >> 3;\n        const d3 = data[jdx] & 0x07;\n        jdx++;\n        const e5 = data[jdx] >> 3;\n        const e3 = data[jdx] & 0x07;\n        jdx++;\n        nibbles[idx + 0x00] = a5;\n        nibbles[idx + 0x33] = b5;\n        nibbles[idx + 0x66] = c5;\n        nibbles[idx + 0x99] = d5;\n        nibbles[idx + 0xcc] = e5;\n        nibbles[idx + 0x100] = a3 << 2 | (d3 & 0x4) >> 1 | (e3 & 0x4) >> 2;\n        nibbles[idx + 0x133] = b3 << 2 | (d3 & 0x2) | (e3 & 0x2) >> 1;\n        nibbles[idx + 0x166] = c3 << 2 | (d3 & 0x1) << 1 | (e3 & 0x1);\n    }\n    nibbles[0xff] = data[jdx] >> 3;\n    nibbles[0x199] = data[jdx] & 0x07;\n\n    let last = 0;\n    for (let idx = 0x199; idx >= 0x100; idx--) {\n        const val = nibbles[idx];\n        buf.push(_trans53[last ^ val]);\n        last = val;\n    }\n    for (let idx = 0x0; idx < 0x100; idx++) {\n        const val = nibbles[idx];\n        buf.push(_trans53[last ^ val]);\n        last = val;\n    }\n    buf.push(_trans53[last]);\n\n    buf = buf.concat([0xde, 0xaa, 0xeb]); // Epilog DE AA EB\n\n    /*\n     * Gap 3\n     */\n\n    buf.push(0xff);\n\n    return buf;\n}\n\n/**\n * Reads a sector of data from a nibblized disk\n *\n * TODO(flan): Does not work on WOZ disks\n *\n * @param disk Nibble disk\n * @param track track number to read\n * @param sector sector number to read\n * @returns An array of sector data bytes.\n */\nexport function readSector(disk: NibbleDisk, track: byte, sector: byte): memory {\n    const _sector = disk.format == 'po' ? _PO[sector] : _DO[sector];\n    let val, state = 0;\n    let idx = 0;\n    let retry = 0;\n    const cur = disk.tracks[track];\n\n    function _readNext() {\n        const result = cur[idx++];\n        if (idx >= cur.length) {\n            idx = 0;\n            retry++;\n        }\n        return result;\n    }\n    function _skipBytes(count: number) {\n        idx += count;\n        if (idx >= cur.length) {\n            idx %= cur.length;\n            retry++;\n        }\n    }\n    let t = 0, s = 0, v = 0, checkSum;\n    const data = new Uint8Array(256);\n    while (retry < 4) {\n        switch (state) {\n            case 0:\n                val = _readNext();\n                state = (val === 0xd5) ? 1 : 0;\n                break;\n            case 1:\n                val = _readNext();\n                state = (val === 0xaa) ? 2 : 0;\n                break;\n            case 2:\n                val = _readNext();\n                state = (val === 0x96) ? 3 : (val === 0xad ? 4 : 0);\n                break;\n            case 3: // Address\n                v = defourXfour(_readNext(), _readNext()); // Volume\n                t = defourXfour(_readNext(), _readNext());\n                s = defourXfour(_readNext(), _readNext());\n                checkSum = defourXfour(_readNext(), _readNext());\n                if (checkSum != (v ^ t ^ s)) {\n                    debug('Invalid header checksum:', toHex(v), toHex(t), toHex(s), toHex(checkSum));\n                }\n                _skipBytes(3); // Skip footer\n                state = 0;\n                break;\n            case 4: // Data\n                if (s === _sector && t === track) {\n                    const data2 = [];\n                    let last = 0;\n                    for (let jdx = 0x55; jdx >= 0; jdx--) {\n                        val = detrans62[_readNext() - 0x80] ^ last;\n                        data2[jdx] = val;\n                        last = val;\n                    }\n                    for (let jdx = 0; jdx < 0x100; jdx++) {\n                        val = detrans62[_readNext() - 0x80] ^ last;\n                        data[jdx] = val;\n                        last = val;\n                    }\n                    checkSum = detrans62[_readNext() - 0x80] ^ last;\n                    if (checkSum) {\n                        debug('Invalid data checksum:', toHex(v), toHex(t), toHex(s), toHex(checkSum));\n                    }\n                    for (let kdx = 0, jdx = 0x55; kdx < 0x100; kdx++) {\n                        data[kdx] <<= 1;\n                        if ((data2[jdx] & 0x01) !== 0) {\n                            data[kdx] |= 0x01;\n                        }\n                        data2[jdx] >>= 1;\n\n                        data[kdx] <<= 1;\n                        if ((data2[jdx] & 0x01) !== 0) {\n                            data[kdx] |= 0x01;\n                        }\n                        data2[jdx] >>= 1;\n\n                        if (--jdx < 0) jdx = 0x55;\n                    }\n                    return data;\n                }\n                else\n                    _skipBytes(0x159); // Skip data, checksum and footer\n                state = 0;\n                break;\n            default:\n                break;\n        }\n    }\n    return new Uint8Array();\n}\n\n/**\n * Convert a nibblized disk into a JSON string for storage.\n *\n * @param disk Nibblized disk\n * @param pretty Whether to format the output string\n * @returns A JSON string representing the disk\n */\nexport function jsonEncode(disk: NibbleDisk, pretty: boolean): string {\n    // For 'nib', tracks are encoded as strings. For all other formats,\n    // tracks are arrays of sectors which are encoded as strings.\n    const data: string[] | string[][] = [];\n    let format = 'dsk';\n    for (let t = 0; t < disk.tracks.length; t++) {\n        data[t] = [];\n        if (disk.format === 'nib') {\n            format = 'nib';\n            data[t] = base64_encode(disk.tracks[t]);\n        } else {\n            for (let s = 0; s < 0x10; s++) {\n                (data[t] as string[])[s] = base64_encode(readSector(disk, t, s));\n            }\n        }\n    }\n    return JSON.stringify({\n        'type': format,\n        'encoding': 'base64',\n        'volume': disk.volume,\n        'data': data,\n        'readOnly': disk.readOnly,\n    }, undefined, pretty ? '    ' : undefined);\n}\n\n/**\n * Convert a JSON string into a nibblized disk.\n *\n * @param data JSON string representing a disk image, created by [jsonEncode].\n * @returns A nibblized disk\n */\n\nexport function jsonDecode(data: string): NibbleDisk {\n    const tracks: memory[] = [];\n    const json = JSON.parse(data);\n    const v = json.volume;\n    const readOnly = json.readOnly;\n    for (let t = 0; t < json.data.length; t++) {\n        let track: byte[] = [];\n        for (let s = 0; s < json.data[t].length; s++) {\n            const _s = json.type == 'po' ? PO[s] : DO[s];\n            const sector: string = json.data[t][_s];\n            const d = base64_decode(sector);\n            track = track.concat(explodeSector16(v, t, s, d));\n        }\n        tracks[t] = bytify(track);\n    }\n    const disk: NibbleDisk = {\n        volume: v,\n        format: json.type,\n        encoding: ENCODING_NIBBLE,\n        name: json.name,\n        tracks,\n        readOnly,\n    };\n\n    return disk;\n}\n\n/**\n * Debugging method that displays the logical sector ordering of a nibblized disk\n *\n * @param disk\n */\n\nexport function analyseDisk(disk: NibbleDisk) {\n    for (let track = 0; track < 35; track++) {\n        let outStr = `${toHex(track)}: `;\n        let val, state = 0;\n        let idx = 0;\n        const cur = disk.tracks[track];\n\n        const _readNext = () => {\n            const result = cur[idx++];\n            return result;\n        };\n\n        const _skipBytes = (count: number) => {\n            idx += count;\n        };\n\n        let t = 0, s = 0, v = 0, checkSum;\n        while (idx < cur.length) {\n            switch (state) {\n                case 0:\n                    val = _readNext();\n                    state = (val === 0xd5) ? 1 : 0;\n                    break;\n                case 1:\n                    val = _readNext();\n                    state = (val === 0xaa) ? 2 : 0;\n                    break;\n                case 2:\n                    val = _readNext();\n                    state = (val === 0x96) ? 3 : (val === 0xad ? 4 : 0);\n                    break;\n                case 3: // Address\n                    v = defourXfour(_readNext(), _readNext()); // Volume\n                    t = defourXfour(_readNext(), _readNext());\n                    s = defourXfour(_readNext(), _readNext());\n                    checkSum = defourXfour(_readNext(), _readNext());\n                    if (checkSum != (v ^ t ^ s)) {\n                        debug('Invalid header checksum:', toHex(v), toHex(t), toHex(s), toHex(checkSum));\n                    } else {\n                        outStr += toHex(s, 1);\n                    }\n                    _skipBytes(3); // Skip footer\n                    state = 0;\n                    break;\n                case 4: // Valid header\n                    _skipBytes(0x159); // Skip data, checksum and footer\n                    state = 0;\n                    break;\n                default:\n                    break;\n            }\n        }\n        debug(outStr);\n    }\n}\n\n/**\n * Debugging utility to convert a bitstream into a nibble. Does not wrap.\n *\n * @param bits Bitstream containing nibbles\n * @param offset Offset into bitstream to start nibblizing\n * @returns nibble, the next nibble in the bitstream,\n *      and offset, the end of that nibble in the bitstream\n */\n\nexport function grabNibble(bits: bit[], offset: number) {\n    let nibble = 0;\n    let waitForOne = true;\n\n    while (offset < bits.length) {\n        const bit = bits[offset];\n        if (bit) {\n            nibble = (nibble << 1) | 0x01;\n            waitForOne = false;\n        } else {\n            if (!waitForOne) {\n                nibble = nibble << 1;\n            }\n        }\n        if (nibble & 0x80) {\n            // nibble complete return it\n            break;\n        }\n        offset += 1;\n    }\n\n    return {\n        nibble: nibble,\n        offset: offset\n    };\n}\n","import { explodeSector16, DO } from './format_utils';\nimport { bytify } from '../util';\nimport { byte } from '../types';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from DOS-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromDOS(options: DiskOptions): NibbleDisk {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'dsk',\n        encoding: ENCODING_NIBBLE,\n        name,\n        side,\n        volume,\n        readOnly,\n        tracks: [],\n    };\n\n    for (let t = 0; t < 35; t++) {\n        let track: byte[] = [];\n        for (let physical_sector = 0; physical_sector < 16; physical_sector++) {\n            const dos_sector = DO[physical_sector];\n            let sector: Uint8Array;\n            if (rawData) {\n                const off = (16 * t + dos_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = new Uint8Array(data[t][dos_sector]);\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector16(volume, t, physical_sector, sector)\n            );\n        }\n        disk.tracks[t] = bytify(track);\n    }\n    return disk;\n}\n","import { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\nimport { memory } from '../types';\n\n/**\n * Returns a `Disk` object from raw nibble image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromNibble(options: DiskOptions): NibbleDisk {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'nib',\n        encoding: ENCODING_NIBBLE,\n        name,\n        side,\n        volume: volume || 254,\n        readOnly: readOnly || false,\n        tracks: []\n    };\n\n    for (let t = 0; t < 35; t++) {\n        let track: memory;\n        if (rawData) {\n            const off = t * 0x1a00;\n            track = new Uint8Array(rawData.slice(off, off + 0x1a00));\n        } else if (data) {\n            track = data[t][0];\n        } else {\n            throw new Error('Requires data or rawData');\n        }\n        disk.tracks[t] = track;\n    }\n\n    return disk;\n}\n","import { explodeSector16, PO } from './format_utils';\nimport { bytify } from '../util';\nimport type { byte } from '../types';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from ProDOS-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromProDOS(options: DiskOptions) {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'nib',\n        encoding: ENCODING_NIBBLE,\n        name,\n        side,\n        volume: volume || 254,\n        tracks: [],\n        readOnly: readOnly || false,\n    };\n\n    for (let physical_track = 0; physical_track < 35; physical_track++) {\n        let track: byte[] = [];\n        for (let physical_sector = 0; physical_sector < 16; physical_sector++) {\n            const prodos_sector = PO[physical_sector];\n            let sector;\n            if (rawData) {\n                const off = (16 * physical_track + prodos_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = data[physical_track][prodos_sector];\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector16(volume, physical_track, physical_sector, sector)\n            );\n        }\n        disk.tracks[physical_track] = bytify(track);\n    }\n\n    return disk;\n}\n","import DOS from './do';\nimport Nibble from './nib';\nimport ProDOS from './po';\nimport { DiskOptions } from './types';\n\nimport { numToString, debug } from '../util';\n\nconst OFFSETS = {\n    CREATOR: 0x04,\n    FLAGS: 0x0A,\n    FORMAT: 0x0C,\n    BLOCKS: 0x14,\n    DATA_OFFSET: 0x18,\n    BYTES: 0x1C,\n};\n\nconst FLAGS = {\n    READ_ONLY:    0x80000000,\n    VOLUME_VALID: 0x00000100,\n    VOLUME_MASK:  0x000000FF\n};\n\nexport function read2MGHeader(rawData: ArrayBuffer) {\n    const prefix = new DataView(rawData);\n    const signature = numToString(prefix.getInt32(0x0, true));\n    if (signature !== '2IMG') {\n        throw new Error('Unrecognized 2mg signature: ' + signature);\n    }\n    const creator = numToString(prefix.getInt32(OFFSETS.CREATOR, true));\n    const format = prefix.getInt32(OFFSETS.FORMAT, true);\n    const bytes = prefix.getInt32(OFFSETS.BYTES, true);\n    const offset = prefix.getInt32(OFFSETS.DATA_OFFSET, true);\n    const flags = prefix.getInt32(OFFSETS.FLAGS, true);\n    const readOnly = (flags & FLAGS.READ_ONLY) !== 0;\n    let volume = 254;\n    if (flags & FLAGS.VOLUME_VALID) {\n        volume = flags & FLAGS.VOLUME_MASK;\n    }\n\n    debug('created by', creator);\n\n    return {\n        bytes,\n        creator,\n        format,\n        offset,\n        readOnly,\n        volume,\n    };\n}\n\n/**\n * Returns a `Disk` object from a 2mg image.\n * @param options the disk image and options\n */\nexport default function createDiskFrom2MG(options: DiskOptions) {\n    let { rawData } = options;\n    let disk;\n\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n\n    const { bytes, format, offset, readOnly, volume } = read2MGHeader(rawData);\n    rawData = rawData.slice(offset, offset + bytes);\n    options = { ...options, rawData, readOnly, volume };\n\n    // Check image format.\n    // Sure, it's really 64 bits. But only 2 are actually used.\n    switch (format) {\n        case 1: // PO\n            disk = ProDOS(options);\n            break;\n        case 2: // NIB\n            disk = Nibble(options);\n            break;\n        case 0: // dsk\n        default:  // Something hinky, assume 'dsk'\n            disk = DOS(options);\n            break;\n    }\n\n    return disk;\n}\n","import { debug, toHex } from '../util';\nimport { bit, byte, word } from '../types';\nimport { grabNibble } from './format_utils';\nimport { DiskOptions, ENCODING_BITSTREAM, WozDisk } from './types';\n\nconst WOZ_HEADER_START = 0;\nconst WOZ_HEADER_SIZE = 12;\n\nconst WOZ1_SIGNATURE = 0x315A4F57;\nconst WOZ2_SIGNATURE = 0x325A4F57;\nconst WOZ_INTEGRITY_CHECK = 0x0a0d0aff;\n\n/**\n * Converts a range of bytes from a DataView into an ASCII string\n *\n * @param data DataView containing string\n * @param start start index of string\n * @param end end index of string\n * @returns ASCII string\n */\nfunction stringFromBytes(data: DataView, start: number, end: number): string {\n    return String.fromCharCode.apply(\n        null,\n        new Uint8Array(data.buffer.slice(data.byteOffset + start, data.byteOffset + end))\n    );\n}\n\nexport class InfoChunk {\n    version: byte;\n\n    // Version 1\n    diskType: byte;\n    writeProtected: byte;\n    synchronized: byte;\n    cleaned: byte;\n    creator: string;\n\n    // Version 2\n    sides: byte = 0;\n    bootSector: byte = 0;\n    bitTiming: byte = 0;\n    compatibleHardware: word = 0;\n    requiredRAM: word = 0;\n    largestTrack: word = 0;\n\n    constructor(data: DataView) {\n        this.version = data.getUint8(0);\n        this.diskType = data.getUint8(1);\n        this.writeProtected = data.getUint8(2);\n        this.synchronized = data.getUint8(3);\n        this.cleaned = data.getUint8(4);\n        this.creator = stringFromBytes(data, 5, 37);\n\n        if (this.version > 1) {\n            this.sides = data.getUint8(37);\n            this.bootSector = data.getUint8(38);\n            this.bitTiming = data.getUint8(39);\n            this.compatibleHardware = data.getUint16(40, true);\n            this.requiredRAM = data.getUint16(42, true);\n            this.largestTrack = data.getUint16(44, true);\n        }\n    }\n}\n\nexport class TMapChunk {\n    trackMap: byte[];\n\n    constructor(data: DataView) {\n        this.trackMap = [];\n\n        for (let idx = 0; idx < 160; idx++) {\n            this.trackMap.push(data.getUint8(idx));\n        }\n    }\n}\n\nconst WOZ_TRACK_SIZE = 6656;\nconst WOZ_TRACK_INFO_BITS = 6648;\n\nexport class TrksChunk {\n    rawTracks: Uint8Array[];\n    tracks: Uint8Array[];\n}\n\nexport class TrksChunk1 extends TrksChunk {\n    constructor(data: DataView) {\n        super();\n\n        this.rawTracks = [];\n        this.tracks = [];\n\n        for (let trackNo = 0, idx = 0; idx < data.byteLength; idx += WOZ_TRACK_SIZE, trackNo++) {\n            let track = [];\n            const rawTrack: bit[] = [];\n            const slice = data.buffer.slice(data.byteOffset + idx, data.byteOffset + idx + WOZ_TRACK_SIZE);\n            const trackData = new Uint8Array(slice);\n            const trackInfo = new DataView(slice);\n            const trackBitCount = trackInfo.getUint16(WOZ_TRACK_INFO_BITS, true);\n            for (let jdx = 0; jdx < trackBitCount; jdx++) {\n                const byteIndex = jdx >> 3;\n                const bitIndex = 7 - (jdx & 0x07);\n                rawTrack[jdx] = (trackData[byteIndex] >> bitIndex) & 0x01 ? 1 : 0;\n            }\n\n            track = [];\n            let offset = 0;\n            while (offset < rawTrack.length) {\n                const result = grabNibble(rawTrack, offset);\n                if (!result.nibble) { break; }\n                track.push(result.nibble);\n                offset = result.offset + 1;\n            }\n\n            this.tracks[trackNo] = new Uint8Array(track);\n            this.rawTracks[trackNo] = new Uint8Array(rawTrack);\n        }\n    }\n}\n\nexport interface Trk {\n    startBlock: word\n    blockCount: word\n    bitCount: number\n}\n\nexport class TrksChunk2 extends TrksChunk {\n    trks: Trk[];\n\n    constructor (data: DataView) {\n        super();\n\n        let trackNo;\n        this.trks = [];\n        for (trackNo = 0; trackNo < 160; trackNo++) {\n            const startBlock = data.getUint16(trackNo * 8, true);\n            const blockCount = data.getUint16(trackNo * 8 + 2, true);\n            const bitCount = data.getUint32(trackNo * 8 + 4, true);\n            if (bitCount === 0) { break; }\n            this.trks.push({\n                startBlock: startBlock,\n                blockCount: blockCount,\n                bitCount: bitCount\n            });\n        }\n        this.tracks = [];\n        this.rawTracks = [];\n\n        const bits = data.buffer;\n        for (trackNo = 0; trackNo < this.trks.length; trackNo++) {\n            const trk = this.trks[trackNo];\n\n            let track = [];\n            const rawTrack: bit[] = [];\n            const start = trk.startBlock * 512;\n            const end = start + trk.blockCount * 512;\n            const slice = bits.slice(start, end);\n            const trackData = new Uint8Array(slice);\n            for (let jdx = 0; jdx < trk.bitCount; jdx++) {\n                const byteIndex = jdx >> 3;\n                const bitIndex = 7 - (jdx & 0x07);\n                rawTrack[jdx] = (trackData[byteIndex] >> bitIndex) & 0x01 ? 1 : 0;\n            }\n\n            track = [];\n            let offset = 0;\n            while (offset < rawTrack.length) {\n                const result = grabNibble(rawTrack, offset);\n                if (!result.nibble) { break; }\n                track.push(result.nibble);\n                offset = result.offset + 1;\n            }\n\n            this.tracks[trackNo] = new Uint8Array(track);\n            this.rawTracks[trackNo] = new Uint8Array(rawTrack);\n        }\n    }\n}\n\nexport class MetaChunk  {\n    values: Record<string, string>;\n\n    constructor (data: DataView) {\n        const infoStr = stringFromBytes(data, 0, data.byteLength);\n        const parts = infoStr.split('\\n');\n        this.values = parts.reduce(function(acc: Record<string, string>, part) {\n            const subParts = part.split('\\t');\n            acc[subParts[0]] = subParts[1];\n            return acc;\n        }, {});\n    }\n}\n\ninterface Chunks {\n    [key: string]: any\n    info?: InfoChunk\n    tmap?: TMapChunk\n    trks?: TrksChunk\n    meta?: MetaChunk\n}\n\n/**\n * Returns a `Disk` object from Woz image data.\n * @param options the disk image and options\n * @returns A bitstream disk\n */\nexport default function createDiskFromWoz(options: DiskOptions): WozDisk {\n    const { rawData } = options;\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n    const dv = new DataView(rawData, 0);\n    let dvOffset = 0;\n    let wozVersion;\n    const chunks: Chunks = {};\n\n    function readHeader() {\n        const wozSignature = dv.getUint32(WOZ_HEADER_START + 0, true);\n\n        switch (wozSignature) {\n            case WOZ1_SIGNATURE:\n                wozVersion = 1;\n                break;\n            case WOZ2_SIGNATURE:\n                wozVersion = 2;\n                break;\n            default:\n                return false;\n        }\n\n        if (dv.getUint32(WOZ_HEADER_START + 4, true) !== WOZ_INTEGRITY_CHECK) {\n            return false;\n        }\n\n        return true;\n    }\n\n    function readChunk() {\n        if (dvOffset >= dv.byteLength) {\n            return null;\n        }\n\n        const type = dv.getUint32(dvOffset, true);\n        const size = dv.getUint32(dvOffset + 4, true);\n        const data = new DataView(dv.buffer, dvOffset + 8, size);\n        dvOffset += size + 8;\n\n        return {\n            type: type,\n            size: size,\n            data: data\n        };\n    }\n\n    if (readHeader()) {\n        dvOffset = WOZ_HEADER_SIZE;\n        let chunk = readChunk();\n        while (chunk) {\n            switch (chunk.type) {\n                case 0x4F464E49: // INFO\n                    chunks.info = new InfoChunk(chunk.data);\n                    break;\n                case 0x50414D54: // TMAP\n                    chunks.tmap = new TMapChunk(chunk.data);\n                    break;\n                case 0x534B5254: // TRKS\n                    if (wozVersion === 1) {\n                        chunks.trks = new TrksChunk1(chunk.data);\n                    } else {\n                        chunks.trks = new TrksChunk2(chunk.data);\n                    }\n                    break;\n                case 0x4154454D: // META\n                    chunks.meta = new MetaChunk(chunk.data);\n                    break;\n                case 0x54495257: // WRIT\n                // Ignore\n                    break;\n                default:\n                    debug('Unsupported chunk', toHex(chunk.type, 8));\n            }\n            chunk = readChunk();\n        }\n    } else {\n        debug('Invalid woz header');\n    }\n\n    debug(chunks);\n\n    const { meta, tmap, trks } = chunks;\n\n    const disk: WozDisk = {\n        encoding: ENCODING_BITSTREAM,\n        trackMap: tmap?.trackMap || [],\n        tracks: trks?.tracks || [],\n        rawTracks: trks?.rawTracks || [],\n        readOnly: true, //chunks.info.writeProtected === 1;\n        name: meta?.values['title'] || options.name,\n        side: meta?.values['side_name'] || meta?.values['side'],\n    };\n\n    return disk;\n}\n","import { includes, memory } from '../types';\nimport { base64_decode } from '../base64';\nimport { DiskOptions, FloppyDisk, JSONDisk, NibbleFormat, NIBBLE_FORMATS } from './types';\nimport createDiskFrom2MG from './2mg';\nimport createDiskFromD13 from './d13';\nimport createDiskFromDOS from './do';\nimport createDiskFromProDOS from './po';\nimport createDiskFromWoz from './woz';\nimport createDiskFromNibble from './nib';\n\n/**\n *\n * @param fmt Type of\n * @param options\n * @returns A nibblized disk\n */\nexport function createDisk(fmt: NibbleFormat, options: DiskOptions): FloppyDisk | null {\n    let disk: FloppyDisk | null = null;\n\n    switch (fmt) {\n        case '2mg':\n            disk = createDiskFrom2MG(options);\n            break;\n        case 'd13':\n            disk = createDiskFromD13(options);\n            break;\n        case 'do':\n        case 'dsk':\n            disk = createDiskFromDOS(options);\n            break;\n        case 'nib':\n            disk = createDiskFromNibble(options);\n            break;\n        case 'po':\n            disk = createDiskFromProDOS(options);\n            break;\n        case 'woz':\n            disk = createDiskFromWoz(options);\n            break;\n    }\n\n    return disk;\n}\n\nexport function createDiskFromJsonDisk(disk: JSONDisk): FloppyDisk | null {\n    const fmt = disk.type;\n    const readOnly = disk.readOnly;\n    const name = disk.name;\n    const side = disk.disk;\n\n    if (includes(NIBBLE_FORMATS, fmt)) {\n        let trackData: memory[][];\n        if (disk.encoding == 'base64') {\n            trackData = [];\n            for (let t = 0; t < disk.data.length; t++) {\n                trackData[t] = [];\n                if (disk.type === 'nib') {\n                    trackData[t][0] = base64_decode(disk.data[t]);\n                } else {\n                    for (let s = 0; s < disk.data[t].length; s++) {\n                        trackData[t][s] = base64_decode(disk.data[t][s]);\n                    }\n                }\n            }\n        } else {\n            trackData = disk.data;\n        }\n\n        const volume = disk.volume || 0xfe;\n\n        const options = {\n            volume,\n            readOnly,\n            name,\n            side,\n            data: trackData\n        } as DiskOptions;\n\n        return createDisk(fmt, options);\n    } else {\n        return null;\n    }\n}\n\n","import { explodeSector13, D13O } from './format_utils';\nimport { NibbleDisk, DiskOptions, ENCODING_NIBBLE } from './types';\n\n/**\n * Returns a `Disk` object from DOS 3.2-ordered image data.\n * @param options the disk image and options\n * @returns A nibblized disk\n */\nexport default function createDiskFromDOS13(options: DiskOptions) {\n    const { data, name, side, rawData, volume, readOnly } = options;\n    const disk: NibbleDisk = {\n        format: 'd13',\n        encoding: ENCODING_NIBBLE,\n        name,\n        side,\n        volume,\n        readOnly,\n        tracks: []\n    };\n\n    if (!data && !rawData) {\n        throw new Error('data or rawData required');\n    }\n\n    /*\n     * DOS 13-sector disks have the physical sectors skewed on the track. The skew\n     * between physical sectors is 10 (A), resulting in the following physical order:\n     *\n     *   0 A 7 4 1 B 8 5 2 C 9 6 3\n     *\n     * Note that because physical sector == logical sector, this works slightly\n     * differently from the DOS and ProDOS nibblizers.\n     */\n\n    for (let t = 0; t < 35; t++) {\n        let track: number[] = [];\n        for (let disk_sector = 0; disk_sector < 13; disk_sector++) {\n            const physical_sector = D13O[disk_sector];\n            let sector: Uint8Array;\n            if (rawData) {\n                const off = (13 * t + physical_sector) * 256;\n                sector = new Uint8Array(rawData.slice(off, off + 256));\n            } else if (data) {\n                sector = data[t][physical_sector];\n            } else {\n                throw new Error('Requires data or rawData');\n            }\n            track = track.concat(\n                explodeSector13(volume, t, physical_sector, sector)\n            );\n        }\n        disk.tracks.push(new Uint8Array(track));\n    }\n\n    return disk;\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const BOOTSTRAP_ROM_16 = new Uint8Array([\n    0xa2,0x20,0xa0,0x00,0xa2,0x03,0x86,0x3c,\n    0x8a,0x0a,0x24,0x3c,0xf0,0x10,0x05,0x3c,\n    0x49,0xff,0x29,0x7e,0xb0,0x08,0x4a,0xd0,\n    0xfb,0x98,0x9d,0x56,0x03,0xc8,0xe8,0x10,\n    0xe5,0x20,0x58,0xff,0xba,0xbd,0x00,0x01,\n    0x0a,0x0a,0x0a,0x0a,0x85,0x2b,0xaa,0xbd,\n    0x8e,0xc0,0xbd,0x8c,0xc0,0xbd,0x8a,0xc0,\n    0xbd,0x89,0xc0,0xa0,0x50,0xbd,0x80,0xc0,\n    0x98,0x29,0x03,0x0a,0x05,0x2b,0xaa,0xbd,\n    0x81,0xc0,0xa9,0x56,0x20,0xa8,0xfc,0x88,\n    0x10,0xeb,0x85,0x26,0x85,0x3d,0x85,0x41,\n    0xa9,0x08,0x85,0x27,0x18,0x08,0xbd,0x8c,\n    0xc0,0x10,0xfb,0x49,0xd5,0xd0,0xf7,0xbd,\n    0x8c,0xc0,0x10,0xfb,0xc9,0xaa,0xd0,0xf3,\n    0xea,0xbd,0x8c,0xc0,0x10,0xfb,0xc9,0x96,\n    0xf0,0x09,0x28,0x90,0xdf,0x49,0xad,0xf0,\n    0x25,0xd0,0xd9,0xa0,0x03,0x85,0x40,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x2a,0x85,0x3c,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x25,0x3c,0x88,0xd0,\n    0xec,0x28,0xc5,0x3d,0xd0,0xbe,0xa5,0x40,\n    0xc5,0x41,0xd0,0xb8,0xb0,0xb7,0xa0,0x56,\n    0x84,0x3c,0xbc,0x8c,0xc0,0x10,0xfb,0x59,\n    0xd6,0x02,0xa4,0x3c,0x88,0x99,0x00,0x03,\n    0xd0,0xee,0x84,0x3c,0xbc,0x8c,0xc0,0x10,\n    0xfb,0x59,0xd6,0x02,0xa4,0x3c,0x91,0x26,\n    0xc8,0xd0,0xef,0xbc,0x8c,0xc0,0x10,0xfb,\n    0x59,0xd6,0x02,0xd0,0x87,0xa0,0x00,0xa2,\n    0x56,0xca,0x30,0xfb,0xb1,0x26,0x5e,0x00,\n    0x03,0x2a,0x5e,0x00,0x03,0x2a,0x91,0x26,\n    0xc8,0xd0,0xee,0xe6,0x27,0xe6,0x3d,0xa5,\n    0x3d,0xcd,0x00,0x08,0xa6,0x2b,0x90,0xdb,\n    0x4c,0x01,0x08,0x00,0x00,0x00,0x00,0x00\n]) as ReadonlyUint8Array;\n\nexport const BOOTSTRAP_ROM_13 = new Uint8Array([\n    0xa2,0x20,0xa0,0x00,0xa9,0x03,0x85,0x3c,\n    0x18,0x88,0x98,0x24,0x3c,0xf0,0xf5,0x26,\n    0x3c,0x90,0xf8,0xc0,0xd5,0xf0,0xed,0xca,\n    0x8a,0x99,0x00,0x08,0xd0,0xe6,0x20,0x58,\n    0xff,0xba,0xbd,0x00,0x01,0x48,0x0a,0x0a,\n    0x0a,0x0a,0x85,0x2b,0xaa,0xa9,0xd0,0x48,\n    0xbd,0x8e,0xc0,0xbd,0x8c,0xc0,0xbd,0x8a,\n    0xc0,0xbd,0x89,0xc0,0xa0,0x50,0xbd,0x80,\n    0xc0,0x98,0x29,0x03,0x0a,0x05,0x2b,0xaa,\n    0xbd,0x81,0xc0,0xa9,0x56,0x20,0xa8,0xfc,\n    0x88,0x10,0xeb,0xa9,0x03,0x85,0x27,0xa9,\n    0x00,0x85,0x26,0x85,0x3d,0x18,0x08,0xbd,\n    0x8c,0xc0,0x10,0xfb,0x49,0xd5,0xd0,0xf7,\n    0xbd,0x8c,0xc0,0x10,0xfb,0xc9,0xaa,0xd0,\n    0xf3,0xea,0xbd,0x8c,0xc0,0x10,0xfb,0xc9,\n    0xb5,0xf0,0x09,0x28,0x90,0xdf,0x49,0xad,\n    0xf0,0x1f,0xd0,0xd9,0xa0,0x03,0x84,0x2a,\n    0xbd,0x8c,0xc0,0x10,0xfb,0x2a,0x85,0x3c,\n    0xbd,0x8c,0xc0,0x10,0xfb,0x25,0x3c,0x88,\n    0xd0,0xee,0x28,0xc5,0x3d,0xd0,0xbe,0xb0,\n    0xbd,0xa0,0x9a,0x84,0x3c,0xbc,0x8c,0xc0,\n    0x10,0xfb,0x59,0x00,0x08,0xa4,0x3c,0x88,\n    0x99,0x00,0x08,0xd0,0xee,0x84,0x3c,0xbc,\n    0x8c,0xc0,0x10,0xfb,0x59,0x00,0x08,0xa4,\n    0x3c,0x91,0x26,0xc8,0xd0,0xef,0xbc,0x8c,\n    0xc0,0x10,0xfb,0x59,0x00,0x08,0xd0,0x8d,\n    0x60,0xa8,0xa2,0x00,0xb9,0x00,0x08,0x4a,\n    0x3e,0xcc,0x03,0x4a,0x3e,0x99,0x03,0x85,\n    0x3c,0xb1,0x26,0x0a,0x0a,0x0a,0x05,0x3c,\n    0x91,0x26,0xc8,0xe8,0xe0,0x33,0xd0,0xe4,\n    0xc6,0x2a,0xd0,0xde,0xcc,0x00,0x03,0xd0,\n    0x03,0x4c,0x01,0x03,0x4c,0x2d,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { base64_encode} from '../base64';\nimport type {\n    byte,\n    Card,\n    memory,\n    nibble,\n    rom,\n} from '../types';\n\nimport {\n    FormatWorkerMessage,\n    FormatWorkerResponse,\n    NibbleFormat,\n    DISK_PROCESSED,\n    DRIVE_NUMBERS,\n    DriveNumber,\n    JSONDisk,\n    ENCODING_NIBBLE,\n    PROCESS_BINARY,\n    PROCESS_JSON_DISK,\n    PROCESS_JSON,\n    ENCODING_BITSTREAM,\n} from '../formats/types';\n\nimport {\n    createDisk,\n    createDiskFromJsonDisk\n} from '../formats/create_disk';\n\nimport { debug, toHex } from '../util';\nimport { jsonDecode, jsonEncode, readSector } from '../formats/format_utils';\n\nimport { BOOTSTRAP_ROM_16, BOOTSTRAP_ROM_13 } from '../roms/cards/disk2';\nimport Apple2IO from '../apple2io';\n\n/** Softswitch locations */\nconst LOC = {\n    // Disk II Controller Commands\n    // See Understanding the Apple IIe, Table 9.1\n    PHASE0OFF: 0x80,     // Q0L: Phase 0 OFF\n    PHASE0ON: 0x81,      // Q0H: Phase 0 ON\n    PHASE1OFF: 0x82,     // Q1L: Phase 1 OFF\n    PHASE1ON: 0x83,      // Q1H: Phase 1 ON\n    PHASE2OFF: 0x84,     // Q2L: Phase 2 OFF\n    PHASE2ON: 0x85,      // Q2H: Phase 2 ON\n    PHASE3OFF: 0x86,     // Q3L: Phase 3 OFF\n    PHASE3ON: 0x87,      // Q3H: Phase 3 ON\n\n    DRIVEOFF: 0x88,      // Q4L: Drives OFF\n    DRIVEON: 0x89,       // Q4H: Selected drive ON\n    DRIVE1: 0x8A,        // Q5L: Select drive 1\n    DRIVE2: 0x8B,        // Q5H: Select drive 2\n    DRIVEREAD: 0x8C,     // Q6L: Shift while writing; read data\n    DRIVEWRITE: 0x8D,    // Q6H: Load while writing; read write protect\n    DRIVEREADMODE: 0x8E, // Q7L: Read\n    DRIVEWRITEMODE: 0x8F // Q7H: Write\n} as const;\n\n/** Logic state sequencer ROM */\n// See Understanding the Apple IIe, Table 9.3 Logic State Sequencer Commands\n//       CODE  OPERATION              BEFORE    AFTER\n// 0     CLR                          XXXXXXXX  00000000\n// 8     NOP                          ABCDEFGH  ABCDEFGH\n// 9     SL0                          ABCDEFGH  BCDEFGH0\n// A     SR   (write protected)       ABCDEFGH  11111111\n//            (not write protected)   ABCDEFGH  0ABCDEFG\n// B     LOAD                         XXXXXXXX  YYYYYYYY\n// D     SL1                          ABCDEFGH  BCDEFGH1\n\nconst SEQUENCER_ROM_13 = [\n    // See Understanding the Apple IIe, Figure 9.10 The DOS 3.2 Logic State Sequencer\n    // Note that the column order here is NOT the same as in Figure 9.10 for Q7 H (Write).\n    //\n    //                Q7 L (Read)                                     Q7 H (Write)\n    //    Q6 L (Shift)            Q6 H (Load)             Q6 L (Shift)             Q6 H (Load)\n    //  QA L        QA H        QA L        QA H        QA L        QA H        QA L        QA H\n    // 1     0     1     0     1     0     1     0     1     0     1     0     1     0     1     0\n    0xD8, 0x18, 0x18, 0x08, 0x0A, 0x0A, 0x0A, 0x0A, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, // 0\n    0xD8, 0x2D, 0x28, 0x28, 0x0A, 0x0A, 0x0A, 0x0A, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, // 1\n    0xD8, 0x38, 0x38, 0x38, 0x0A, 0x0A, 0x0A, 0x0A, 0x39, 0x39, 0x39, 0x39, 0x3B, 0x3B, 0x3B, 0x3B, // 2\n    0xD8, 0x48, 0xD8, 0x48, 0x0A, 0x0A, 0x0A, 0x0A, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, // 3\n    0xD8, 0x58, 0xD8, 0x58, 0x0A, 0x0A, 0x0A, 0x0A, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, // 4\n    0xD8, 0x68, 0xD8, 0x68, 0x0A, 0x0A, 0x0A, 0x0A, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, // 5\n    0xD8, 0x78, 0xD8, 0x78, 0x0A, 0x0A, 0x0A, 0x0A, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, // 6\n    0xD8, 0x88, 0xD8, 0x88, 0x0A, 0x0A, 0x0A, 0x0A, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, // 7\n    0xD8, 0x98, 0xD8, 0x98, 0x0A, 0x0A, 0x0A, 0x0A, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, // 8\n    0xD8, 0x09, 0xD8, 0xA8, 0x0A, 0x0A, 0x0A, 0x0A, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, // 9\n    0xCD, 0xBD, 0xD8, 0xB8, 0x0A, 0x0A, 0x0A, 0x0A, 0xB9, 0xB9, 0xB9, 0xB9, 0xBB, 0xBB, 0xBB, 0xBB, // A\n    0xD9, 0x39, 0xD8, 0xC8, 0x0A, 0x0A, 0x0A, 0x0A, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, // B\n    0xD9, 0xD9, 0xD8, 0xA0, 0x0A, 0x0A, 0x0A, 0x0A, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, // C\n    0x1D, 0x0D, 0xE8, 0xE8, 0x0A, 0x0A, 0x0A, 0x0A, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, // D\n    0xFD, 0xFD, 0xF8, 0xF8, 0x0A, 0x0A, 0x0A, 0x0A, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, // E\n    0xDD, 0x4D, 0xE0, 0xE0, 0x0A, 0x0A, 0x0A, 0x0A, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08  // F\n] as const;\n\nconst SEQUENCER_ROM_16 = [\n    // See Understanding the Apple IIe, Figure 9.11 The DOS 3.3 Logic State Sequencer\n    // Note that the column order here is NOT the same as in Figure 9.11 for Q7 H (Write).\n    //\n    //                Q7 L (Read)                                     Q7 H (Write)\n    //    Q6 L (Shift)            Q6 H (Load)             Q6 L (Shift)             Q6 H (Load)\n    //  QA L        QA H        QA L        QA H        QA L        QA H        QA L        QA H\n    // 1     0     1     0     1     0     1     0     1     0     1     0     1     0     1     0\n    0x18, 0x18, 0x18, 0x18, 0x0A, 0x0A, 0x0A, 0x0A, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, // 0\n    0x2D, 0x2D, 0x38, 0x38, 0x0A, 0x0A, 0x0A, 0x0A, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, 0x28, // 1\n    0xD8, 0x38, 0x08, 0x28, 0x0A, 0x0A, 0x0A, 0x0A, 0x39, 0x39, 0x39, 0x39, 0x3B, 0x3B, 0x3B, 0x3B, // 2\n    0xD8, 0x48, 0x48, 0x48, 0x0A, 0x0A, 0x0A, 0x0A, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, 0x48, // 3\n    0xD8, 0x58, 0xD8, 0x58, 0x0A, 0x0A, 0x0A, 0x0A, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, 0x58, // 4\n    0xD8, 0x68, 0xD8, 0x68, 0x0A, 0x0A, 0x0A, 0x0A, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, 0x68, // 5\n    0xD8, 0x78, 0xD8, 0x78, 0x0A, 0x0A, 0x0A, 0x0A, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, 0x78, // 6\n    0xD8, 0x88, 0xD8, 0x88, 0x0A, 0x0A, 0x0A, 0x0A, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, // 7\n    0xD8, 0x98, 0xD8, 0x98, 0x0A, 0x0A, 0x0A, 0x0A, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, 0x98, // 8\n    0xD8, 0x29, 0xD8, 0xA8, 0x0A, 0x0A, 0x0A, 0x0A, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, 0xA8, // 9\n    0xCD, 0xBD, 0xD8, 0xB8, 0x0A, 0x0A, 0x0A, 0x0A, 0xB9, 0xB9, 0xB9, 0xB9, 0xBB, 0xBB, 0xBB, 0xBB, // A\n    0xD9, 0x59, 0xD8, 0xC8, 0x0A, 0x0A, 0x0A, 0x0A, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, 0xC8, // B\n    0xD9, 0xD9, 0xD8, 0xA0, 0x0A, 0x0A, 0x0A, 0x0A, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, 0xD8, // C\n    0xD8, 0x08, 0xE8, 0xE8, 0x0A, 0x0A, 0x0A, 0x0A, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, 0xE8, // D\n    0xFD, 0xFD, 0xF8, 0xF8, 0x0A, 0x0A, 0x0A, 0x0A, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, 0xF8, // E\n    0xDD, 0x4D, 0xE0, 0xE0, 0x0A, 0x0A, 0x0A, 0x0A, 0x88, 0x88, 0x08, 0x08, 0x88, 0x88, 0x08, 0x08  // F\n] as const;\n\ntype LssClockCycle = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7;\ntype Phase = 0 | 1 | 2 | 3;\n\n/**\n * How far the head moves, in quarter tracks, when in phase X and phase Y is\n * activated. For example, if in phase 0 (top row), turning on phase 3 would\n * step backwards a quarter track while turning on phase 2 would step forwards\n * a half track.\n *\n * Note that this emulation is highly simplified as it only takes into account\n * the order that coils are powered on and ignores when they are powered off.\n * The actual hardware allows for multiple coils to be powered at the same time\n * providing different levels of torque on the head arm. Along with that, the\n * RWTS uses a complex delay system to drive the coils faster based on expected\n * head momentum.\n *\n * Examining the https://computerhistory.org/blog/apple-ii-dos-source-code/,\n * one finds that the SEEK routine on line 4831 of `appdos31.lst`. It uses\n * `ONTABLE` and `OFFTABLE` (each 12 bytes) to know exactly how many\n * microseconds to power on/off each coil as the head accelerates. At the end,\n * the final coil is left powered on 9.5 milliseconds to ensure the head has\n * settled.\n *\n * https://embeddedmicro.weebly.com/apple-2iie.html shows traces of the boot\n * seek (which is slightly different) and a regular seek.\n */\nconst PHASE_DELTA = [\n    [0, 1, 2, -1],\n    [-1, 0, 1, 2],\n    [-2, -1, 0, 1],\n    [1, -2, -1, 0]\n] as const;\nexport interface Callbacks {\n    driveLight: (drive: DriveNumber, on: boolean) => void;\n    dirty: (drive: DriveNumber, dirty: boolean) => void;\n    label: (drive: DriveNumber, name?: string, side?: string) => void;\n}\n\n/** Common information for Nibble and WOZ disks. */\n\ninterface BaseDrive {\n    /** Current disk format. */\n    format: NibbleFormat,\n    /** Current disk volume number. */\n    volume: byte,\n    /** Displayed disk name */\n    name: string,\n    /** (Optional) Disk side (Front/Back, A/B) */\n    side?: string,\n    /** Quarter track position of read/write head. */\n    track: byte,\n    /** Position of the head on the track. */\n    head: byte,\n    /** Current active coil in the head stepper motor. */\n    phase: Phase,\n    /** Whether the drive write protect is on. */\n    readOnly: boolean,\n    /** Whether the drive has been written to since it was loaded. */\n    dirty: boolean,\n}\n\n/** WOZ format track data from https://applesaucefdc.com/woz/reference2/. */\ninterface WozDrive extends BaseDrive {\n    /** Woz encoding */\n    encoding: typeof ENCODING_BITSTREAM\n    /** Maps quarter tracks to data in rawTracks; `0xFF` = random garbage. */\n    trackMap: byte[];\n    /** Unique track bitstreams. The index is arbitrary; it is NOT the track number. */\n    rawTracks: Uint8Array[];\n}\n\n/** Nibble format track data. */\ninterface NibbleDrive extends BaseDrive {\n    /** Nibble encoding */\n    encoding: typeof ENCODING_NIBBLE\n    /** Nibble data. The index is the track number. */\n    tracks: memory[];\n}\n\ntype Drive = WozDrive | NibbleDrive;\n\nfunction isNibbleDrive(drive: Drive): drive is NibbleDrive  {\n    return drive.encoding === ENCODING_NIBBLE;\n}\n\nfunction isWozDrive(drive: Drive): drive is WozDrive {\n    return drive.encoding === ENCODING_BITSTREAM;\n}\n\ninterface DriveState {\n    format: NibbleFormat,\n    encoding: typeof ENCODING_BITSTREAM | typeof ENCODING_NIBBLE\n    volume: byte,\n    name: string,\n    side?: string,\n    tracks: memory[],\n    track: byte,\n    head: byte,\n    phase: Phase,\n    readOnly: boolean,\n    dirty: boolean,\n    trackMap: number[],\n    rawTracks: Uint8Array[],\n}\n\ninterface State {\n    drives: DriveState[];\n    skip: number;\n    latch: number;\n    writeMode: boolean;\n    on: boolean;\n    drive: DriveNumber;\n}\n\nfunction getDriveState(drive: Drive): DriveState {\n    const result: DriveState = {\n        format: drive.format,\n        encoding: drive.encoding,\n        volume: drive.volume,\n        name: drive.name,\n        side: drive.side,\n        tracks: [],\n        track: drive.track,\n        head: drive.head,\n        phase: drive.phase,\n        readOnly: drive.readOnly,\n        dirty: drive.dirty,\n        trackMap: [],\n        rawTracks: [],\n    };\n\n    if (isNibbleDrive(drive)) {\n        for (let idx = 0; idx < drive.tracks.length; idx++) {\n            result.tracks.push(new Uint8Array(drive.tracks[idx]));\n        }\n    }\n    if (isWozDrive(drive)) {\n        result.trackMap = [...drive.trackMap];\n        for (let idx = 0; idx < drive.rawTracks.length; idx++) {\n            result.rawTracks.push(new Uint8Array(drive.rawTracks[idx]));\n        }\n    }\n    return result;\n}\n\nfunction setDriveState(state: DriveState) {\n    let result: Drive;\n    if (state.encoding === ENCODING_NIBBLE) {\n        result = {\n            format: state.format,\n            encoding: ENCODING_NIBBLE,\n            volume: state.volume,\n            name: state.name,\n            side: state.side,\n            tracks: [],\n            track: state.track,\n            head: state.head,\n            phase: state.phase,\n            readOnly: state.readOnly,\n            dirty: state.dirty,\n        };\n        for (let idx = 0; idx < state.tracks.length; idx++) {\n            result.tracks.push(new Uint8Array(state.tracks[idx]));\n        }\n    } else {\n        result = {\n            format: state.format,\n            encoding: ENCODING_BITSTREAM,\n            volume: state.volume,\n            name: state.name,\n            side: state.side,\n            track: state.track,\n            head: state.head,\n            phase: state.phase,\n            readOnly: state.readOnly,\n            dirty: state.dirty,\n            trackMap: [...state.trackMap],\n            rawTracks: [],\n        };\n        for (let idx = 0; idx < state.rawTracks.length; idx++) {\n            result.rawTracks.push(new Uint8Array(state.rawTracks[idx]));\n        }\n    }\n    return result;\n}\n\n/**\n * Emulates the 16-sector and 13-sector versions of the Disk ][ drive and controller.\n */\nexport default class DiskII implements Card {\n\n    private drives: Drive[] = [\n        {   // Drive 1\n            format: 'dsk',\n            encoding: ENCODING_NIBBLE,\n            volume: 254,\n            name: 'Disk 1',\n            tracks: [],\n            track: 0,\n            head: 0,\n            phase: 0,\n            readOnly: false,\n            dirty: false,\n        },\n        {   // Drive 2\n            format: 'dsk',\n            encoding: ENCODING_NIBBLE,\n            volume: 254,\n            name: 'Disk 2',\n            tracks: [],\n            track: 0,\n            head: 0,\n            phase: 0,\n            readOnly: false,\n            dirty: false,\n        }];\n\n    private skip = 0;\n    /** Last data written by the CPU to card softswitch 0x8D. */\n    private bus = 0;\n    /** Drive data register. */\n    private latch = 0;\n    /** Drive off timeout id or null. */\n    private offTimeout: number | null = null;\n    /** Q6 (Shift/Load): Used by WOZ disks. */\n    private q6 = 0;\n    /** Q7 (Read/Write): Used by WOZ disks. */\n    private q7: boolean = false;\n    /** Q7 (Read/Write): Used by Nibble disks. */\n    private writeMode = false;\n    /** Whether the selected drive is on. */\n    private on = false;\n    /** Current drive number (1, 2). */\n    private drive: DriveNumber = 1;\n    /** Current drive object. */\n    private cur = this.drives[this.drive - 1];\n\n    /** Nibbles read this on cycle */\n    private nibbleCount = 0;\n\n    /** Q0-Q3: Coil states. */\n    private q = [false, false, false, false];\n\n    /** The 8-cycle LSS clock. */\n    private clock: LssClockCycle = 0;\n    /** Current CPU cycle count. */\n    private lastCycles = 0;\n    /** Current state of the Logic State Sequencer. */\n    private state: nibble = 0;\n    /**\n     * Number of zeros read in a row. The Disk ][ can only read two zeros in a\n     * row reliably; above that and the drive starts reporting garbage.  See\n     * \"Freaking Out Like a MC3470\" in the WOZ spec.\n     */\n    private zeros = 0;\n\n    /** Contents of the P5 ROM at 0xCnXX. */\n    private bootstrapRom: rom;\n    /** Contents of the P6 ROM. */\n    private sequencerRom: typeof SEQUENCER_ROM_16 | typeof SEQUENCER_ROM_13;\n\n    private worker: Worker;\n\n    /** Builds a new Disk ][ card. */\n    constructor(private io: Apple2IO, private callbacks: Callbacks, private sectors = 16) {\n        this.debug('Disk ][');\n\n        this.lastCycles = this.io.cycles();\n        this.bootstrapRom = this.sectors == 16 ? BOOTSTRAP_ROM_16 : BOOTSTRAP_ROM_13;\n        this.sequencerRom = this.sectors == 16 ? SEQUENCER_ROM_16 : SEQUENCER_ROM_13;\n\n        this.initWorker();\n    }\n\n    private debug(..._args: any[]) {\n        // debug.apply(this, arguments);\n    }\n\n    // Only used for WOZ disks\n    private moveHead() {\n        const cycles = this.io.cycles();\n\n        // Spin the disk the number of elapsed cycles since last call\n        let workCycles = (cycles - this.lastCycles) * 2;\n        this.lastCycles = cycles;\n\n        if (!isWozDrive(this.cur)) {\n            return;\n        }\n        const track =\n            this.cur.rawTracks[this.cur.trackMap[this.cur.track]] || [0];\n\n        while (workCycles-- > 0) {\n            let pulse: number = 0;\n            if (this.clock == 4) {\n                pulse = track[this.cur.head];\n                if (!pulse) {\n                    // More that 2 zeros can not be read reliably.\n                    if (++this.zeros > 2) {\n                        pulse = Math.random() >= 0.5 ? 1 : 0;\n                    }\n                } else {\n                    this.zeros = 0;\n                }\n            }\n\n            let idx = 0;\n            idx |= pulse ? 0x00 : 0x01;\n            idx |= this.latch & 0x80 ? 0x02 : 0x00;\n            idx |= this.q6 ? 0x04 : 0x00;\n            idx |= this.q7 ? 0x08 : 0x00;\n            idx |= this.state << 4;\n\n            const command = this.sequencerRom[idx];\n\n            if (this.on && this.q7) {\n                debug('clock:', this.clock, 'command:', toHex(command), 'q6:', this.q6);\n            }\n\n            switch (command & 0xf) {\n                case 0x0: // CLR\n                    this.latch = 0;\n                    break;\n                case 0x8: // NOP\n                    break;\n                case 0x9: // SL0\n                    this.latch = (this.latch << 1) & 0xff;\n                    break;\n                case 0xA: // SR\n                    this.latch >>= 1;\n                    if (this.cur.readOnly) {\n                        this.latch |= 0x80;\n                    }\n                    break;\n                case 0xB: // LD\n                    this.latch = this.bus;\n                    debug('Loading', toHex(this.latch), 'from bus');\n                    break;\n                case 0xD: // SL1\n                    this.latch = ((this.latch << 1) | 0x01) & 0xff;\n                    break;\n            }\n            this.state = (command >> 4 & 0xF) as nibble;\n\n            if (this.clock == 4) {\n                if (this.on) {\n                    if (this.q7) {\n                        track[this.cur.head] = this.state & 0x8 ? 0x01 : 0x00;\n                        debug('Wrote', this.state & 0x8 ? 0x01 : 0x00);\n                    }\n\n                    if (++this.cur.head >= track.length) {\n                        this.cur.head = 0;\n                    }\n                }\n            }\n\n            if (++this.clock > 7) {\n                this.clock = 0;\n            }\n        }\n    }\n\n    // Only called for non-WOZ disks\n    private readWriteNext() {\n        if (!isNibbleDrive(this.cur)) {\n            return;\n        }\n        if (this.on && (this.skip || this.writeMode)) {\n            const track = this.cur.tracks![this.cur.track >> 2];\n            if (track && track.length) {\n                if (this.cur.head >= track.length) {\n                    this.cur.head = 0;\n                }\n\n                if (this.writeMode) {\n                    if (!this.cur.readOnly) {\n                        track[this.cur.head] = this.bus;\n                        if (!this.cur.dirty) {\n                            this.updateDirty(this.drive, true);\n                        }\n                    }\n                } else {\n                    this.latch = track[this.cur.head];\n                }\n\n                ++this.cur.head;\n            }\n        } else {\n            this.latch = 0;\n        }\n        this.skip = (++this.skip % 2);\n    }\n\n    /**\n     * Sets whether the head positioning stepper motor coil for the given\n     * phase is on or off. Normally, the motor must be stepped two phases\n     * per track. Half tracks can be written by stepping only once; quarter\n     * tracks by activating two neighboring coils at once.\n     */\n    private setPhase(phase: Phase, on: boolean) {\n        this.debug('phase ' + phase + (on ? ' on' : ' off'));\n        if (on) {\n            this.cur.track += PHASE_DELTA[this.cur.phase][phase] * 2;\n            this.cur.phase = phase;\n        }\n\n        const maxTrack = isNibbleDrive(this.cur)\n            ? this.cur.tracks.length * 4 - 1\n            : this.cur.trackMap.length - 1;\n        if (this.cur.track > maxTrack) {\n            this.cur.track = maxTrack;\n        }\n        if (this.cur.track < 0x0) {\n            this.cur.track = 0x0;\n        }\n\n        // debug(\n        //     'Drive', _drive, 'track', toHex(_cur.track >> 2) + '.' + (_cur.track & 0x3),\n        //     '(' + toHex(_cur.track) + ')',\n        //     '[' + phase + ':' + (on ? 'on' : 'off') + ']');\n\n        this.q[phase] = on;\n    }\n\n    private access(off: byte, val?: byte) {\n        let result = 0;\n        const readMode = val === undefined;\n\n        switch (off & 0x8f) {\n            case LOC.PHASE0OFF: // 0x00\n                this.setPhase(0, false);\n                break;\n            case LOC.PHASE0ON: // 0x01\n                this.setPhase(0, true);\n                break;\n            case LOC.PHASE1OFF: // 0x02\n                this.setPhase(1, false);\n                break;\n            case LOC.PHASE1ON: // 0x03\n                this.setPhase(1, true);\n                break;\n            case LOC.PHASE2OFF: // 0x04\n                this.setPhase(2, false);\n                break;\n            case LOC.PHASE2ON: // 0x05\n                this.setPhase(2, true);\n                break;\n            case LOC.PHASE3OFF: // 0x06\n                this.setPhase(3, false);\n                break;\n            case LOC.PHASE3ON:  // 0x07\n                this.setPhase(3, true);\n                break;\n\n            case LOC.DRIVEOFF: // 0x08\n                if (!this.offTimeout) {\n                    if (this.on) {\n                        // TODO(flan): This is fragile because it relies on\n                        // wall-clock time instead of emulator time.\n                        this.offTimeout = window.setTimeout(() => {\n                            this.debug('Drive Off');\n                            this.on = false;\n                            this.callbacks.driveLight(this.drive, false);\n                            this.debug('nibbles read', this.nibbleCount);\n                        }, 1000);\n                    }\n                }\n                break;\n            case LOC.DRIVEON: // 0x09\n                if (this.offTimeout) {\n                    // TODO(flan): Fragile—see above\n                    window.clearTimeout(this.offTimeout);\n                    this.offTimeout = null;\n                }\n                if (!this.on) {\n                    this.debug('Drive On');\n                    this.nibbleCount = 0;\n                    this.on = true;\n                    this.lastCycles = this.io.cycles();\n                    this.callbacks.driveLight(this.drive, true);\n                }\n                break;\n\n            case LOC.DRIVE1:  // 0x0a\n                this.debug('Disk 1');\n                this.drive = 1;\n                this.cur = this.drives[this.drive - 1];\n                if (this.on) {\n                    this.callbacks.driveLight(2, false);\n                    this.callbacks.driveLight(1, true);\n                }\n                break;\n            case LOC.DRIVE2:  // 0x0b\n                this.debug('Disk 2');\n                this.drive = 2;\n                this.cur = this.drives[this.drive - 1];\n                if (this.on) {\n                    this.callbacks.driveLight(1, false);\n                    this.callbacks.driveLight(2, true);\n                }\n                break;\n\n            case LOC.DRIVEREAD: // 0x0c (Q6L) Shift\n                this.q6 = 0;\n                if (this.writeMode) {\n                    this.debug('clearing _q6/SHIFT');\n                }\n                if (isNibbleDrive(this.cur)) {\n                    this.readWriteNext();\n                }\n                break;\n\n            case LOC.DRIVEWRITE: // 0x0d (Q6H) LOAD\n                this.q6 = 1;\n                if (this.writeMode) {\n                    this.debug('setting _q6/LOAD');\n                }\n                if (isNibbleDrive(this.cur)) {\n                    if (readMode && !this.writeMode) {\n                        if (this.cur.readOnly) {\n                            this.latch = 0xff;\n                            this.debug('Setting readOnly');\n                        } else {\n                            this.latch = this.latch >> 1;\n                            this.debug('Clearing readOnly');\n                        }\n                    }\n                }\n                break;\n\n            case LOC.DRIVEREADMODE:  // 0x0e (Q7L)\n                this.debug('Read Mode');\n                this.q7 = false;\n                this.writeMode = false;\n                break;\n            case LOC.DRIVEWRITEMODE: // 0x0f (Q7H)\n                this.debug('Write Mode');\n                this.q7 = false;\n                this.writeMode = true;\n                break;\n\n            default:\n                break;\n        }\n\n        this.moveHead();\n\n        if (readMode) {\n            // According to UtAIIe, p. 9-13 to 9-14, any even address can be\n            // used to read the data register onto the CPU bus, although some\n            // also cause conflicts with the disk controller commands.\n            if ((off & 0x01) === 0) {\n                result = this.latch;\n                if (result & 0x80) {\n                    this.nibbleCount++;\n                }\n            } else {\n                result = 0;\n            }\n        } else {\n            // It's not explicitly stated, but writes to any address set the\n            // data register.\n            this.bus = val!;\n        }\n\n        return result;\n    }\n\n    private updateDirty(drive: DriveNumber, dirty: boolean) {\n        this.drives[drive - 1].dirty = dirty;\n        if (this.callbacks.dirty) {\n            this.callbacks.dirty(drive, dirty);\n        }\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        return this.bootstrapRom[off];\n    }\n\n    write() { }\n\n    reset() {\n        if (this.on) {\n            this.callbacks.driveLight(this.drive, false);\n            this.writeMode = false;\n            this.on = false;\n            this.drive = 1;\n            this.cur = this.drives[this.drive - 1];\n        }\n        for (let idx = 0; idx < 4; idx++) {\n            this.q[idx] = false;\n        }\n    }\n\n    tick() {\n        this.moveHead();\n    }\n\n    getState() {\n        const result = {\n            drives: [] as DriveState[],\n            skip: this.skip,\n            latch: this.latch,\n            writeMode: this.writeMode,\n            on: this.on,\n            drive: this.drive\n        };\n        this.drives.forEach(function (drive, idx) {\n            result.drives[idx] = getDriveState(drive);\n        });\n\n        return result;\n    }\n\n    setState(state: State) {\n        this.skip = state.skip;\n        this.latch = state.latch;\n        this.writeMode = state.writeMode;\n        this.on = state.on;\n        this.drive = state.drive;\n        for (const d of DRIVE_NUMBERS) {\n            const idx = d - 1;\n            this.drives[idx] = setDriveState(state.drives[idx]);\n            const { name, side, dirty } = state.drives[idx];\n            this.callbacks.label(d, name, side);\n            this.callbacks.driveLight(d, this.on);\n            this.callbacks.dirty(d, dirty);\n        }\n        this.cur = this.drives[this.drive - 1];\n    }\n\n    getMetadata(driveNo: DriveNumber) {\n        const drive = this.drives[driveNo - 1];\n        return {\n            format: drive.format,\n            volume: drive.volume,\n            track: drive.track,\n            head: drive.head,\n            phase: drive.phase,\n            readOnly: drive.readOnly,\n            dirty: drive.dirty\n        };\n    }\n\n    // TODO(flan): Does not work on WOZ disks\n    rwts(disk: DriveNumber, track: byte, sector: byte) {\n        const cur = this.drives[disk - 1];\n        if (!isNibbleDrive(cur)) {\n            throw new Error('Can\\'t read WOZ disks');\n        }\n        return readSector(cur, track, sector);\n    }\n\n    /** Sets the data for `drive` from `disk`, which is expected to be JSON. */\n    // TODO(flan): This implementation is not very safe.\n    setDisk(drive: DriveNumber, jsonDisk: JSONDisk) {\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_JSON_DISK,\n                payload: {\n                    drive,\n                    jsonDisk\n                },\n            };\n            this.worker.postMessage(message);\n            return true;\n        } else {\n            const disk = createDiskFromJsonDisk(jsonDisk);\n            if (disk) {\n                const cur = this.drives[drive - 1];\n                Object.assign(cur, disk);\n                this.updateDirty(drive, false);\n                this.callbacks.label(drive, disk.name, disk.side);\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getJSON(drive: DriveNumber, pretty: boolean = false) {\n        const cur = this.drives[drive - 1];\n        if (!isNibbleDrive(cur)) {\n            throw new Error('Can\\'t save WOZ disks to JSON');\n        }\n        return jsonEncode(cur, pretty);\n    }\n\n    setJSON(drive: DriveNumber, json: string) {\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_JSON,\n                payload: {\n                    drive,\n                    json\n                },\n            };\n            this.worker.postMessage(message);\n        } else {\n            const cur = this.drives[drive - 1];\n            Object.assign(cur, jsonDecode(json));\n        }\n        return true;\n    }\n\n    setBinary(drive: DriveNumber, name: string, fmt: NibbleFormat, rawData: ArrayBuffer) {\n        const readOnly = false;\n        const volume = 254;\n        const options = {\n            name,\n            rawData,\n            readOnly,\n            volume,\n        };\n\n        if (this.worker) {\n            const message: FormatWorkerMessage = {\n                type: PROCESS_BINARY,\n                payload: {\n                    drive,\n                    fmt,\n                    options,\n                }\n            };\n            this.worker.postMessage(message);\n\n            return true;\n        } else {\n            const disk = createDisk(fmt, options);\n            if (disk) {\n                const cur = this.drives[drive - 1];\n                const { name, side } = cur;\n                Object.assign(cur, disk);\n                this.updateDirty(drive, true);\n                this.callbacks.label(drive, name, side);\n\n                return true;\n            }\n        }\n        return false;\n    }\n\n    initWorker() {\n        this.worker = new Worker('dist/format_worker.bundle.js');\n\n        this.worker.addEventListener('message', (message: MessageEvent<FormatWorkerResponse>) => {\n            const { data } = message;\n            switch (data.type) {\n                case DISK_PROCESSED:\n                    {\n                        const { drive, disk } = data.payload;\n                        if (disk) {\n                            const cur = this.drives[drive - 1];\n                            Object.assign(cur, disk);\n                            const { name, side } = cur;\n                            this.updateDirty(drive, true);\n                            this.callbacks.label(drive, name, side);\n                        }\n                    }\n                    break;\n            }\n        });\n    }\n\n    // TODO(flan): Does not work with WOZ disks\n    getBinary(drive: DriveNumber) {\n        const cur = this.drives[drive - 1];\n        if (!isNibbleDrive(cur)) {\n            return null;\n        }\n        // TODO(flan): Assumes 16-sectors\n        const len = (16 * cur.tracks.length * 256);\n        const data = new Uint8Array(len);\n\n        let idx = 0;\n        for (let t = 0; t < cur.tracks.length; t++) {\n            if (cur.format === 'nib') {\n                data.set(cur.tracks[t], idx);\n                idx += cur.tracks[t].length;\n            } else {\n                for (let s = 0; s < 0x10; s++) {\n                    const sector = readSector(cur, t, s);\n                    data.set(sector, idx);\n                    idx += sector.length;\n                }\n            }\n        }\n\n        return data;\n    }\n\n    // TODO(flan): Does not work with WOZ disks\n    getBase64(drive: DriveNumber) {\n        const cur = this.drives[drive - 1];\n        if (!isNibbleDrive(cur)) {\n            return null;\n        }\n        const data: string[][] | string[] = [];\n        for (let t = 0; t < cur.tracks.length; t++) {\n            if (cur.format === 'nib') {\n                data[t] = base64_encode(cur.tracks[t]);\n            } else {\n                const track: string[] = [];\n                for (let s = 0; s < 0x10; s++) {\n                    track[s] = base64_encode(readSector(cur, t, s));\n                }\n                data[t] = track;\n            }\n        }\n        return data;\n    }\n}\n","import { byte, memory, Memory, Restorable } from './types';\nimport { allocMemPages } from './util';\n\nexport interface RAMState {\n    /** Copy of contents. */\n    mem: memory;\n}\n\n/**\n * Represents RAM from the start page `sp` to end page `ep`. The memory\n * is addressed by `page` and `offset`.\n */\nexport default class RAM implements Memory, Restorable<RAMState> {\n    private start_page: byte;\n    private end_page: byte;\n    private mem: memory;\n\n    constructor(sp: byte, ep: byte) {\n        this.start_page = sp;\n        this.end_page = ep;\n\n        this.mem = allocMemPages(ep - sp + 1);\n    }\n\n    public start(): byte {\n        return this.start_page;\n    }\n\n    public end(): byte {\n        return this.end_page;\n    }\n\n    public read(page: byte, offset: byte) {\n        return this.mem[(page - this.start_page) << 8 | offset];\n    }\n\n    public write(page: byte, offset: byte, val: byte) {\n        this.mem[(page - this.start_page) << 8 | offset] = val;\n    }\n\n    public getState(): RAMState {\n        return {\n            mem: new Uint8Array(this.mem)\n        };\n    }\n\n    public setState(state: RAMState) {\n        this.mem = new Uint8Array(state.mem);\n    }\n}\n","import RAM, { RAMState } from '../ram';\nimport { debug } from '../util';\nimport { Card, Memory, byte, Restorable } from '../types';\n\nexport interface LanguageCardState {\n    bank1: RAMState;\n    bank2: RAMState;\n    ram: RAMState;\n\n    readbsr: boolean;\n    writebsr: boolean;\n    bsr2: boolean;\n    prewrite: boolean;\n}\n\nexport default class LanguageCard implements Card, Restorable<LanguageCardState> {\n    private bank1: RAM;\n    private bank2: RAM;\n    private ram: RAM;\n\n    private readbsr = false;\n    private writebsr = false;\n    private bsr2 = false;\n    private prewrite = false;\n\n    private read1: Memory;\n    private read2: Memory;\n\n    private write1: Memory;\n    private write2: Memory;\n\n    constructor(private rom: Memory) {\n        debug('Language card');\n\n        this.bank1 = new RAM(0xd0, 0xdf);\n        this.bank2 = new RAM(0xd0, 0xdf);\n        this.ram = new RAM(0xe0, 0xff);\n\n        this.write1 = this.rom;\n        this.write2 = this.rom;\n\n        this.read1 = this.rom;\n        this.read2 = this.rom;\n    }\n\n    private debug(..._args: any[]) {\n        // debug.apply(null, args);\n    }\n\n    private updateBanks() {\n        if (this.readbsr) {\n            this.read1 = this.bsr2 ? this.bank2 : this.bank1;\n            this.read2 = this.ram;\n        } else {\n            this.read1 = this.rom;\n            this.read2 = this.rom;\n        }\n\n        if (this.writebsr) {\n            this.write1 = this.bsr2 ? this.bank2 : this.bank1;\n            this.write2 = this.ram;\n        } else {\n            this.write1 = this.rom;\n            this.write2 = this.rom;\n        }\n    }\n\n    // Bank 2\n    // READBSR2: 0x80\n    // WRITEBSR2: 0x81\n    // OFFBSR2: 0x82\n    // READWRBSR2: 0x83\n\n    // Bank 1\n    // READBSR1: 0x88\n    // WRITEBSR1: 0x89\n    // OFFBSR1: 0x8a\n    // READWRBSR1: 0x8b\n\n    private access(off: byte, val?: byte) {\n        const readMode = val === undefined;\n        const result = readMode ? 0 : undefined;\n\n        const writeSwitch = off & 0x01;\n        const offSwitch = off & 0x02;\n        const bank1Switch = off & 0x08;\n\n        let bankStr;\n        let rwStr;\n\n        if (writeSwitch) { // $C081, $C083, $C089, $C08B\n            if (readMode) {\n                this.writebsr = this.prewrite;\n            }\n            this.prewrite = readMode;\n\n            if (offSwitch) { // $C083, $C08B\n                this.readbsr = true;\n                rwStr = 'Read/Write';\n            } else { // $C081, $C089\n                this.readbsr = false;\n                rwStr = 'Write';\n            }\n        } else { // $C080, $C082, $C088, $C08A\n            this.writebsr = false;\n            this.prewrite = false;\n\n            if (offSwitch) { // $C082, $C08A\n                this.readbsr = false;\n                rwStr = 'Off';\n            } else { // $C080, $C088\n                this.readbsr = true;\n                rwStr = 'Read';\n            }\n        }\n\n        if (bank1Switch) { // C08[8-C]\n            this.bsr2 = false;\n            bankStr = 'Bank 1';\n        } else { // C08[0-3]\n            this.bsr2 = true;\n            bankStr = 'Bank 2';\n        }\n\n        this.debug(bankStr, rwStr);\n        this.updateBanks();\n\n        return result;\n    }\n\n    start() {\n        return 0xd0;\n    }\n\n    end() {\n        return 0xff;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte): byte {\n        let result: number = 0;\n        if (page < 0xe0) {\n            result = this.read1.read(page, off);\n        } else {\n            result = this.read2.read(page, off);\n        }\n        return result;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        if (page < 0xe0) {\n            this.write1.write(page, off, val);\n        } else {\n            this.write2.write(page, off, val);\n        }\n    }\n\n    getState() {\n        return {\n            readbsr: this.readbsr,\n            writebsr: this.writebsr,\n            bsr2: this.bsr2,\n            prewrite: this.prewrite,\n            ram: this.ram.getState(),\n            bank1: this.bank1.getState(),\n            bank2: this.bank2.getState()\n        };\n    }\n\n    setState(state: LanguageCardState) {\n        this.readbsr = state.readbsr;\n        this.writebsr = state.writebsr;\n        this.bsr2 = state.bsr2;\n        this.prewrite = state.prewrite;\n        this.ram.setState(state.ram);\n        this.bank1.setState(state.bank1);\n        this.bank2.setState(state.bank2);\n        this.updateBanks();\n    }\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x18,0xb0,0x38,0x48,0x8a,0x48,0x98,0x48,\n    0x08,0x78,0x20,0x58,0xff,0xba,0x68,0x68,\n    0x68,0x68,0xa8,0xca,0x9a,0x68,0x28,0xaa,\n    0x90,0x38,0xbd,0xb8,0x05,0x10,0x19,0x98,\n    0x29,0x7f,0x49,0x30,0xc9,0x0a,0x90,0x3b,\n    0xc9,0x78,0xb0,0x29,0x49,0x3d,0xf0,0x21,\n    0x98,0x29,0x9f,0x9d,0x38,0x06,0x90,0x7e,\n    0xbd,0xb8,0x06,0x30,0x14,0xa5,0x24,0xdd,\n    0x38,0x07,0xb0,0x0d,0xc9,0x11,0xb0,0x09,\n    0x09,0xf0,0x3d,0x38,0x07,0x65,0x24,0x85,\n    0x24,0x4a,0x38,0xb0,0x6d,0x18,0x6a,0x3d,\n    0xb8,0x06,0x90,0x02,0x49,0x81,0x9d,0xb8,\n    0x06,0xd0,0x53,0xa0,0x0a,0x7d,0x38,0x05,\n    0x88,0xd0,0xfa,0x9d,0xb8,0x04,0x9d,0x38,\n    0x05,0x38,0xb0,0x43,0xc5,0x24,0x90,0x3a,\n    0x68,0xa8,0x68,0xaa,0x68,0x4c,0xf0,0xfd,\n    0x90,0xfe,0xb0,0xfe,0x99,0x80,0xc0,0x90,\n    0x37,0x49,0x07,0xa8,0x49,0x0a,0x0a,0xd0,\n    0x06,0xb8,0x85,0x24,0x9d,0x38,0x07,0xbd,\n    0xb8,0x06,0x4a,0x70,0x02,0xb0,0x23,0x0a,\n    0x0a,0xa9,0x27,0xb0,0xcf,0xbd,0x38,0x07,\n    0xfd,0xb8,0x04,0xc9,0xf8,0x90,0x03,0x69,\n    0x27,0xac,0xa9,0x00,0x85,0x24,0x18,0x7e,\n    0xb8,0x05,0x68,0xa8,0x68,0xaa,0x68,0x60,\n    0x90,0x27,0xb0,0x00,0x10,0x11,0xa9,0x89,\n    0x9d,0x38,0x06,0x9d,0xb8,0x06,0xa9,0x28,\n    0x9d,0xb8,0x04,0xa9,0x02,0x85,0x36,0x98,\n    0x5d,0x38,0x06,0x0a,0xf0,0x90,0x5e,0xb8,\n    0x05,0x98,0x48,0x8a,0x0a,0x0a,0x0a,0x0a,\n    0xa8,0xbd,0x38,0x07,0xc5,0x24,0x68,0xb0,\n    0x05,0x48,0x29,0x80,0x09,0x20,0x2c,0x58,\n    0xff,0xf0,0x03,0xfe,0x38,0x07,0x70,0x84\n]) as ReadonlyUint8Array;\n","import { debug } from '../util';\nimport { Card, Restorable, byte } from '../types';\nimport { rom } from '../roms/cards/parallel';\n\nconst LOC = {\n    IOREG: 0x80\n} as const;\n\nexport interface ParallelState {}\nexport interface ParallelOptions {\n    putChar: (val: byte) => void;\n}\n\nexport default class Parallel implements Card, Restorable<ParallelState> {\n    constructor(private cbs: ParallelOptions) {\n        debug('Parallel card');\n    }\n\n    private access(off: byte, val?: byte) {\n        switch (off & 0x8f) {\n            case LOC.IOREG:\n                if (this.cbs.putChar && val) {\n                    this.cbs.putChar(val);\n                }\n                break;\n            default:\n                debug('Parallel card unknown softswitch', off);\n        }\n        return 0;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        return rom[off];\n    }\n\n    write() {}\n\n    getState() {\n        return {};\n    }\n\n    setState(_state: ParallelState) {}\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x43,0x4f,0x50,0x59,0x52,0x49,0x47,0x48,\n    0x54,0x20,0x28,0x43,0x29,0x20,0x31,0x39,\n    0x38,0x36,0x2d,0x38,0x39,0x20,0x41,0x50,\n    0x50,0x4c,0x49,0x45,0x44,0x20,0x45,0x4e,\n    0x47,0x49,0x4e,0x45,0x45,0x52,0x49,0x4e,\n    0x47,0x00,0x42,0x4f,0x42,0x20,0x53,0x41,\n    0x4e,0x44,0x45,0x52,0x2d,0x43,0x45,0x44,\n    0x45,0x52,0x4c,0x4f,0x46,0x00,0x4d,0x49,\n    0x43,0x48,0x41,0x45,0x4c,0x20,0x57,0x49,\n    0x4c,0x4b,0x53,0x00,0x53,0x54,0x45,0x56,\n    0x45,0x4e,0x20,0x4d,0x41,0x4c,0x45,0x43,\n    0x48,0x45,0x4b,0x00,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc1,0x4c,0x9b,0xc1,\n    0x20,0x16,0xc1,0x4c,0x9f,0xc1,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc1,0xae,0xff,0xcf,0x0e,0x9f,0xc0,\n    0xa2,0x98,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc1,0xc5,0x39,0x08,\n    0x20,0x16,0xc1,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc1,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc1,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc1,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x10,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc1,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0x9f,\n    0xc0,0xa2,0x98,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0x9f,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc1,0x4c,0x00,0xc8,0x20,0x28,0xc1,0x4c,\n    0xe8,0xcb,0xc9,0x10,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc1,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc2,0x4c,0x9b,0xc2,\n    0x20,0x16,0xc2,0x4c,0x9f,0xc2,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc2,0xae,0xff,0xcf,0x0e,0xaf,0xc0,\n    0xa2,0xa8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc2,0xc5,0x39,0x08,\n    0x20,0x16,0xc2,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc2,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc2,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc2,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x20,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc2,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xaf,\n    0xc0,0xa2,0xa8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xaf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc2,0x4c,0x00,0xc8,0x20,0x28,0xc2,0x4c,\n    0xe8,0xcb,0xc9,0x20,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc2,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc3,0x4c,0x9b,0xc3,\n    0x20,0x16,0xc3,0x4c,0x9f,0xc3,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc3,0xae,0xff,0xcf,0x0e,0xbf,0xc0,\n    0xa2,0xb8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc3,0xc5,0x39,0x08,\n    0x20,0x16,0xc3,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc3,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc3,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc3,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x30,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc3,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xbf,\n    0xc0,0xa2,0xb8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xbf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc3,0x4c,0x00,0xc8,0x20,0x28,0xc3,0x4c,\n    0xe8,0xcb,0xc9,0x30,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc3,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc4,0x4c,0x9b,0xc4,\n    0x20,0x16,0xc4,0x4c,0x9f,0xc4,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc4,0xae,0xff,0xcf,0x0e,0xcf,0xc0,\n    0xa2,0xc8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc4,0xc5,0x39,0x08,\n    0x20,0x16,0xc4,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc4,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc4,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc4,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x40,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc4,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xcf,\n    0xc0,0xa2,0xc8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xcf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc4,0x4c,0x00,0xc8,0x20,0x28,0xc4,0x4c,\n    0xe8,0xcb,0xc9,0x40,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc4,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc5,0x4c,0x9b,0xc5,\n    0x20,0x16,0xc5,0x4c,0x9f,0xc5,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc5,0xae,0xff,0xcf,0x0e,0xdf,0xc0,\n    0xa2,0xd8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc5,0xc5,0x39,0x08,\n    0x20,0x16,0xc5,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc5,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc5,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc5,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x50,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc5,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xdf,\n    0xc0,0xa2,0xd8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xdf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc5,0x4c,0x00,0xc8,0x20,0x28,0xc5,0x4c,\n    0xe8,0xcb,0xc9,0x50,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc5,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc6,0x4c,0x9b,0xc6,\n    0x20,0x16,0xc6,0x4c,0x9f,0xc6,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc6,0xae,0xff,0xcf,0x0e,0xef,0xc0,\n    0xa2,0xe8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc6,0xc5,0x39,0x08,\n    0x20,0x16,0xc6,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc6,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc6,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc6,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x60,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc6,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xef,\n    0xc0,0xa2,0xe8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xef,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc6,0x4c,0x00,0xc8,0x20,0x28,0xc6,0x4c,\n    0xe8,0xcb,0xc9,0x60,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc6,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc7,0x4c,0x9b,0xc7,\n    0x20,0x16,0xc7,0x4c,0x9f,0xc7,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc7,0xae,0xff,0xcf,0x0e,0xff,0xc0,\n    0xa2,0xf8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc7,0xc5,0x39,0x08,\n    0x20,0x16,0xc7,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc7,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc7,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc7,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x70,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc7,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xff,\n    0xc0,0xa2,0xf8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xff,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc7,0x4c,0x00,0xc8,0x20,0x28,0xc7,0x4c,\n    0xe8,0xcb,0xc9,0x70,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc7,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0x20,0x99,0xcd,0xa2,0x09,0xb5,0x42,0x48,\n    0xca,0x10,0xfa,0xba,0xbd,0x0c,0x01,0x85,\n    0x46,0xbd,0x0b,0x01,0x85,0x45,0xa0,0x03,\n    0xb1,0x45,0x99,0x41,0x00,0xfe,0x0b,0x01,\n    0xd0,0x03,0xfe,0x0c,0x01,0x88,0xd0,0xf0,\n    0x8c,0xf8,0x04,0x8c,0x78,0x05,0x8c,0xf8,\n    0x05,0xaa,0xc9,0x0a,0xb0,0x28,0xbd,0x87,\n    0xc8,0xd1,0x43,0xd0,0x24,0xa0,0x08,0xb1,\n    0x43,0x99,0x43,0x00,0x88,0xd0,0xf8,0x4a,\n    0xd0,0x11,0xae,0x78,0x07,0xa4,0x42,0xa9,\n    0xc8,0x48,0xb9,0x7d,0xc8,0x48,0x46,0x44,\n    0xa5,0x47,0x60,0xa9,0x11,0x2c,0xa9,0x01,\n    0x2c,0xa9,0x04,0x8d,0xf8,0x04,0xa2,0x00,\n    0x68,0x95,0x42,0xe8,0xe0,0x0a,0x90,0xf8,\n    0xac,0xf8,0x05,0xae,0x78,0x05,0xad,0xf8,\n    0x04,0xd0,0x01,0x18,0x60,0xca,0xa3,0xb5,\n    0x90,0x9c,0x90,0x93,0x93,0x98,0x96,0x03,\n    0x03,0x03,0x01,0x03,0x01,0x01,0x01,0x04,\n    0x04,0x4c,0x66,0xc8,0x4c,0x5e,0xc8,0xb0,\n    0x2c,0xb0,0x18,0x90,0xf7,0xf0,0xf2,0xa9,\n    0x21,0x4c,0x63,0xc8,0x90,0xee,0x20,0x0c,\n    0xc9,0xb0,0x1d,0xad,0x13,0xc0,0x06,0x4b,\n    0x0a,0x66,0x4b,0x4c,0x23,0xc9,0x90,0xdc,\n    0x20,0x0c,0xc9,0xb0,0x0b,0xad,0x14,0xc0,\n    0x06,0x4b,0x0a,0x66,0x4b,0x4c,0x82,0xc9,\n    0x4c,0x7d,0xc9,0xb0,0x13,0xd0,0xd0,0xa0,\n    0x08,0x8c,0x78,0x05,0x88,0x91,0x45,0xd0,\n    0xfb,0xa9,0x01,0x91,0x45,0x4c,0x66,0xc8,\n    0xf0,0x07,0xa0,0x19,0xc9,0x03,0xd0,0xb7,\n    0x2c,0xa0,0x04,0x8c,0x78,0x05,0x88,0xb9,\n    0xc6,0xc9,0xc0,0x02,0xd0,0x0e,0xae,0xf8,\n    0x07,0xbd,0xb8,0x05,0x4a,0x91,0x45,0x88,\n    0xbd,0x38,0x06,0x6a,0x91,0x45,0x88,0x10,\n    0xe6,0x4c,0x66,0xc8,0x0a,0x85,0x4a,0xa5,\n    0x48,0x2a,0xb0,0x0e,0x85,0x4b,0xa5,0x49,\n    0xc9,0x01,0xb0,0x06,0x85,0x47,0xa9,0x02,\n    0x85,0x48,0x60,0x20,0x64,0xc9,0xb0,0x55,\n    0x2c,0x14,0xc0,0x08,0x0a,0x90,0x03,0x8d,\n    0x05,0xc0,0xa5,0x48,0x8d,0xf8,0x05,0xf0,\n    0x0e,0xbd,0xfb,0xbf,0x91,0x45,0xc8,0xd0,\n    0xf8,0xe6,0x46,0xc6,0x48,0xd0,0xf2,0xa5,\n    0x47,0xf0,0x0d,0x8d,0x78,0x05,0xbd,0xfb,\n    0xbf,0x91,0x45,0xc8,0xc4,0x47,0xd0,0xf6,\n    0x8d,0x04,0xc0,0x28,0x10,0x03,0x8d,0x05,\n    0xc0,0x4c,0x66,0xc8,0xa5,0x49,0x9d,0xf8,\n    0xbf,0xa5,0x4a,0x9d,0xf9,0xbf,0xa5,0x4b,\n    0x29,0x7f,0x9d,0xfa,0xbf,0x20,0x9d,0xca,\n    0xa0,0x00,0xa5,0x4b,0x60,0xa9,0x2d,0x4c,\n    0x63,0xc8,0x20,0x64,0xc9,0xb0,0xf6,0x2c,\n    0x13,0xc0,0x08,0x8d,0x02,0xc0,0x0a,0x90,\n    0x03,0x8d,0x03,0xc0,0xa5,0x48,0x8d,0xf8,\n    0x05,0xf0,0x0e,0xb1,0x45,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf8,0xe6,0x46,0xc6,0x48,0xd0,\n    0xf2,0xa5,0x47,0x8d,0x78,0x05,0xf0,0x0a,\n    0xb1,0x45,0x9d,0xfb,0xbf,0xc8,0xc4,0x47,\n    0xd0,0xf6,0x8d,0x02,0xc0,0x28,0x10,0x03,\n    0x8d,0x03,0xc0,0x4c,0x66,0xc8,0xf8,0x00,\n    0x00,0x00,0x07,0x52,0x41,0x4d,0x43,0x41,\n    0x52,0x44,0x20,0x20,0x20,0x20,0x20,0x20,\n    0x20,0x20,0x20,0x00,0x00,0x00,0x00,0xac,\n    0xf8,0x07,0x20,0x8e,0xca,0xbd,0xfb,0xbf,\n    0xc9,0xae,0xd0,0x45,0x5d,0xfb,0xbf,0xc9,\n    0x5a,0xd0,0x3e,0xbd,0xfb,0xbf,0x99,0x38,\n    0x04,0x49,0x5a,0xdd,0xfb,0xbf,0xd0,0x31,\n    0xbd,0xfb,0xbf,0x99,0xb8,0x03,0xb9,0x38,\n    0x04,0x9d,0xf8,0xbf,0xbd,0xfb,0xbf,0x99,\n    0xb8,0x04,0xbd,0xfb,0xbf,0x99,0x38,0x05,\n    0xbd,0xfb,0xbf,0x99,0xb8,0x05,0xbd,0xfb,\n    0xbf,0x99,0x38,0x06,0xbd,0xfb,0xbf,0x99,\n    0xb8,0x06,0xbd,0xfb,0xbf,0x99,0x38,0x07,\n    0x60,0xb9,0xb8,0x06,0x59,0x38,0x07,0xc9,\n    0x5a,0xf0,0x38,0x20,0x8e,0xca,0xa9,0x04,\n    0x9d,0xf9,0xbf,0xbd,0xfb,0xbf,0x5d,0xfb,\n    0xbf,0x5d,0xfb,0xbf,0x5d,0xfb,0xbf,0xa2,\n    0x4c,0xc9,0x03,0xf0,0x0c,0xa2,0x00,0xc9,\n    0x06,0xf0,0x06,0xa2,0x33,0xc9,0xbe,0xd0,\n    0x09,0x8a,0x99,0xb8,0x06,0x49,0x5a,0x99,\n    0x38,0x07,0x20,0x00,0xcb,0xac,0xf8,0x07,\n    0x99,0xb8,0x03,0xb9,0xb8,0x03,0x0a,0x99,\n    0xb8,0x05,0xa9,0x00,0x99,0x38,0x06,0x99,\n    0x38,0x05,0x99,0xb8,0x04,0xa9,0x01,0x99,\n    0x38,0x04,0x60,0xae,0x78,0x07,0xa9,0x00,\n    0x9d,0xf8,0xbf,0x9d,0xf9,0xbf,0x9d,0xfa,\n    0xbf,0x60,0x20,0x8e,0xca,0xac,0xf8,0x07,\n    0xb9,0xb8,0x03,0xc9,0x09,0xbd,0xfa,0xbf,\n    0xb0,0x02,0x29,0x0f,0x48,0xd0,0x1e,0xb9,\n    0x38,0x04,0xc9,0x08,0xd0,0x17,0xbd,0xf9,\n    0xbf,0xc9,0x02,0xb0,0x10,0x09,0xfe,0x9d,\n    0xf9,0xbf,0xb9,0xb8,0x03,0xe9,0x00,0x2a,\n    0x9d,0xfa,0xbf,0x68,0x60,0xbd,0xf9,0xbf,\n    0xd9,0x38,0x06,0x68,0x48,0xf9,0xb8,0x05,\n    0xb0,0xf1,0xbd,0xf9,0xbf,0x79,0x38,0x05,\n    0x9d,0xf9,0xbf,0x68,0x79,0xb8,0x04,0x9d,\n    0xfa,0xbf,0x60,0xa0,0x00,0xbd,0xfb,0xbf,\n    0x99,0x00,0x08,0xc8,0xd0,0xf7,0xbd,0xfb,\n    0xbf,0x99,0x00,0x09,0xc8,0xd0,0xf7,0x60,\n    0x20,0x8b,0xca,0xa8,0xdd,0xfa,0xbf,0xd0,\n    0x02,0xa0,0x02,0x19,0x95,0xcb,0x85,0x3f,\n    0x85,0x3e,0x9d,0xfa,0xbf,0xbd,0xfb,0xbf,\n    0xde,0xf8,0xbf,0x48,0xa5,0x3f,0x9d,0xfb,\n    0xbf,0xde,0xf8,0xbf,0x39,0x95,0xcb,0xf0,\n    0x14,0xa5,0x3f,0x38,0xf9,0x98,0xcb,0x4c,\n    0x0e,0xcb,0x18,0xa5,0x3f,0x79,0x98,0xcb,\n    0x85,0x3f,0x9d,0xfa,0xbf,0xbd,0xfb,0xbf,\n    0xc5,0x3f,0xd0,0x3f,0x49,0xff,0xde,0xf8,\n    0xbf,0x9d,0xfb,0xbf,0xde,0xf8,0xbf,0xdd,\n    0xfb,0xbf,0xd0,0x2f,0xde,0xf8,0xbf,0xa5,\n    0x3f,0x39,0x95,0xcb,0xd9,0x95,0xcb,0xd0,\n    0xd1,0xa5,0x3e,0x9d,0xfa,0xbf,0x68,0x9d,\n    0xfb,0xbf,0xde,0xf8,0xbf,0x18,0xa5,0x3e,\n    0x79,0x98,0xcb,0x85,0x3e,0x39,0x95,0xcb,\n    0xd0,0xe7,0xa5,0x3f,0x88,0x10,0x8c,0x4a,\n    0x69,0x02,0x60,0xde,0xf8,0xbf,0x38,0xa5,\n    0x3f,0xf0,0xd6,0xf9,0x98,0xcb,0x85,0x3f,\n    0x4c,0x61,0xcb,0xea,0xea,0x0c,0x30,0xc0,\n    0x04,0x10,0x40,0xa2,0x04,0xa0,0x00,0xa9,\n    0x00,0x48,0x38,0xa5,0x3e,0xfd,0xde,0xcb,\n    0x48,0xa5,0x3f,0xfd,0xe3,0xcb,0x90,0x0a,\n    0x85,0x3f,0x68,0x85,0x3e,0x68,0x69,0x00,\n    0xd0,0xe7,0x68,0x68,0xd0,0x08,0x88,0x10,\n    0x05,0x8a,0xf0,0x02,0xa9,0x10,0xc8,0x49,\n    0xb0,0x20,0xed,0xfd,0xca,0x10,0xd0,0xa9,\n    0xcb,0x4c,0xed,0xfd,0x08,0x08,0x20,0x38,\n    0x50,0x68,0x80,0x98,0xb0,0xc8,0x04,0x28,\n    0x90,0xa0,0x40,0x00,0x00,0x01,0x0f,0x9c,\n    0xa4,0x42,0xc8,0xf0,0x6b,0x20,0x99,0xcd,\n    0xa0,0x2b,0xb0,0x18,0xa0,0x28,0xa5,0x43,\n    0x30,0x12,0xa4,0x42,0xf0,0x11,0x88,0xf0,\n    0x1e,0x88,0xf0,0x39,0x88,0xf0,0x14,0xa0,\n    0x01,0x2c,0xa0,0x27,0x98,0x38,0x60,0xac,\n    0xf8,0x07,0x20,0xe4,0xcf,0xac,0x78,0x04,\n    0xae,0xf8,0x04,0xa9,0x00,0x18,0x60,0x20,\n    0x58,0xcc,0xb0,0xe6,0xa0,0x00,0xbd,0xfb,\n    0xbf,0x91,0x44,0xc8,0xd0,0xf8,0xe6,0x45,\n    0xbd,0xfb,0xbf,0x91,0x44,0xc8,0xd0,0xf8,\n    0xc6,0x45,0x98,0x18,0x60,0x20,0x58,0xcc,\n    0xb0,0xc8,0xa0,0x00,0xb1,0x44,0x9d,0xfb,\n    0xbf,0xc8,0xd0,0xf8,0xe6,0x45,0xb1,0x44,\n    0x9d,0xfb,0xbf,0xc8,0xd0,0xf8,0xf0,0xe0,\n    0xa9,0x00,0x9d,0xf8,0xbf,0xa5,0x46,0x0a,\n    0x9d,0xf9,0xbf,0xa5,0x47,0x2a,0xb0,0x06,\n    0x9d,0xfa,0xbf,0x20,0x9d,0xca,0x60,0x20,\n    0x56,0xcd,0xa0,0x10,0xb0,0x6a,0x20,0xfb,\n    0xcc,0xa0,0x02,0xb1,0x48,0x85,0x3e,0x49,\n    0x01,0xf0,0x05,0x90,0x58,0x20,0x16,0xcd,\n    0xa0,0x0e,0xa9,0xfe,0x91,0x48,0xa0,0x04,\n    0x84,0x3f,0xb1,0x48,0xdd,0x35,0xcd,0xb0,\n    0x44,0x4a,0x66,0x3f,0x4a,0x66,0x3f,0x4a,\n    0x66,0x3f,0xe0,0x01,0xf0,0x03,0x4a,0x66,\n    0x3f,0x48,0xc8,0xb1,0x48,0xdd,0x37,0xcd,\n    0xb0,0x2b,0x05,0x3f,0x48,0x20,0x8b,0xca,\n    0x68,0x9d,0xf9,0xbf,0x68,0x9d,0xfa,0xbf,\n    0x20,0x9d,0xca,0xb0,0x18,0xa0,0x08,0xb1,\n    0x48,0x85,0x3e,0xc8,0xb1,0x48,0x85,0x3f,\n    0xa0,0x0c,0xb1,0x48,0xa8,0xf0,0x1d,0x88,\n    0xf0,0x12,0x88,0xf0,0x05,0x38,0xa0,0x80,\n    0xd0,0x13,0xb1,0x3e,0x9d,0xfb,0xbf,0xc8,\n    0xd0,0xf8,0xf0,0x08,0xbd,0xfb,0xbf,0x91,\n    0x3e,0xc8,0xd0,0xf8,0x18,0x98,0xa0,0x0d,\n    0x91,0x48,0x60,0xac,0xf8,0x07,0xa2,0x03,\n    0xb9,0x38,0x06,0xdd,0x31,0xcd,0xb9,0xb8,\n    0x05,0xfd,0x2d,0xcd,0xb0,0x04,0xca,0x10,\n    0xef,0x60,0x8a,0x4a,0xaa,0x60,0x18,0xac,\n    0xf8,0x07,0xb9,0x38,0x05,0x7d,0x3b,0xcd,\n    0x99,0x38,0x05,0xb9,0xb8,0x04,0x7d,0x39,\n    0xcd,0x99,0xb8,0x04,0x60,0x02,0x04,0x06,\n    0x0c,0x30,0x60,0x40,0x80,0x23,0x32,0x10,\n    0x20,0x02,0x06,0x30,0x40,0xac,0xf8,0x07,\n    0x20,0xe4,0xcf,0xc9,0x10,0xb0,0x05,0xad,\n    0x78,0x04,0xf0,0x09,0xb9,0x38,0x07,0x49,\n    0x5a,0xd9,0xb8,0x06,0x38,0x60,0x20,0x3d,\n    0xcd,0x90,0x3c,0xd0,0x06,0xc9,0x33,0xd0,\n    0x36,0x18,0x60,0xa9,0x33,0x99,0xb8,0x06,\n    0x20,0xfb,0xcc,0x30,0x2a,0x90,0x22,0xb9,\n    0x38,0x05,0x48,0xb9,0xb8,0x04,0x48,0x8e,\n    0xf8,0x04,0x20,0x16,0xcd,0xbc,0xe2,0xcf,\n    0x20,0xfb,0xcd,0xae,0xf8,0x04,0xac,0xf8,\n    0x07,0x68,0x99,0xb8,0x04,0x68,0x99,0x38,\n    0x05,0xbc,0xe2,0xcf,0x4c,0xc1,0xcd,0x38,\n    0x60,0x20,0x3d,0xcd,0x90,0x12,0xd0,0x12,\n    0xc9,0xcd,0xd0,0x02,0x18,0x60,0x20,0xec,\n    0xcd,0xd0,0x05,0xd9,0xb8,0x06,0xf0,0xf4,\n    0x38,0x60,0x20,0xec,0xcd,0xd0,0xf9,0x99,\n    0xb8,0x06,0xa0,0x00,0x0a,0xd0,0x02,0xa0,\n    0x87,0x20,0xfb,0xcd,0x20,0x8e,0xca,0xac,\n    0xf8,0x07,0xb9,0x38,0x04,0xc9,0x01,0xf0,\n    0x11,0x18,0x69,0x04,0x9d,0xf8,0xbf,0xb9,\n    0xb8,0x06,0x9d,0xfb,0xbf,0x49,0x5a,0x9d,\n    0xfb,0xbf,0xb9,0xb8,0x06,0x49,0x5a,0x99,\n    0x38,0x07,0x18,0x60,0xad,0x00,0xbf,0xf0,\n    0x02,0xc9,0x4c,0x60,0xae,0x78,0x07,0x20,\n    0x67,0xce,0xc8,0xb9,0x30,0xcf,0xd0,0xf4,\n    0x60,0x29,0x0f,0x9d,0xfb,0xbf,0xa9,0x00,\n    0x9d,0xfb,0xbf,0x60,0x98,0x48,0xad,0xf8,\n    0x04,0xc9,0x01,0xad,0x78,0x04,0xe9,0x00,\n    0x4a,0x4a,0x4a,0x4a,0xa8,0xa9,0xff,0x85,\n    0x3e,0xa9,0x03,0x4a,0x66,0x3e,0x88,0x10,\n    0xfa,0x9d,0xfb,0xbf,0xa5,0x3e,0x9d,0xfb,\n    0xbf,0x68,0xa8,0x60,0x20,0x53,0xce,0xa9,\n    0x01,0x48,0x20,0x06,0xce,0xa9,0x11,0x9d,\n    0xfb,0xbf,0x68,0x48,0x9d,0xfb,0xbf,0x20,\n    0x53,0xce,0x68,0x18,0x69,0x01,0xc9,0x1f,\n    0x90,0xe7,0x60,0xa9,0x00,0x2c,0xa9,0xff,\n    0x9d,0xfb,0xbf,0xdd,0xf8,0xbf,0xd0,0xf8,\n    0x6a,0x90,0x03,0x9d,0xfb,0xbf,0x60,0xc9,\n    0x40,0xb0,0x23,0xc9,0x30,0xb0,0x3e,0xc9,\n    0x20,0xb0,0x8e,0xc9,0x10,0xb0,0x95,0xc9,\n    0x04,0xf0,0x4a,0xb0,0x08,0xc9,0x02,0x90,\n    0x58,0xf0,0xd0,0xb0,0xd1,0xc9,0x06,0x90,\n    0x49,0xf0,0xa9,0x4c,0xf4,0xce,0x48,0x29,\n    0x3f,0xf0,0x18,0x68,0x48,0x29,0xc0,0x0a,\n    0xf0,0x08,0xa9,0xff,0xb0,0x04,0xc8,0xb9,\n    0x30,0xcf,0x9d,0xfb,0xbf,0x68,0x38,0xe9,\n    0x01,0xd0,0xe3,0x68,0x60,0x29,0x0f,0x48,\n    0xa9,0xff,0x9d,0xfb,0xbf,0x9d,0xfb,0xbf,\n    0x20,0x06,0xce,0x9d,0xfb,0xbf,0x68,0x38,\n    0xe9,0x01,0xd0,0xeb,0x60,0xad,0xf8,0x04,\n    0x9d,0xfb,0xbf,0xad,0x78,0x04,0x9d,0xfb,\n    0xbf,0x60,0xad,0xf8,0x07,0x49,0xf0,0xd0,\n    0xf5,0xa9,0x00,0x9d,0xf8,0xbf,0xc8,0xb9,\n    0x30,0xcf,0x9d,0xf9,0xbf,0xc8,0xb9,0x30,\n    0xcf,0x9d,0xfa,0xbf,0x98,0x48,0x20,0x9d,\n    0xca,0x68,0xa8,0x60,0x98,0x48,0xac,0x78,\n    0x04,0xf0,0x0d,0xea,0x98,0x48,0xa0,0x20,\n    0x20,0x27,0xcf,0x68,0xa8,0x88,0xd0,0xf4,\n    0xad,0xf8,0x04,0x48,0x4a,0x4a,0x4a,0xf0,\n    0x04,0xa8,0x20,0x27,0xcf,0x68,0x29,0x07,\n    0xa8,0xa9,0x00,0x38,0x6a,0x88,0x10,0xfb,\n    0x0a,0x9d,0xfb,0xbf,0x68,0xa8,0x60,0xa9,\n    0xff,0x9d,0xfb,0xbf,0x88,0xd0,0xfa,0x60,\n    0x01,0x00,0x00,0x02,0x02,0x01,0x02,0x00,\n    0x02,0x02,0x20,0x23,0x44,0xf4,0x52,0x41,\n    0x4d,0x05,0x99,0x43,0xc3,0x27,0x0d,0x20,\n    0x26,0x04,0x02,0x02,0x22,0x24,0x02,0x02,\n    0x23,0x25,0x02,0x02,0x24,0x20,0x02,0x02,\n    0x07,0x02,0x02,0x01,0x0c,0x00,0x10,0x00,\n    0x01,0x00,0x00,0x02,0x01,0x04,0x00,0x44,\n    0x02,0x0f,0x20,0x93,0x01,0x10,0x01,0x47,\n    0x33,0x11,0x0f,0x04,0x00,0x00,0xfe,0xa0,\n    0x41,0x7a,0x88,0x48,0x11,0x01,0x00,0x00,\n    0x23,0x10,0x00,0x01,0x88,0x3f,0x84,0x3f,\n    0x32,0x02,0x06,0x00,0x01,0x00,0x00,0x02,\n    0x01,0x04,0x00,0x44,0x02,0x0f,0x20,0x93,\n    0x01,0x20,0x02,0x47,0x33,0x11,0x1f,0x04,\n    0x00,0x00,0xfe,0xa0,0x41,0x7a,0x88,0x48,\n    0x11,0x01,0x00,0x00,0x32,0x20,0x00,0x01,\n    0x84,0xc8,0xf8,0x84,0x03,0x06,0x00,0x01,\n    0x00,0x00,0x02,0x02,0x01,0x02,0x00,0x02,\n    0x02,0x82,0x41,0x06,0x83,0x44,0x04,0x52,\n    0x41,0x4d,0x05,0x83,0x04,0x02,0x02,0x02,\n    0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,\n    0x02,0x00,0x44,0xae,0xf4,0x08,0x52,0x02,\n    0x02,0x00,0x30,0x5c,0xb9,0xb8,0x05,0x4a,\n    0x8d,0x78,0x04,0xb9,0x38,0x06,0x6a,0x8d,\n    0xf8,0x04,0x60,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0x43,0x4f,0x50,0x59,0x52,0x49,0x47,0x48,\n    0x54,0x20,0x28,0x43,0x29,0x20,0x31,0x39,\n    0x38,0x36,0x2d,0x38,0x39,0x20,0x41,0x50,\n    0x50,0x4c,0x49,0x45,0x44,0x20,0x45,0x4e,\n    0x47,0x49,0x4e,0x45,0x45,0x52,0x49,0x4e,\n    0x47,0x00,0x42,0x4f,0x42,0x20,0x53,0x41,\n    0x4e,0x44,0x45,0x52,0x2d,0x43,0x45,0x44,\n    0x45,0x52,0x4c,0x4f,0x46,0x00,0x4d,0x49,\n    0x43,0x48,0x41,0x45,0x4c,0x20,0x57,0x49,\n    0x4c,0x4b,0x53,0x00,0x53,0x54,0x45,0x56,\n    0x45,0x4e,0x20,0x4d,0x41,0x4c,0x45,0x43,\n    0x48,0x45,0x4b,0x00,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xae,0xae,0xae,0xae,0xae,0xae,0xae,0xae,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc1,0x4c,0x9b,0xc1,\n    0x20,0x16,0xc1,0x4c,0x9f,0xc1,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc1,0xae,0xff,0xcf,0x0e,0x9f,0xc0,\n    0xa2,0x98,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc1,0xc5,0x39,0x08,\n    0x20,0x16,0xc1,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc1,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc1,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc1,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x10,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc1,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0x9f,\n    0xc0,0xa2,0x98,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0x9f,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc1,0x4c,0x00,0xc8,0x20,0x28,0xc1,0x4c,\n    0xe8,0xcb,0xc9,0x10,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc1,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc2,0x4c,0x9b,0xc2,\n    0x20,0x16,0xc2,0x4c,0x9f,0xc2,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc2,0xae,0xff,0xcf,0x0e,0xaf,0xc0,\n    0xa2,0xa8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc2,0xc5,0x39,0x08,\n    0x20,0x16,0xc2,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc2,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc2,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc2,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x20,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc2,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xaf,\n    0xc0,0xa2,0xa8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xaf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc2,0x4c,0x00,0xc8,0x20,0x28,0xc2,0x4c,\n    0xe8,0xcb,0xc9,0x20,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc2,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc3,0x4c,0x9b,0xc3,\n    0x20,0x16,0xc3,0x4c,0x9f,0xc3,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc3,0xae,0xff,0xcf,0x0e,0xbf,0xc0,\n    0xa2,0xb8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc3,0xc5,0x39,0x08,\n    0x20,0x16,0xc3,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc3,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc3,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc3,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x30,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc3,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xbf,\n    0xc0,0xa2,0xb8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xbf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc3,0x4c,0x00,0xc8,0x20,0x28,0xc3,0x4c,\n    0xe8,0xcb,0xc9,0x30,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc3,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc4,0x4c,0x9b,0xc4,\n    0x20,0x16,0xc4,0x4c,0x9f,0xc4,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc4,0xae,0xff,0xcf,0x0e,0xcf,0xc0,\n    0xa2,0xc8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc4,0xc5,0x39,0x08,\n    0x20,0x16,0xc4,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc4,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc4,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc4,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x40,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc4,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xcf,\n    0xc0,0xa2,0xc8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xcf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc4,0x4c,0x00,0xc8,0x20,0x28,0xc4,0x4c,\n    0xe8,0xcb,0xc9,0x40,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc4,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc5,0x4c,0x9b,0xc5,\n    0x20,0x16,0xc5,0x4c,0x9f,0xc5,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc5,0xae,0xff,0xcf,0x0e,0xdf,0xc0,\n    0xa2,0xd8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc5,0xc5,0x39,0x08,\n    0x20,0x16,0xc5,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc5,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc5,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc5,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x50,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc5,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xdf,\n    0xc0,0xa2,0xd8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xdf,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc5,0x4c,0x00,0xc8,0x20,0x28,0xc5,0x4c,\n    0xe8,0xcb,0xc9,0x50,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc5,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc6,0x4c,0x9b,0xc6,\n    0x20,0x16,0xc6,0x4c,0x9f,0xc6,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc6,0xae,0xff,0xcf,0x0e,0xef,0xc0,\n    0xa2,0xe8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc6,0xc5,0x39,0x08,\n    0x20,0x16,0xc6,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc6,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc6,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc6,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x60,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc6,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xef,\n    0xc0,0xa2,0xe8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xef,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc6,0x4c,0x00,0xc8,0x20,0x28,0xc6,0x4c,\n    0xe8,0xcb,0xc9,0x60,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc6,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0xc9,0x20,0xc9,0x00,0xc9,0x03,0xc9,0x00,\n    0xb0,0x31,0x20,0x16,0xc7,0x4c,0x9b,0xc7,\n    0x20,0x16,0xc7,0x4c,0x9f,0xc7,0x8d,0x0c,\n    0xc0,0x8d,0x00,0xc0,0x8d,0x0e,0xc0,0x20,\n    0x2f,0xfb,0x20,0x93,0xfe,0x20,0x89,0xfe,\n    0xa0,0xc7,0xae,0xff,0xcf,0x0e,0xff,0xc0,\n    0xa2,0xf8,0x8c,0xf8,0x07,0x8e,0x78,0x07,\n    0x4c,0xdf,0xc9,0xa9,0xc7,0xc5,0x39,0x08,\n    0x20,0x16,0xc7,0x28,0xd0,0x1a,0x20,0xec,\n    0xcd,0xf0,0x15,0xa9,0x20,0x8d,0x12,0xbd,\n    0xa9,0xea,0x8d,0x13,0xbd,0x8c,0x14,0xbd,\n    0xa2,0x00,0xa9,0x8d,0x8d,0x00,0x02,0x60,\n    0xa5,0x00,0xd0,0x0a,0xc4,0x01,0xd0,0x06,\n    0x20,0x7b,0xc7,0x4c,0xba,0xfa,0xb9,0x38,\n    0x04,0xc9,0x01,0xd0,0x2a,0x20,0x7b,0xc7,\n    0x18,0x90,0x24,0x20,0x9a,0xca,0x20,0xeb,\n    0xca,0xa0,0xc7,0xad,0x01,0x08,0xf0,0x12,\n    0xb9,0x38,0x07,0x49,0x5a,0xd9,0xb8,0x06,\n    0xd0,0x08,0x8d,0x00,0xbf,0xa2,0x70,0x4c,\n    0x01,0x08,0x60,0xa0,0x03,0xd0,0x02,0xa0,\n    0x05,0xa2,0x03,0xb9,0xd5,0xc7,0x95,0x42,\n    0x88,0xca,0x10,0xf7,0x08,0x78,0x8e,0xff,\n    0xc0,0xa2,0xf8,0xa0,0x00,0x84,0x3e,0xa9,\n    0x0a,0x85,0x3f,0xb1,0x42,0x91,0x3e,0xc8,\n    0xd0,0x04,0xe6,0x3f,0xe6,0x43,0xc4,0x44,\n    0xa5,0x43,0xe5,0x45,0x90,0xed,0x0e,0xff,\n    0xc0,0x28,0x4c,0x00,0x0a,0x00,0xc8,0x26,\n    0xcb,0xf4,0xcf,0xb8,0x50,0x06,0x20,0x28,\n    0xc7,0x4c,0x00,0xc8,0x20,0x28,0xc7,0x4c,\n    0xe8,0xcb,0xc9,0x70,0xf0,0x04,0xaa,0xa0,\n    0x0f,0x60,0x68,0x68,0x20,0x28,0xc7,0x4c,\n    0x6f,0xcc,0xae,0x01,0x00,0x00,0x4f,0xdb,\n    0x8e,0x2b,0x0d,0x20,0x58,0xfc,0xa0,0x00,\n    0x20,0x7d,0x0c,0x20,0x00,0xcb,0x8d,0x2a,\n    0x0d,0xa0,0x00,0x8c,0x2f,0x0d,0x0a,0x90,\n    0x02,0x88,0x98,0x84,0x3e,0x85,0x3f,0x20,\n    0x9b,0xcb,0xa0,0x21,0x20,0x7d,0x0c,0x20,\n    0x8b,0xca,0x9d,0xfb,0xbf,0xa9,0x04,0x9d,\n    0xf9,0xbf,0xa9,0xff,0x9d,0xfb,0xbf,0xac,\n    0xf8,0x07,0x99,0xb8,0x06,0xa9,0x00,0x85,\n    0x24,0xa0,0x27,0x20,0x7d,0x0c,0xad,0x2f,\n    0x0d,0x20,0xda,0xfd,0xa0,0x2c,0x20,0x7d,\n    0x0c,0xa5,0x24,0x18,0x65,0x28,0x8d,0xe5,\n    0x0a,0xa9,0x00,0x65,0x29,0x8d,0xe6,0x0a,\n    0xa0,0x08,0x88,0x88,0x8c,0x29,0x0d,0x20,\n    0xe4,0x0a,0x20,0xe8,0x0a,0xb0,0x11,0xac,\n    0x29,0x0d,0xd0,0xee,0xee,0x2f,0x0d,0xad,\n    0x00,0xc0,0x10,0xc1,0x8d,0x10,0xc0,0x60,\n    0x98,0x48,0xa0,0x35,0x20,0x7d,0x0c,0xa9,\n    0x08,0x38,0xed,0x29,0x0d,0x4a,0xa8,0x09,\n    0xb0,0x20,0xed,0xfd,0xc0,0x03,0xb0,0x02,\n    0x68,0x60,0xa0,0x42,0x20,0x7d,0x0c,0xae,\n    0x78,0x07,0xbd,0xf8,0xbf,0xde,0xf8,0xbf,\n    0x29,0x7f,0xd0,0x0d,0xbd,0xf9,0xbf,0xde,\n    0xf9,0xbf,0x29,0x7f,0xd0,0x03,0xde,0xfa,\n    0xbf,0xbd,0xfa,0xbf,0xac,0x2a,0x0d,0xc0,\n    0x09,0xb0,0x02,0x29,0x0f,0x20,0xda,0xfd,\n    0xbd,0xf9,0xbf,0x20,0xda,0xfd,0xbd,0xf8,\n    0xbf,0x20,0xda,0xfd,0xa9,0xad,0x20,0xed,\n    0xfd,0x68,0x5d,0xfb,0xbf,0x20,0xda,0xfd,\n    0x20,0x8e,0xfd,0x60,0xee,0x00,0x04,0x60,\n    0xb9,0xf5,0x0a,0x48,0xb9,0xf4,0x0a,0x48,\n    0xae,0x2b,0x0d,0x60,0xe3,0x0b,0x80,0x0b,\n    0x1d,0x0b,0xfb,0x0a,0xa0,0x00,0x98,0x20,\n    0x0a,0x0d,0x5d,0xfa,0xbf,0x29,0x0f,0xd0,\n    0x13,0x98,0xdd,0xf9,0xbf,0xd0,0x0d,0xdd,\n    0xf8,0xbf,0xd0,0x08,0x20,0xe4,0x0a,0xc8,\n    0xd0,0xe4,0x18,0x60,0x38,0x60,0xa9,0x00,\n    0xa0,0xf0,0x20,0x0a,0x0d,0xad,0x28,0x0d,\n    0x20,0x6b,0x0b,0x8d,0x28,0x0d,0xad,0x27,\n    0x0d,0x20,0x6b,0x0b,0x8d,0x27,0x0d,0x20,\n    0x13,0x0d,0xee,0x28,0x0d,0xd0,0x0c,0xee,\n    0x27,0x0d,0xd0,0x07,0xee,0x26,0x0d,0xd0,\n    0x02,0x18,0x60,0x20,0xe4,0x0a,0xbd,0xfb,\n    0xbf,0xbd,0xfa,0xbf,0x4d,0x26,0x0d,0xd0,\n    0x10,0xbd,0xf9,0xbf,0xcd,0x27,0x0d,0xd0,\n    0x08,0xbd,0xf8,0xbf,0xcd,0x28,0x0d,0xf0,\n    0xbc,0x38,0x60,0xc9,0x10,0x90,0x06,0xc9,\n    0x70,0xb0,0x03,0xa9,0x70,0x60,0xc9,0x90,\n    0x90,0xfb,0xc9,0xf0,0xb0,0xf7,0xa9,0xf0,\n    0x60,0xad,0x2a,0x0d,0xf0,0x0e,0xa9,0x00,\n    0x8d,0x30,0x0d,0x20,0x96,0x0b,0x20,0x96,\n    0x0b,0x20,0x96,0x0b,0x18,0x60,0x20,0x8e,\n    0xca,0xa8,0x98,0x9d,0xfb,0xbf,0x20,0xbe,\n    0x0b,0xd0,0xf7,0x20,0xe4,0x0a,0x98,0x20,\n    0x0a,0x0d,0x98,0xdd,0xfb,0xbf,0xd0,0x0a,\n    0x20,0xbe,0x0b,0xd0,0xf5,0x38,0x6e,0x30,\n    0x0d,0x60,0x68,0x68,0x38,0x60,0x2c,0x30,\n    0x0d,0x10,0x18,0xee,0x26,0x0d,0xfe,0xfa,\n    0xbf,0xad,0x26,0x0d,0x4a,0xcd,0x2a,0x0d,\n    0x90,0x09,0xa0,0x00,0x60,0xee,0x27,0x0d,\n    0xfe,0xf9,0xbf,0xee,0x28,0x0d,0xc8,0x60,\n    0x00,0x55,0xaa,0xff,0xad,0x2a,0x0d,0xf0,\n    0x13,0xa0,0x03,0xb9,0xe0,0x0b,0x8d,0x2c,\n    0x0d,0x20,0xfe,0x0b,0x20,0x2e,0x0c,0xb0,\n    0x04,0x88,0x10,0xef,0x18,0x60,0x20,0x6d,\n    0x0c,0x20,0x0a,0x0c,0xce,0x2d,0x0d,0xd0,\n    0xf8,0x60,0x98,0x48,0xad,0x2c,0x0d,0xa0,\n    0x00,0x8c,0x2e,0x0d,0x9d,0xfb,0xbf,0x9d,\n    0xfb,0xbf,0x9d,0xfb,0xbf,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf1,0x20,0xe4,0x0a,0xee,0x2e,\n    0x0d,0xd0,0xe9,0x68,0xa8,0x60,0x20,0x6d,\n    0x0c,0x20,0x3c,0x0c,0xb0,0x05,0xce,0x2d,\n    0x0d,0xd0,0xf6,0x60,0x98,0x48,0xad,0x2c,\n    0x0d,0xa0,0x00,0x8c,0x2e,0x0d,0xdd,0xfb,\n    0xbf,0xd0,0x1e,0xdd,0xfb,0xbf,0xd0,0x19,\n    0xdd,0xfb,0xbf,0xd0,0x14,0xdd,0xfb,0xbf,\n    0xd0,0x0f,0xc8,0xd0,0xe9,0x20,0xe4,0x0a,\n    0xee,0x2e,0x0d,0xd0,0xe1,0x68,0xa8,0x18,\n    0x60,0xa8,0x68,0x38,0x60,0xad,0x2a,0x0d,\n    0x4a,0x8d,0x2d,0x0d,0x4c,0x8e,0xca,0x08,\n    0x20,0xed,0xfd,0x28,0x24,0x18,0x20,0x8f,\n    0x0c,0xbd,0xa1,0x0c,0xd0,0xf1,0x20,0x8f,\n    0x0c,0xbd,0xb0,0x0c,0xd0,0xe9,0x60,0xb9,\n    0xc0,0x0c,0xb0,0x07,0x4a,0x4a,0x4a,0x4a,\n    0xaa,0x38,0x60,0xc8,0x29,0x0f,0xaa,0x18,\n    0x60,0x00,0x8d,0xd2,0xc1,0xcd,0xae,0xd4,\n    0xc9,0xd3,0xa0,0xc7,0xcf,0xcc,0xc4,0xc5,\n    0xce,0x00,0xc2,0xc3,0xc6,0xc8,0xd0,0xd9,\n    0xda,0xcd,0xd1,0xd5,0xd6,0xb1,0xb4,0xba,\n    0x30,0x60,0x6c,0x7e,0xd9,0xef,0xa7,0xfe,\n    0xe2,0x7f,0xa9,0x23,0x40,0x43,0x03,0x6b,\n    0x29,0x6e,0x86,0x90,0xc0,0xd5,0x0e,0x11,\n    0x4e,0x4b,0x20,0x79,0x87,0x08,0xe0,0xf9,\n    0x01,0x90,0x20,0x76,0xe8,0x11,0x01,0x06,\n    0x38,0x80,0xf9,0x01,0x99,0x99,0x6e,0x86,\n    0x7f,0xa9,0x55,0x50,0x19,0x11,0x03,0x32,\n    0xd9,0x04,0x37,0xc0,0xb2,0xe5,0x97,0xd0,\n    0xf9,0x01,0x99,0x93,0xdd,0x2e,0x88,0x0f,\n    0x90,0x19,0x8d,0x28,0x0d,0x8d,0x27,0x0d,\n    0x8c,0x26,0x0d,0xad,0x28,0x0d,0x9d,0xf8,\n    0xbf,0xad,0x27,0x0d,0x9d,0xf9,0xbf,0xad,\n    0x26,0x0d,0x9d,0xfa,0xbf,0x60,0x20,0x8b,\n    0xca,0xbd,0xfb,0xbf,0xc9,0xae,0xd0,0x11,\n    0x5d,0xfb,0xbf,0xc9,0x5a,0xd0,0x0a,0xbd,\n    0xfb,0xbf,0x5d,0xfb,0xbf,0xc9,0x5a,0xf0,\n    0x50,0xac,0xf8,0x07,0xb9,0xb8,0x06,0x59,\n    0x38,0x07,0xc9,0x5a,0xd0,0x17,0x20,0x58,\n    0xfc,0xa0,0x88,0x20,0x8e,0x0c,0xa9,0xbf,\n    0x20,0xed,0xfd,0x20,0x97,0x0e,0xc9,0xd9,\n    0xf0,0x03,0x4c,0x06,0x0e,0x20,0x8b,0xca,\n    0xa0,0xaa,0x20,0xfb,0xcd,0x20,0x8b,0xca,\n    0xa9,0x04,0x9d,0xf8,0xbf,0xac,0xf8,0x07,\n    0xb9,0xb8,0x03,0x48,0x9d,0xfb,0xbf,0xa9,\n    0x0a,0x9d,0xf8,0xbf,0x68,0x0a,0x38,0xe9,\n    0x01,0x9d,0xfb,0xbf,0xa9,0xfc,0x9d,0xfb,\n    0xbf,0x20,0x8e,0xca,0x20,0xeb,0xca,0xad,\n    0x02,0x08,0x8d,0x01,0x09,0x20,0x58,0xfc,\n    0x4e,0x00,0x09,0xa9,0x00,0x85,0x24,0x85,\n    0x25,0xa0,0x00,0x20,0x8e,0x0c,0xad,0xf8,\n    0x07,0x49,0x70,0x20,0xed,0xfd,0x20,0x8e,\n    0xfd,0x20,0x8e,0xfd,0xa0,0x00,0x20,0x03,\n    0x0c,0xc8,0xc0,0x09,0x90,0xf8,0xa0,0x14,\n    0x20,0x8e,0x0c,0xa0,0x59,0x2c,0x00,0x09,\n    0x10,0x02,0xa0,0x27,0x20,0x8e,0x0c,0x20,\n    0x42,0xfc,0x20,0x97,0x0e,0xc9,0xb1,0x90,\n    0x14,0xc9,0xba,0xb0,0x10,0xe9,0xb0,0x20,\n    0x81,0x0c,0x8d,0x01,0x09,0x2c,0x00,0x09,\n    0x30,0xb1,0x4c,0xf6,0x0d,0x8d,0x02,0x09,\n    0xa0,0x06,0x2c,0x00,0x09,0x10,0x02,0xa0,\n    0xfd,0xc8,0xc8,0xc8,0xb9,0xf7,0x0a,0xf0,\n    0x0e,0xcd,0x02,0x09,0xd0,0xf3,0xb9,0xf9,\n    0x0a,0x48,0xb9,0xf8,0x0a,0x48,0x60,0x20,\n    0xe2,0xfb,0x4c,0x7d,0x0a,0xce,0x50,0x0b,\n    0xc3,0xf4,0x0b,0xd3,0x70,0x0b,0x8d,0x15,\n    0x0b,0x88,0x38,0x0b,0x8b,0x38,0x0b,0x8a,\n    0x48,0x0b,0x95,0x48,0x0b,0x9b,0x2a,0x0b,\n    0xd2,0x23,0x0b,0x00,0x2c,0x00,0x09,0x30,\n    0x03,0x4c,0xf6,0x0d,0x20,0xe8,0x0d,0x4c,\n    0x7a,0x0a,0x38,0x6e,0x00,0x09,0x4c,0x7d,\n    0x0a,0x2c,0x00,0x09,0x10,0x03,0x4c,0x00,\n    0x0a,0x20,0xd7,0x0d,0x4c,0x36,0x0e,0xad,\n    0x01,0x09,0x38,0xe9,0x18,0xc9,0xe0,0xb0,\n    0x03,0x8d,0x01,0x09,0x4c,0x7d,0x0a,0xad,\n    0x01,0x09,0x18,0x69,0x18,0x90,0xee,0xa0,\n    0x76,0x20,0x8e,0x0c,0xa2,0x10,0x20,0x4f,\n    0x0e,0xb0,0x11,0xa2,0x00,0xac,0x01,0x09,\n    0xbd,0x08,0x09,0x99,0x08,0x08,0xc8,0xe8,\n    0xe0,0x10,0x90,0xf4,0x4c,0x7d,0x0a,0x20,\n    0x43,0x0e,0xf0,0x74,0x98,0x18,0x69,0x18,\n    0xa8,0xc0,0xe0,0xb0,0x6b,0x20,0x46,0x0e,\n    0xf0,0x66,0xa0,0x7f,0x20,0x8e,0x0c,0xa2,\n    0x06,0x20,0x4f,0x0e,0x20,0xa1,0x0e,0x0e,\n    0x04,0x09,0x2e,0x05,0x09,0x0e,0x04,0x09,\n    0x2e,0x05,0x09,0x18,0xac,0x01,0x09,0xb9,\n    0x03,0x08,0x79,0x1b,0x08,0x8d,0x06,0x09,\n    0xb9,0x02,0x08,0x79,0x1a,0x08,0x8d,0x07,\n    0x09,0x38,0xad,0x06,0x09,0xed,0x04,0x09,\n    0x48,0xad,0x07,0x09,0xed,0x05,0x09,0x90,\n    0x23,0x99,0x1a,0x08,0x68,0x99,0x1b,0x08,\n    0x18,0xad,0x04,0x09,0x99,0x03,0x08,0x79,\n    0x01,0x08,0x99,0x19,0x08,0xad,0x05,0x09,\n    0x99,0x02,0x08,0x79,0x00,0x08,0x99,0x18,\n    0x08,0x4c,0x7d,0x0a,0x68,0xa0,0xd5,0x2c,\n    0xa0,0xc9,0x20,0x8e,0x0c,0x20,0x0c,0xfd,\n    0x4c,0x7d,0x0a,0x20,0x43,0x0e,0xd0,0x06,\n    0xae,0x01,0x09,0xfe,0x05,0x08,0x4c,0x7d,\n    0x0a,0x98,0x48,0x20,0x81,0x0c,0x48,0xa2,\n    0xff,0xcd,0x01,0x09,0xd0,0x02,0xa2,0x3f,\n    0x86,0x32,0x20,0x79,0x0c,0x98,0x18,0x69,\n    0xb1,0x20,0xed,0xfd,0x20,0x79,0x0c,0x68,\n    0x48,0xa8,0xa2,0x10,0xb9,0x08,0x08,0xd0,\n    0x02,0xa9,0xa0,0x20,0xed,0xfd,0xc8,0xca,\n    0xd0,0xf2,0x20,0x79,0x0c,0x68,0x48,0xa8,\n    0xb9,0x02,0x08,0x85,0x3f,0xb9,0x03,0x08,\n    0x85,0x3e,0x20,0x9b,0xcb,0xa9,0xff,0x85,\n    0x32,0x20,0x79,0x0c,0x68,0xa8,0xb9,0x05,\n    0x08,0x49,0x5a,0xd9,0x04,0x08,0xf0,0x02,\n    0xa9,0x01,0xa0,0x04,0xd9,0x6f,0x0c,0xf0,\n    0x03,0x88,0xd0,0xf8,0xb9,0x74,0x0c,0xa8,\n    0x20,0x8e,0x0c,0x68,0xa8,0x60,0x4c,0x00,\n    0x33,0xcd,0xdf,0xe9,0xf5,0xe4,0xef,0xa9,\n    0xa0,0x20,0xed,0xfd,0x4c,0xed,0xfd,0x8d,\n    0x02,0x09,0x0a,0x6d,0x02,0x09,0x0a,0x0a,\n    0x0a,0x69,0x08,0x60,0x18,0x20,0xac,0x0c,\n    0xbd,0xbe,0x0c,0xd0,0x09,0x20,0xac,0x0c,\n    0xbd,0xcd,0x0c,0xd0,0x01,0x60,0x08,0x30,\n    0x03,0x20,0x79,0x0c,0x20,0xed,0xfd,0x28,\n    0xd0,0xe3,0xb9,0xdd,0x0c,0xb0,0x07,0x4a,\n    0x4a,0x4a,0x4a,0xaa,0x38,0x60,0xc8,0x29,\n    0x0f,0xaa,0x18,0x60,0x00,0x8d,0x01,0xc7,\n    0xcc,0xc9,0xd4,0xc3,0xc8,0xa0,0xd2,0xc5,\n    0xc1,0xd3,0xcf,0xce,0x00,0xc6,0xd0,0xd5,\n    0xc4,0xcd,0xad,0xb1,0xb9,0xbd,0xc2,0xd1,\n    0xd7,0xda,0xd9,0x1a,0xc0,0x60,0x2c,0x76,\n    0xea,0x90,0x3c,0xa6,0x56,0x5e,0xfd,0x22,\n    0x29,0x9d,0x4e,0x69,0x0a,0x90,0x19,0x10,\n    0x4d,0xb9,0xca,0xae,0x0d,0xd9,0xea,0x90,\n    0x80,0x70,0x99,0x6e,0x9d,0xb4,0xb7,0x61,\n    0x10,0x19,0xf0,0xaf,0xc0,0x6b,0x97,0x8c,\n    0xf3,0xb2,0x29,0xab,0x60,0xa5,0xfd,0x6c,\n    0x44,0x97,0x8c,0xf3,0xbd,0x1d,0x0a,0xd5,\n    0x0e,0xb9,0x78,0xcf,0x3b,0x22,0x9b,0xd7,\n    0x0a,0x02,0xea,0x3b,0x69,0x78,0xcf,0x3b,\n    0xd1,0x70,0xa7,0x4b,0xca,0x90,0x3c,0xa6,\n    0x56,0x5e,0xf0,0x19,0xab,0x60,0xa0,0xbe,\n    0xe6,0x96,0x8b,0x90,0x3c,0xa6,0x56,0x5e,\n    0xf2,0x9a,0x0a,0xab,0x7e,0xf0,0x25,0x30,\n    0x4a,0xb1,0xbd,0x70,0xa0,0xc0,0x45,0x60,\n    0x19,0x11,0xfb,0x0d,0x9f,0xc0,0x6b,0x90,\n    0xa9,0x01,0x11,0xfb,0x0d,0x9d,0x50,0xeb,\n    0x90,0xa9,0x01,0x10,0xdc,0xaf,0x5f,0x30,\n    0x79,0x5f,0xd6,0xc4,0x45,0xf3,0x90,0x3c,\n    0xa6,0x56,0x5e,0xfd,0x90,0x5b,0xd6,0xae,\n    0x0f,0xd1,0x68,0xb9,0x05,0x5a,0xb7,0x6e,\n    0xa0,0xf0,0x79,0x3e,0x9c,0x8b,0xc0,0x50,\n    0x19,0x11,0x7c,0xff,0xe6,0x90,0xbe,0xe6,\n    0x96,0x8c,0x69,0x03,0xca,0x65,0x65,0xef,\n    0x10,0xbe,0xe6,0x90,0x2a,0xe0,0x69,0xd4,\n    0xe6,0x90,0xa9,0x01,0x11,0x7c,0xff,0xe6,\n    0x97,0x8c,0xf3,0xb9,0xd5,0x0e,0xb0,0x19,\n    0x11,0xd5,0x0e,0xb9,0x6e,0xe9,0x4c,0xa3,\n    0xb0,0x19,0x74,0xbc,0xa9,0x10,0x19,0x05,\n    0xed,0x99,0x91,0x01,0x03,0xae,0x05,0xed,\n    0x10,0x19,0x70,0x30,0x70,0x69,0x91,0x01,\n    0x03,0xcd,0x7c,0x41,0x01,0xad,0x01,0x09,\n    0x8d,0x02,0x08,0x49,0x5a,0x8d,0x03,0x08,\n    0x20,0xe8,0x0d,0x4c,0xdf,0xc9,0x20,0x8b,\n    0xca,0xa8,0xb9,0x00,0x08,0x9d,0xfb,0xbf,\n    0xc8,0xd0,0xf7,0x60,0x20,0xd7,0x0d,0x20,\n    0x43,0x0e,0xd0,0x0b,0xb9,0x02,0x08,0x19,\n    0x03,0x08,0xf0,0x03,0x20,0x27,0x0e,0xa0,\n    0xae,0x20,0x8e,0x0c,0xa2,0x01,0x20,0x4f,\n    0x0e,0xb0,0x21,0xad,0x08,0x09,0xc9,0xb1,\n    0x90,0xf2,0xc9,0xb8,0xb0,0xee,0x69,0x10,\n    0xa8,0xa9,0x00,0xf0,0x08,0xae,0x78,0x07,\n    0xac,0xf8,0x07,0xa9,0x7b,0x84,0x01,0x85,\n    0x00,0x6c,0x00,0x00,0xa2,0x02,0xa9,0x00,\n    0x9d,0x00,0x08,0xca,0x10,0xfa,0x6c,0xfc,\n    0xff,0xac,0x01,0x09,0xb9,0x04,0x08,0x59,\n    0x05,0x08,0xc9,0x5a,0x60,0x8e,0x03,0x09,\n    0xa9,0xa0,0x9d,0x08,0x09,0xca,0x10,0xfa,\n    0xe8,0x20,0x97,0x0e,0xc9,0x88,0xf0,0x22,\n    0xc9,0x8d,0xf0,0x1c,0xc9,0x9b,0xf0,0x19,\n    0xc9,0xa0,0xb0,0x06,0x20,0xe2,0xfb,0x4c,\n    0x5b,0x0e,0xec,0x03,0x09,0xb0,0xf5,0x9d,\n    0x08,0x09,0x20,0xed,0xfd,0xe8,0xd0,0xd9,\n    0x18,0x60,0x8a,0xf0,0xd4,0xca,0xc6,0x24,\n    0xa9,0xa0,0x9d,0x08,0x09,0x20,0xed,0xfd,\n    0xc6,0x24,0x4c,0x5b,0x0e,0x20,0x0c,0xfd,\n    0xc9,0xe0,0x90,0x02,0x29,0xdf,0x60,0xa9,\n    0x00,0xa8,0xaa,0x8d,0x04,0x09,0x8e,0x05,\n    0x09,0xa9,0x0a,0x8d,0x02,0x09,0xa2,0x00,\n    0xb9,0x08,0x09,0x49,0xb0,0xc9,0x0a,0x90,\n    0x01,0x60,0x6d,0x04,0x09,0x48,0x8a,0x6d,\n    0x05,0x09,0xaa,0x68,0xce,0x02,0x09,0xd0,\n    0xf1,0xc8,0xd0,0xd7,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { allocMem, debug } from '../util';\nimport { Card, Restorable, byte, memory } from '../types';\nimport { rom } from '../roms/cards/ramfactor';\n\nconst LOC = {\n    // Disk II Stuff\n    RAMLO: 0x80,\n    RAMMID: 0x81,\n    RAMHI: 0x82,\n    RAMDATA: 0x83,\n    _RAMLO: 0x84,\n    _RAMMID: 0x85,\n    _RAMHI: 0x86,\n    _RAMDATA: 0x87,\n    BANK: 0x8F\n} as const;\n\nexport class RAMFactorState {\n    loc: number;\n    firmware: byte;\n    mem: memory;\n}\n\nexport default class RAMFactor implements Card, Restorable<RAMFactorState> {\n    private mem: memory;\n\n    private firmware = 0;\n    private ramlo = 0;\n    private rammid = 0;\n    private ramhi = 0;\n\n    private loc = 0;\n\n    constructor(size: number) {\n        debug('RAMFactor card');\n\n        this.mem = allocMem(size);\n        for (let off = 0; off < size; off++) {\n            this.mem[off] = 0;\n        }\n    }\n\n    private sethi(val: byte) {\n        this.ramhi = (val & 0xff);\n    }\n\n    private setmid(val: byte) {\n        if (((this.rammid & 0x80) !== 0) && ((val & 0x80) === 0)) {\n            this.sethi(this.ramhi + 1);\n        }\n        this.rammid = (val & 0xff);\n    }\n\n    private setlo(val: byte) {\n        if (((this.ramlo & 0x80) !== 0) && ((val & 0x80) === 0)) {\n            this.setmid(this.rammid + 1);\n        }\n        this.ramlo = (val & 0xff);\n    }\n\n    private access(off: byte, val: byte) {\n        let result = 0;\n        switch (off & 0x8f) {\n            case LOC.RAMLO:\n            case LOC._RAMLO:\n                if (val !== undefined) {\n                    this.setlo(val);\n                } else {\n                    result = this.ramlo;\n                }\n                break;\n            case LOC.RAMMID:\n            case LOC._RAMMID:\n                if (val !== undefined) {\n                    this.setmid(val);\n                } else {\n                    result = this.rammid;\n                }\n                break;\n            case LOC.RAMHI:\n            case LOC._RAMHI:\n                if (val !== undefined) {\n                    this.sethi(val);\n                } else {\n                    result = this.ramhi;\n                    result |= 0xf0;\n                }\n                break;\n            case LOC.RAMDATA:\n            case LOC._RAMDATA:\n                if (val !== undefined) {\n                    this.mem[this.loc % this.mem.length] = val;\n                } else {\n                    result = this.mem[this.loc % this.mem.length];\n                }\n                this.setlo(this.ramlo + 1);\n                break;\n            case LOC.BANK:\n                if (val !== undefined) {\n                    this.firmware = val & 0x01;\n                } else {\n                    result = this.firmware;\n                }\n                break;\n            default:\n                break;\n        }\n        this.loc = (this.ramhi << 16) | (this.rammid << 8) | (this.ramlo);\n\n        /*\n        if (val === undefined) {\n            debug(\"Read: \" + toHex(result) + \" from \" + toHex(off) + \" (loc = \" + _loc + \")\");\n        } else {\n            debug(\"Wrote: \" + toHex(val) + \" to \" + toHex(off) + \" (loc = \" + _loc + \")\");\n        }\n        */\n\n        return result;\n    }\n\n    ioSwitch(off: byte, val: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte) {\n        return rom[this.firmware << 12 | (page - 0xC0) << 8 | off];\n    }\n\n    write() {}\n\n    reset() {\n        this.firmware = 0;\n    }\n\n    getState() {\n        return {\n            loc: this.loc,\n            firmware: this.firmware,\n            mem: new Uint8Array(this.mem)\n        };\n    }\n\n    setState(state: RAMFactorState) {\n        this.loc = state.loc;\n        this.firmware = state.firmware;\n        this.mem = new Uint8Array(state.mem);\n\n        this.ramhi = (this.loc >> 16) & 0xff;\n        this.rammid = (this.loc >> 8) & 0xff;\n        this.ramlo = (this.loc) & 0xff;\n    }\n}\n","import { ReadonlyUint8Array } from '../../types';\n\n/*\n    $Cn01=$20\n    $Cn03=$00\n    $Cn05=$03\n    $Cn07=$00 Smartport / $3C Disk controller\n*/\n\nexport const rom = new Uint8Array([\n    0xa2,0x20,0xa2,0x00,0xa2,0x03,0xa2,0x00, 0x20,0x58,0xff,0xba,0xbd,0x00,0x01,0x8d,\n    0xf8,0x07,0x0a,0x0a,0x0a,0x0a,0xa8,0xb9, 0x80,0xc0,0x4a,0xb0,0x11,0xa5,0x00,0xd0,\n    0x0a,0xa5,0x01,0xcd,0xf8,0x07,0xd0,0x03, 0x4c,0xba,0xfa,0x4c,0x00,0xe0,0xa2,0x01,\n    0x86,0x42,0xca,0x86,0x46,0x86,0x47,0x86, 0x44,0xa2,0x08,0x86,0x45,0xad,0xf8,0x07,\n    0x48,0x48,0xa9,0x47,0x48,0xb8,0x50,0x0b, 0x68,0x0a,0x0a,0x0a,0x0a,0xaa,0x4c,0x01,\n    0x08,0x00,0x00,0x60,0x00,0x00,0x60,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0xd7,0x53,\n]) as ReadonlyUint8Array;\n","import { Memory, MemberOf, MemoryPages, byte, word } from './types';\nimport { toHex } from './util';\n\nexport const FLAVOR_6502 = '6502';\nexport const FLAVOR_ROCKWELL_65C02 = 'rockwell65c02';\nexport const FLAVOR_WDC_65C02 = 'wdc65c02';\n\nexport const FLAVORS_65C02 = [\n    FLAVOR_ROCKWELL_65C02,\n    FLAVOR_WDC_65C02\n];\n\nexport const FLAVORS = [\n    FLAVOR_6502,\n    ...FLAVORS_65C02\n];\n\nexport type Flavor = MemberOf<typeof FLAVORS>;\n\nexport interface CpuOptions {\n    flavor?: Flavor\n}\n\nexport interface CpuState {\n    /** Accumulator */\n    a: byte,\n    /** X index */\n    x: byte,\n    /** Y index */\n    y: byte,\n    /** Status register */\n    s: byte,\n    /** Program counter */\n    pc: word,\n    /** Stack pointer */\n    sp: byte,\n    /** Elapsed cycles */\n    cycles: number\n}\n\nexport type Mode =\n    'accumulator' |        // A (Accumulator)\n    'implied' |            // Implied\n    'immediate' |          // # Immediate\n    'absolute' |           // a Absolute\n    'zeroPage' |           // zp Zero Page\n    'relative' |           // r Relative\n    'absoluteX' |          // a,X Absolute, X\n    'absoluteY' |          // a,Y Absolute, Y\n    'zeroPageX' |          // zp,X Zero Page, X\n    'zeroPageY' |          // zp,Y Zero Page, Y\n    'absoluteIndirect' |   // (a) Indirect\n    'zeroPageXIndirect' |  // (zp,X) Zero Page Indexed Indirect\n    'zeroPageIndirectY' |  // (zp),Y Zero Page Indexed with Y\n    'zeroPageIndirect' |   // (zp),\n    'absoluteXIndirect' |  // (a, X),\n    'zeroPage_relative';   // zp, Relative\n\nexport type Modes = Record<Mode, number>;\n\n/** Addressing mode name to instruction size mapping. */\nexport const sizes: Modes = {\n    accumulator: 1,\n    implied: 1,\n    immediate: 2,\n    absolute: 3,\n    zeroPage: 2,\n    relative: 2,\n\n    absoluteX: 3,\n    absoluteY: 3,\n    zeroPageX: 2,\n    zeroPageY: 2,\n\n    absoluteIndirect: 3,\n    zeroPageXIndirect: 2,\n    zeroPageIndirectY: 2,\n\n    /* 65c02 */\n    zeroPageIndirect: 2,\n    absoluteXIndirect: 3,\n    zeroPage_relative: 3\n};\n\n/** Status register flag numbers. */\nexport type flag = 0x80 | 0x40 | 0x20 | 0x10 | 0x08 | 0x04 | 0x02 | 0x01;\n\n/**\n *\n */\nexport type DebugInfo = {\n    /** Program counter */\n    pc: word,\n    /** Accumulator */\n    ar: byte,\n    /** X index */\n    xr: byte,\n    /** Y index */\n    yr: byte,\n    /** Status register */\n    sr: byte,\n    /** Stack pointer */\n    sp: byte,\n    /** Current command */\n    cmd: byte[],\n};\n\n/** Flags to status byte mask. */\nexport const flags: { [key: string]: flag } = {\n    N: 0x80, // Negative\n    V: 0x40, // oVerflow\n    X: 0x20, // Unused, always 1\n    B: 0x10, // Break\n    D: 0x08, // Decimal\n    I: 0x04, // Interrupt\n    Z: 0x02, // Zero\n    C: 0x01  // Carry\n};\n\n/** CPU-referenced memory locations. */\nconst loc = {\n    STACK: 0x100,\n    NMI: 0xFFFA,\n    RESET: 0xFFFC,\n    BRK: 0xFFFE\n};\n\ninterface ResettablePageHandler extends MemoryPages {\n    reset(): void;\n}\n\nfunction isResettablePageHandler(pageHandler: MemoryPages | ResettablePageHandler): pageHandler is ResettablePageHandler {\n    return (pageHandler as ResettablePageHandler).reset !== undefined;\n}\n\nconst BLANK_PAGE: Memory = {\n    read: function () { return 0; },\n    write: function () { }\n};\n\ninterface Opts {\n    inc?: boolean;\n}\n\ntype ReadFn = () => byte;\ntype WriteFn = (val: byte) => void;\ntype ReadAddrFn = (opts?: Opts) => word;\ntype ImpliedFn = () => void\n\ninterface Instruction<T = any> {\n    name: string\n    mode: Mode\n    op: (fn: T) => void\n    modeFn: T\n}\n\ntype StrictInstruction =\n    Instruction<ReadFn> |\n    Instruction<WriteFn> |\n    Instruction<ReadAddrFn> |\n    Instruction<ImpliedFn> |\n    Instruction<flag> |\n    Instruction<flag|0> |\n    Instruction<byte>\n\ntype Instructions = Record<byte, StrictInstruction>\n\ntype callback = (cpu: CPU6502) => boolean | void;\n\nexport default class CPU6502 {\n    /** flavor */\n    private readonly flavor: Flavor;\n    /** 65C02 emulation mode flag */\n    private readonly is65C02: boolean;\n\n    /**\n     * Registers\n     */\n\n    /** Program counter */\n    private pc: word = 0;\n    /** Status register */\n    private sr: byte = flags.X;\n    /** Accumulator */\n    private ar: byte = 0;\n    /** X index */\n    private xr: byte = 0;\n    /** Y index */\n    private yr: byte = 0;\n    /** Stack pointer */\n    private sp: byte = 0xff;\n\n    /** Current instruction */\n    private op: Instruction;\n    /** Last accessed memory address */\n    private addr: word = 0;\n\n    /** Filled array of memory handlers by address page */\n    private memPages: Memory[] = new Array(0x100);\n    /** Callbacks invoked on reset signal */\n    private resetHandlers: ResettablePageHandler[] = [];\n    /** Elapsed cycles */\n    private cycles = 0;\n    /** Command being fetched signal */\n    private sync = false;\n\n    /** Processor is in WAI mode */\n    private wait = false;\n    /** Processor is in STP mode */\n    private stop = false;\n\n    /** Filled array of CPU operations */\n    private readonly opary: Instruction[];\n\n    constructor({ flavor }: CpuOptions = {}) {\n        this.flavor = flavor ?? FLAVOR_6502;\n        this.is65C02 = !!flavor && FLAVORS_65C02.includes(flavor);\n\n        this.memPages.fill(BLANK_PAGE);\n        this.memPages.fill(BLANK_PAGE);\n\n        // Create this CPU's instruction table\n\n        let ops = { ...this.OPS_6502 };\n\n        switch (this.flavor) {\n            case FLAVOR_WDC_65C02:\n                ops = {\n                    ...ops,\n                    ...this.OPS_65C02,\n                    ...this.OPS_WDC_65C02,\n                };\n                break;\n            case FLAVOR_ROCKWELL_65C02:\n                ops = {\n                    ...ops,\n                    ...this.OPS_65C02,\n                    ...this.OPS_ROCKWELL_65C02,\n                };\n                break;\n            default:\n                ops = {\n                    ...ops,\n                    ...this.OPS_NMOS_6502,\n                };\n        }\n\n        // Certain browsers benefit from using arrays over maps\n        this.opary = new Array(0x100);\n\n        for (let idx = 0; idx < 0x100; idx++) {\n            this.opary[idx] = ops[idx] || this.unknown(idx);\n        }\n    }\n\n    /**\n     * Set or clears `f` in the status register. `f` must be a byte with a\n     * single bit set.\n     */\n    private setFlag(f: flag, on: boolean) {\n        this.sr = on ? (this.sr | f) : (this.sr & ~f);\n    }\n\n    /** Updates the status register's zero flag and negative flag. */\n    private testNZ(val: byte) {\n        this.sr = val === 0 ? (this.sr | flags.Z) : (this.sr & ~flags.Z);\n        this.sr = (val & 0x80) ? (this.sr | flags.N) : (this.sr & ~flags.N);\n\n        return val;\n    }\n\n    /** Updates the status register's zero flag. */\n    private testZ(val: byte) {\n        this.sr = val === 0 ? (this.sr | flags.Z) : (this.sr & ~flags.Z);\n\n        return val;\n    }\n\n    /**\n     * Returns `a + b`, unless `sub` is true, in which case it performs\n     * `a - b`. The status register is updated according to the result.\n     */\n    private add(a: byte, b: byte, sub: boolean): byte {\n        const a7 = a >> 7;\n        const b7 = b >> 7;\n        const ci = this.sr & flags.C;\n        let c;\n        let co;\n        let v;\n        let n;\n        let z;\n\n        const updateFlags = (c: byte) => {\n            const bin = c & 0xff;\n            n = bin >> 7;\n            co = c >> 8;\n            z = !((a + b + ci) & 0xff);\n            v = a7 ^ b7 ^ n ^ co;\n        };\n\n        const updateBCDFlags = (c: byte) => {\n            if (this.is65C02) {\n                const bin = c & 0xff;\n                n = bin >> 7;\n                z = !bin;\n                if (this.op.mode === 'immediate') {\n                    if (this.flavor === FLAVOR_WDC_65C02) {\n                        this.readByte(sub ? 0xB8 : 0x7F);\n                    } else { // rockwell65c02\n                        this.readByte(sub ? 0xB1 : 0x59);\n                    }\n                } else {\n                    this.readByte(this.addr);\n                }\n            }\n            if (!sub) {\n                co = c >> 8;\n            }\n        };\n\n        c = (a & 0x0f) + (b & 0x0f) + ci;\n        if ((this.sr & flags.D) !== 0) {\n            // BCD\n            if (sub) {\n                if (c < 0x10) {\n                    c = (c - 0x06) & 0x0f;\n                }\n                c += (a & 0xf0) + (b & 0xf0);\n                updateFlags(c);\n                if (c < 0x100) {\n                    c += 0xa0;\n                }\n            } else {\n                if (c > 0x9) {\n                    c = 0x10 + ((c + 0x6) & 0xf);\n                }\n                c += (a & 0xf0) + (b & 0xf0);\n                updateFlags(c);\n                if (c >= 0xa0) {\n                    c += 0x60;\n                }\n            }\n            updateBCDFlags(c);\n        } else {\n            c += (a & 0xf0) + (b & 0xf0);\n            updateFlags(c);\n        }\n        c = c & 0xff;\n\n        this.setFlag(flags.N, !!n);\n        this.setFlag(flags.V, !!v);\n        this.setFlag(flags.Z, !!z);\n        this.setFlag(flags.C, !!co);\n\n        return c;\n    }\n\n    /** Increments `a` and returns the value, setting the status register. */\n    private increment(a: byte) {\n        return this.testNZ((a + 0x01) & 0xff);\n    }\n\n    private decrement(a: byte) {\n        return this.testNZ((a + 0xff) & 0xff);\n    }\n\n    private readBytePC(): byte {\n        const result = this.readByte(this.pc);\n\n        this.pc = (this.pc + 1) & 0xffff;\n\n        return result;\n    }\n\n    private readByte(addr: word): byte {\n        this.addr = addr;\n        const page = addr >> 8,\n            off = addr & 0xff;\n\n        const result = this.memPages[page].read(page, off);\n\n        this.cycles++;\n\n        return result;\n    }\n\n    private writeByte(addr: word, val: byte) {\n        this.addr = addr;\n        const page = addr >> 8,\n            off = addr & 0xff;\n\n        this.memPages[page].write(page, off, val);\n\n        this.cycles++;\n    }\n\n    private readWord(addr: word): word {\n        return this.readByte(addr) | (this.readByte(addr + 1) << 8);\n    }\n\n    private readWordPC(): word {\n        return this.readBytePC() | (this.readBytePC() << 8);\n    }\n\n    private readZPWord(addr: byte): word {\n        const lsb = this.readByte(addr & 0xff);\n        const msb = this.readByte((addr + 1) & 0xff);\n\n        return (msb << 8) | lsb;\n    }\n\n    private pushByte(val: byte) {\n        this.writeByte(loc.STACK | this.sp, val);\n        this.sp = (this.sp + 0xff) & 0xff;\n    }\n\n    private pushWord(val: word) {\n        this.pushByte(val >> 8);\n        this.pushByte(val & 0xff);\n    }\n\n    private pullByte(): byte {\n        this.sp = (this.sp + 0x01) & 0xff;\n        return this.readByte(loc.STACK | this.sp);\n    }\n\n    private pullWordRaw(): word {\n        const lsb = this.pullByte();\n        const msb = this.pullByte();\n\n        return (msb << 8) | lsb;\n    }\n\n    // Helpers that replicate false reads and writes during work cycles that\n    // vary between CPU versions\n\n    private workCycle(addr: word, val: byte) {\n        if (this.is65C02) {\n            this.readByte(addr);\n        } else {\n            this.writeByte(addr, val);\n        }\n    }\n\n    private workCycleIndexedWrite(pc: word, addr: word, addrIdx: word): void {\n        const oldPage = addr & 0xff00;\n        if (this.is65C02) {\n            this.readByte(pc);\n        } else {\n            const off = addrIdx & 0xff;\n            this.readByte(oldPage | off);\n        }\n    }\n\n    private workCycleIndexedRead(pc: word, addr: word, addrIdx: word): void {\n        const oldPage = addr & 0xff00;\n        const newPage = addrIdx & 0xff00;\n        if (newPage !== oldPage) {\n            if (this.is65C02) {\n                this.readByte(pc);\n            } else {\n                const off = addrIdx & 0xff;\n                this.readByte(oldPage | off);\n            }\n        }\n    }\n\n    /*\n     * Implied function\n     */\n\n    implied = () => {\n        this.readByte(this.pc);\n    };\n\n    /*\n     * Read functions\n     */\n\n    // #$00\n    readImmediate = (): byte => {\n        return this.readBytePC();\n    };\n\n    // $0000\n    readAbsolute = (): byte => {\n        return this.readByte(this.readWordPC());\n    };\n\n    // $00\n    readZeroPage = (): byte => {\n        return this.readByte(this.readBytePC());\n    };\n\n    // $0000,X\n    readAbsoluteX = (): byte => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.xr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // $0000,Y\n    readAbsoluteY = (): byte => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // $00,X\n    readZeroPageX = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readByte((zpAddr + this.xr) & 0xff);\n    };\n\n    // $00,Y\n    readZeroPageY = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readByte((zpAddr + this.yr) & 0xff);\n    };\n\n    // ($00,X)\n    readZeroPageXIndirect = (): byte => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        const addr = this.readZPWord((zpAddr + this.xr) & 0xff);\n        return this.readByte(addr);\n    };\n\n    // ($00),Y\n    readZeroPageIndirectY = (): byte => {\n        const zpAddr = this.readBytePC();\n        const pc = this.addr;\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedRead(pc, addr, addrIdx);\n        return this.readByte(addrIdx);\n    };\n\n    // ($00) (65C02)\n    readZeroPageIndirect = (): byte => {\n        return this.readByte(this.readZPWord(this.readBytePC()));\n    };\n\n    /*\n     * Write Functions\n     */\n\n    // $0000\n    writeAbsolute = (val: byte) => {\n        this.writeByte(this.readWordPC(), val);\n    };\n\n    // $00\n    writeZeroPage = (val: byte) => {\n        this.writeByte(this.readBytePC(), val);\n    };\n\n    // $0000,X\n    writeAbsoluteX = (val: byte) => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.xr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // $0000,Y\n    writeAbsoluteY = (val: byte) => {\n        const addr = this.readWordPC();\n        const pc = this.addr;\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // $00,X\n    writeZeroPageX = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        this.writeByte((zpAddr + this.xr) & 0xff, val);\n    };\n\n    // $00,Y\n    writeZeroPageY = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        this.writeByte((zpAddr + this.yr) & 0xff, val);\n    };\n\n    // ($00,X)\n    writeZeroPageXIndirect = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        const addr = this.readZPWord((zpAddr + this.xr) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    // ($00),Y\n    writeZeroPageIndirectY = (val: byte) => {\n        const zpAddr = this.readBytePC();\n        const pc = this.addr;\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        this.workCycleIndexedWrite(pc, addr, addrIdx);\n        this.writeByte(addrIdx, val);\n    };\n\n    // ($00) (65C02)\n    writeZeroPageIndirect = (val: byte) => {\n        this.writeByte(this.readZPWord(this.readBytePC()), val);\n    };\n\n    // $00\n    readAddrZeroPage = () => {\n        return this.readBytePC();\n    };\n\n    // $00,X\n    readAddrZeroPageX = () => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return (zpAddr + this.xr) & 0xff;\n    };\n\n    // $0000 (65C02)\n    readAddrAbsolute = (): word => {\n        return this.readWordPC();\n    };\n\n    // ($0000) (6502)\n    readAddrAbsoluteIndirectBug = (): word => {\n        const addr = this.readWordPC();\n        const page = addr & 0xff00;\n        const off = addr & 0x00ff;\n        const lsb = this.readByte(addr);\n        const msb = this.readByte(page | ((off + 0x01) & 0xff));\n        return msb << 8 | lsb;\n    };\n\n    // ($0000) (65C02)\n    readAddrAbsoluteIndirect = (): word => {\n        const addr = this.readWord(this.readWordPC());\n        this.readByte(this.addr);\n        return addr;\n    };\n\n    // $0000,X\n    readAddrAbsoluteX = (opts?: Opts): word => {\n        let addr = this.readWordPC();\n        const page = addr & 0xff00;\n        addr = (addr + this.xr) & 0xffff;\n        if (this.is65C02) {\n            if (opts?.inc) {\n                this.readByte(this.addr);\n            } else {\n                const newPage = addr & 0xff00;\n                if (page !== newPage) {\n                    this.readByte(this.addr);\n                }\n            }\n        } else {\n            const off = addr & 0x00ff;\n            this.readByte(page | off);\n        }\n        return addr;\n    };\n\n    // $0000,Y (NMOS 6502)\n    readAddrAbsoluteY = (): word => {\n        let addr = this.readWordPC();\n        const page = addr & 0xff00;\n        addr = (addr + this.yr) & 0xffff;\n        const off = addr & 0x00ff;\n        this.readByte(page | off);\n        return addr;\n    };\n\n    // ($00,X) (NMOS 6502)\n    readAddrZeroPageXIndirect = () => {\n        const zpAddr = this.readBytePC();\n        this.readByte(zpAddr);\n        return this.readZPWord((zpAddr + this.xr) & 0xff);\n    };\n\n    // ($00),Y (NMOS 6502)\n    readAddrZeroPageIndirectY = () => {\n        const zpAddr = this.readBytePC();\n        const addr = this.readZPWord(zpAddr);\n        const addrIdx = (addr + this.yr) & 0xffff;\n        const oldPage = addr & 0xff00;\n        const off = addrIdx & 0xff;\n        this.readByte(oldPage | off);\n        return addrIdx;\n    };\n\n    // $(0000,X) (65C02)\n    readAddrAbsoluteXIndirect = (): word => {\n        const lsb = this.readBytePC();\n        const pc = this.addr;\n        const msb = this.readBytePC();\n        const addr = (((msb << 8) | lsb) + this.xr) & 0xffff;\n        this.readByte(pc);\n        return this.readWord(addr);\n    };\n\n    // 5C, DC, FC NOP (65C02)\n    readNop = (): void => {\n        this.readWordPC();\n        this.readByte(this.addr);\n    };\n\n    // NOP (65C02)\n    readNopImplied = (): void => {\n        // Op is 1 cycle\n    };\n\n    /* Break */\n    brk = (readFn: ReadFn) => {\n        readFn();\n        this.pushWord(this.pc);\n        this.pushByte(this.sr | flags.B);\n        if (this.is65C02) {\n            this.setFlag(flags.D, false);\n        }\n        this.setFlag(flags.I, true);\n        this.pc = this.readWord(loc.BRK);\n    };\n\n    /* Stop (65C02) */\n    stp = () => {\n        this.stop = true;\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n    };\n\n    /* Wait (65C02) */\n    wai = () => {\n        this.wait = true;\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n    };\n\n    /* Load Accumulator */\n    lda = (readFn: ReadFn) => {\n        this.ar = this.testNZ(readFn());\n    };\n\n    /* Load X Register */\n    ldx = (readFn: ReadFn) => {\n        this.xr = this.testNZ(readFn());\n    };\n\n    /* Load Y Register */\n    ldy = (readFn: ReadFn) => {\n        this.yr = this.testNZ(readFn());\n    };\n\n    /* Store Accumulator */\n    sta = (writeFn: WriteFn) => {\n        writeFn(this.ar);\n    };\n\n    /* Store X Register */\n    stx = (writeFn: WriteFn) => {\n        writeFn(this.xr);\n    };\n\n    /* Store Y Register */\n    sty = (writeFn: WriteFn) => {\n        writeFn(this.yr);\n    };\n\n    /* Store Zero */\n    stz = (writeFn: WriteFn) => {\n        writeFn(0);\n    };\n\n    /* Add with Carry */\n    adc = (readFn: ReadFn) => {\n        this.ar = this.add(this.ar, readFn(), /* sub= */ false);\n    };\n\n    /* Subtract with Carry */\n    sbc = (readFn: ReadFn) => {\n        this.ar = this.add(this.ar, readFn() ^ 0xff, /* sub= */ true);\n    };\n\n    /* Increment Memory */\n    incA = () => {\n        this.readByte(this.pc);\n        this.ar = this.increment(this.ar);\n    };\n\n    inc = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true });\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.increment(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Increment X */\n    inx = () => {\n        this.readByte(this.pc);\n        this.xr = this.increment(this.xr);\n    };\n\n    /* Increment Y */\n    iny = () => {\n        this.readByte(this.pc);\n        this.yr = this.increment(this.yr);\n    };\n\n    /* Decrement Memory */\n    decA = () => {\n        this.readByte(this.pc);\n        this.ar = this.decrement(this.ar);\n    };\n\n    dec = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.decrement(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Decrement X */\n    dex = () => {\n        this.readByte(this.pc);\n        this.xr = this.decrement(this.xr);\n    };\n\n    /* Decrement Y */\n    dey = () => {\n        this.readByte(this.pc);\n        this.yr = this.decrement(this.yr);\n    };\n\n    shiftLeft = (val: byte) => {\n        this.setFlag(flags.C, !!(val & 0x80));\n        return this.testNZ((val << 1) & 0xff);\n    };\n\n    /* Arithmetic Shift Left */\n    aslA = () => {\n        this.readByte(this.pc);\n        this.ar = this.shiftLeft(this.ar);\n    };\n\n    asl = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftLeft(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    shiftRight = (val: byte) => {\n        this.setFlag(flags.C, !!(val & 0x01));\n        return this.testNZ(val >> 1);\n    };\n\n    /* Logical Shift Right */\n    lsrA = () => {\n        this.readByte(this.pc);\n        this.ar = this.shiftRight(this.ar);\n    };\n\n    lsr = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftRight(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    rotateLeft = (val: byte) => {\n        const c = (this.sr & flags.C);\n        this.setFlag(flags.C, !!(val & 0x80));\n        return this.testNZ(((val << 1) | (c ? 0x01 : 0x00)) & 0xff);\n    };\n\n    /* Rotate Left */\n    rolA = () => {\n        this.readByte(this.pc);\n        this.ar = this.rotateLeft(this.ar);\n    };\n\n    rol = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateLeft(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    private rotateRight(a: byte) {\n        const c = (this.sr & flags.C);\n        this.setFlag(flags.C, !!(a & 0x01));\n        return this.testNZ((a >> 1) | (c ? 0x80 : 0x00));\n    }\n\n    /* Rotate Right */\n    rorA = () => {\n        this.readByte(this.pc);\n        this.ar = this.rotateRight(this.ar);\n    };\n\n    ror = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateRight(oldVal);\n        this.writeByte(addr, val);\n    };\n\n    /* Logical And Accumulator */\n    and = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar & readFn());\n    };\n\n    /* Logical Or Accumulator */\n    ora = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar | readFn());\n    };\n\n    /* Logical Exclusive Or Accumulator */\n    eor = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar ^ readFn());\n    };\n\n    /* Reset Bit */\n\n    rmb = (b: byte) => {\n        const bit = (0x1 << b) ^ 0xFF;\n        const addr = this.readBytePC();\n        let val = this.readByte(addr);\n        this.readByte(addr);\n        val &= bit;\n        this.writeByte(addr, val);\n    };\n\n    /* Set Bit */\n\n    smb = (b: byte) => {\n        const bit = 0x1 << b;\n        const addr = this.readBytePC();\n        let val = this.readByte(addr);\n        this.readByte(addr);\n        val |= bit;\n        this.writeByte(addr, val);\n    };\n\n    /* Test and Reset Bits */\n    trb = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const val = this.readByte(addr);\n        this.testZ(val & this.ar);\n        this.readByte(addr);\n        this.writeByte(addr, val & ~this.ar);\n    };\n\n    /* Test and Set Bits */\n    tsb = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const val = this.readByte(addr);\n        this.testZ(val & this.ar);\n        this.readByte(addr);\n        this.writeByte(addr, val | this.ar);\n    };\n\n    /* Bit */\n    bit = (readFn: ReadFn) => {\n        const val = readFn();\n        this.setFlag(flags.Z, (val & this.ar) === 0);\n        this.setFlag(flags.N, !!(val & 0x80));\n        this.setFlag(flags.V, !!(val & 0x40));\n    };\n\n    /* Bit Immediate*/\n    bitI = (readFn: ReadFn) => {\n        const val = readFn();\n        this.setFlag(flags.Z, (val & this.ar) === 0);\n    };\n\n    private compare(a: byte, b: byte) {\n        b = (b ^ 0xff);\n        const c = a + b + 1;\n        this.setFlag(flags.C, c > 0xff);\n        this.testNZ(c & 0xff);\n    }\n\n    cmp = (readFn: ReadFn) => {\n        this.compare(this.ar, readFn());\n    };\n\n    cpx = (readFn: ReadFn) => {\n        this.compare(this.xr, readFn());\n    };\n\n    cpy = (readFn: ReadFn) => {\n        this.compare(this.yr, readFn());\n    };\n\n    /* Branches */\n    brs = (f: flag) => {\n        const off = this.readBytePC(); // changes pc\n        if ((f & this.sr) !== 0) {\n            this.readByte(this.pc);\n            const oldPage = this.pc & 0xff00;\n            this.pc += off > 127 ? off - 256 : off;\n            this.pc &= 0xffff;\n            const newPage = this.pc & 0xff00;\n            const newOff = this.pc & 0xff;\n            if (newPage !== oldPage) this.readByte(oldPage | newOff);\n        }\n    };\n\n    brc = (f: flag|0) => {\n        const off = this.readBytePC(); // changes pc\n        if ((f & this.sr) === 0) {\n            this.readByte(this.pc);\n            const oldPage = this.pc & 0xff00;\n            this.pc += off > 127 ? off - 256 : off;\n            this.pc &= 0xffff;\n            const newPage = this.pc & 0xff00;\n            const newOff = this.pc & 0xff;\n            if (newPage !== oldPage) this.readByte(oldPage | newOff);\n        }\n    };\n\n    /* WDC 65C02 branches */\n\n    bbr = (b: byte) => {\n        const zpAddr = this.readBytePC();\n        const val = this.readByte(zpAddr);\n        this.writeByte(zpAddr, val);\n        const off = this.readBytePC(); // changes pc\n        const oldPc = this.pc;\n        const oldPage = oldPc & 0xff00;\n\n        let newPC = this.pc + (off > 127 ? off - 256 : off);\n        newPC &= 0xffff;\n        const newOff = newPC & 0xff;\n        this.readByte(oldPage | newOff);\n        if (((1 << b) & val) === 0) {\n            this.pc = newPC;\n        }\n    };\n\n    bbs = (b: byte) => {\n        const zpAddr = this.readBytePC();\n        const val = this.readByte(zpAddr);\n        this.writeByte(zpAddr, val);\n        const off = this.readBytePC(); // changes pc\n        const oldPc = this.pc;\n        const oldPage = oldPc & 0xff00;\n\n        let newPC = this.pc + (off > 127 ? off - 256 : off);\n        newPC &= 0xffff;\n        const newOff = newPC & 0xff;\n        this.readByte(oldPage | newOff);\n        if (((1 << b) & val) !== 0) {\n            this.pc = newPC;\n        }\n    };\n\n    /* Transfers and stack */\n    tax = () => { this.readByte(this.pc); this.testNZ(this.xr = this.ar); };\n\n    txa = () => { this.readByte(this.pc); this.testNZ(this.ar = this.xr); };\n\n    tay = () => { this.readByte(this.pc); this.testNZ(this.yr = this.ar); };\n\n    tya = () => { this.readByte(this.pc); this.testNZ(this.ar = this.yr); };\n\n    tsx = () => { this.readByte(this.pc); this.testNZ(this.xr = this.sp); };\n\n    txs = () => { this.readByte(this.pc); this.sp = this.xr; };\n\n    pha = () => { this.readByte(this.pc); this.pushByte(this.ar); };\n\n    pla = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.ar = this.pullByte()); };\n\n    phx = () => { this.readByte(this.pc); this.pushByte(this.xr); };\n\n    plx = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.xr = this.pullByte()); };\n\n    phy = () => { this.readByte(this.pc); this.pushByte(this.yr); };\n\n    ply = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.testNZ(this.yr = this.pullByte()); };\n\n    php = () => { this.readByte(this.pc); this.pushByte(this.sr | flags.B); };\n\n    plp = () => { this.readByte(this.pc); this.readByte(0x0100 | this.sp); this.sr = (this.pullByte() & ~flags.B) | flags.X; };\n\n    /* Jump */\n    jmp = (readAddrFn: ReadAddrFn) => {\n        this.pc = readAddrFn();\n    };\n\n    /* Jump Subroutine */\n    jsr = () => {\n        const lsb = this.readBytePC();\n        this.readByte(0x0100 | this.sp);\n        this.pushWord(this.pc);\n        const msb = this.readBytePC();\n        this.pc = (msb << 8 | lsb) & 0xffff;\n    };\n\n    /* Return from Subroutine */\n    rts = () => {\n        this.readByte(this.pc);\n        this.readByte(0x0100 | this.sp);\n        const addr = this.pullWordRaw();\n        this.readByte(addr);\n        this.pc = (addr + 1) & 0xffff;\n    };\n\n    /* Return from Interrupt */\n    rti = () => {\n        this.readByte(this.pc);\n        this.readByte(0x0100 | this.sp);\n        this.sr = (this.pullByte() & ~flags.B) | flags.X;\n        this.pc = this.pullWordRaw();\n    };\n\n    /* Set and Clear */\n    set = (flag: flag) => {\n        this.readByte(this.pc);\n        this.sr |= flag;\n    };\n\n    clr = (flag: flag) => {\n        this.readByte(this.pc);\n        this.sr &= ~flag;\n    };\n\n    /* No-Op */\n    nop = (readFn: ImpliedFn | ReadFn) => {\n        readFn();\n    };\n\n    /* NMOS 6502 Illegal opcodes */\n\n    /* ASO = ASL + ORA */\n    aso = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftLeft(oldVal);\n        this.writeByte(addr, val);\n        this.ar |= val;\n        this.testNZ(this.ar);\n    };\n\n    /* RLA = ROL + AND */\n    rla = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateLeft(oldVal);\n        this.writeByte(addr, val);\n        this.ar &= val;\n        this.testNZ(this.ar);\n    };\n\n    /* LSE = LSR + EOR */\n    lse = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.shiftRight(oldVal);\n        this.writeByte(addr, val);\n        this.ar ^= val;\n        this.testNZ(this.ar);\n    };\n\n    /* RRA = ROR + ADC */\n    rra = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.rotateRight(oldVal);\n        this.writeByte(addr, val);\n        this.ar = this.add(this.ar, val, false);\n    };\n\n    /* AXS = Store A & X */\n    axs = (writeFn: WriteFn) => {\n        writeFn(this.ar & this.xr);\n    };\n\n    /* LAX = Load A & X */\n    lax = (readFn: ReadFn) => {\n        const val = readFn();\n        this.ar = val;\n        this.xr = val;\n        this.testNZ(val);\n    };\n\n    /* DCM = DEC + CMP */\n    dcm = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.decrement(oldVal);\n        this.writeByte(addr, val);\n        this.compare(this.ar, val);\n    };\n\n    /* INS = INC + SBC */\n    ins = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn({ inc: true});\n        const oldVal = this.readByte(addr);\n        this.workCycle(addr, oldVal);\n        const val = this.increment(oldVal);\n        this.writeByte(addr, val);\n        this.ar = this.add(this.ar, val ^ 0xff, true);\n    };\n\n    /* ALR = AND + LSR */\n    alr = (readFn: ReadFn) => {\n        const val = readFn() & this.ar;\n        this.ar = this.shiftRight(val);\n    };\n\n    /* ARR = AND + ROR */\n    arr = (readFn: ReadFn) => {\n        const val = readFn() & this.ar;\n        const ah = val >> 4;\n        const al = val & 0xf;\n        const b7 = val >> 7;\n        const b6 = (val >> 6) & 0x1;\n        this.ar = this.rotateRight(val);\n        let c = !!b7;\n        const v = !!(b7 ^ b6);\n        if (this.sr & flags.D) {\n            if (al + (al & 0x1) > 0x5) {\n                this.ar = (this.ar & 0xf0) | ((this.ar + 0x6) & 0xf);\n            }\n            if (ah + (ah & 0x1) > 5) {\n                c = true;\n                this.ar =((this.ar + 0x60) & 0xff);\n            }\n        }\n        this.setFlag(flags.V, v);\n        this.setFlag(flags.C, c);\n    };\n\n    /* XAA = TAX + AND */\n    xaa = (readFn: ReadFn) => {\n        const val = readFn();\n        this.ar = (this.xr & 0xEE) | (this.xr & this.ar & 0x11);\n        this.ar = this.testNZ(this.ar & val);\n    };\n\n    /** OAL = ORA + AND */\n    oal = (readFn: ReadFn) => {\n        this.ar |= 0xEE;\n        const val = this.testNZ(this.ar & readFn());\n        this.ar = val;\n        this.xr = val;\n    };\n\n    /* SAX = A & X + SBC */\n    sax = (readFn: ReadFn) => {\n        const a = this.xr & this.ar;\n        let b = readFn();\n        b = (b ^ 0xff);\n        const c = a + b + 1;\n        this.setFlag(flags.C, c > 0xff);\n        this.xr = this.testNZ(c & 0xff);\n    };\n\n    /* TAS = X & Y -> S */\n    tas = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        let val = this.xr & this.ar;\n        this.sp = val;\n        const msb = addr >> 8;\n        val = val & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* SAY = Y & AH + 1 */\n    say = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const msb = addr >> 8;\n        const val = this.yr & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* XAS = X & AH + 1 */\n    xas = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        const msb = addr >> 8;\n        const val = this.xr & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* AXA = X & AH + 1 */\n    axa = (readAddrFn: ReadAddrFn) => {\n        const addr = readAddrFn();\n        let val = this.xr & this.ar;\n        const msb = addr >> 8;\n        val = val & ((msb + 1) & 0xff);\n        this.writeByte(addr, val);\n    };\n\n    /* ANC = AND with carry */\n    anc = (readFn: ReadFn) => {\n        this.ar = this.testNZ(this.ar & readFn());\n        const c = !!(this.ar & 0x80);\n        this.setFlag(flags.C, c);\n    };\n\n    /* LAS = RD & SP -> A, X, S */\n    las = (readFn: ReadFn) => {\n        const val = this.sp & readFn();\n        this.sp = val;\n        this.xr = val;\n        this.ar = this.testNZ(val);\n    };\n\n    /* SKB/SKW */\n    skp = (readFn: ReadFn) => {\n        readFn();\n    };\n\n    /* HLT */\n    hlt = (_impliedFn: ImpliedFn) => {\n        this.readByte(this.pc);\n        this.readByte(this.pc);\n        // PC shouldn't have advanced\n        this.pc = (--this.pc) & 0xffff;\n        this.stop = true;\n    };\n\n    private unknown(b: byte) {\n        let unk: StrictInstruction;\n        if (this.is65C02) {\n            // Default behavior is a 1 cycle NOP\n            unk = {\n                name: 'NOP',\n                op: this.nop,\n                modeFn: this.readNopImplied,\n                mode: 'implied',\n            };\n        } else {\n            // All 6502 Instructions should be defined\n            throw new Error(`Missing ${toHex(b)}`);\n        }\n        return unk;\n    }\n\n    public step(cb?: callback) {\n        this.sync = true;\n        this.op = this.opary[this.readBytePC()];\n        this.sync = false;\n        this.op.op(this.op.modeFn);\n\n        cb?.(this);\n    }\n\n    public stepN(n: number, cb?: callback) {\n        for (let idx = 0; idx < n; idx++) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n\n            if (cb?.(this)) {\n                return;\n            }\n        }\n    }\n\n    public stepCycles(c: number) {\n        const end = this.cycles + c;\n\n        while (this.cycles < end) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n        }\n    }\n\n    public stepCyclesDebug(c: number, cb?: callback): void {\n        const end = this.cycles + c;\n\n        while (this.cycles < end) {\n            this.sync = true;\n            this.op = this.opary[this.readBytePC()];\n            this.sync = false;\n            this.op.op(this.op.modeFn);\n\n            if (cb?.(this)) {\n                return;\n            }\n        }\n    }\n\n    public addPageHandler(pho: (MemoryPages | ResettablePageHandler)) {\n        for (let idx = pho.start(); idx <= pho.end(); idx++) {\n            this.memPages[idx] = pho;\n        }\n        if (isResettablePageHandler(pho))\n            this.resetHandlers.push(pho);\n    }\n\n    public reset() {\n        // cycles = 0;\n        this.sr = flags.X;\n        this.sp = 0xff;\n        this.ar = 0;\n        this.yr = 0;\n        this.xr = 0;\n        this.pc = this.readWord(loc.RESET);\n        this.wait = false;\n        this.stop = false;\n\n        for (let idx = 0; idx < this.resetHandlers.length; idx++) {\n            this.resetHandlers[idx].reset();\n        }\n    }\n\n    /* IRQ - Interrupt Request */\n    public irq() {\n        if ((this.sr & flags.I) === 0) {\n            this.pushWord(this.pc);\n            this.pushByte(this.sr & ~flags.B);\n            if (this.is65C02) {\n                this.setFlag(flags.D, false);\n            }\n            this.setFlag(flags.I, true);\n            this.pc = this.readWord(loc.BRK);\n            this.wait = false;\n        }\n    }\n\n    /* NMI Non-maskable Interrupt */\n    public nmi() {\n        this.pushWord(this.pc);\n        this.pushByte(this.sr & ~flags.B);\n        if (this.is65C02) {\n            this.setFlag(flags.D, false);\n        }\n        this.setFlag(flags.I, true);\n        this.pc = this.readWord(loc.NMI);\n        this.wait = false;\n    }\n\n    public getPC() {\n        return this.pc;\n    }\n\n    public setPC(pc: word) {\n        this.pc = pc;\n    }\n\n    public getDebugInfo(): DebugInfo {\n        const b = this.read(this.pc);\n        const op = this.opary[b];\n        const size = sizes[op.mode];\n        const cmd = new Array(size);\n        cmd[0] = b;\n        for (let idx = 1; idx < size; idx++) {\n            cmd[idx] = this.read(this.pc + idx);\n        }\n\n        return {\n            pc: this.pc,\n            ar: this.ar,\n            xr: this.xr,\n            yr: this.yr,\n            sr: this.sr,\n            sp: this.sp,\n            cmd\n        };\n    }\n    public getSync() {\n        return this.sync;\n    }\n\n    public getStop() {\n        return this.stop;\n    }\n\n    public getWait() {\n        return this.wait;\n    }\n\n    public getCycles() {\n        return this.cycles;\n    }\n\n    public getOpInfo(opcode: byte) {\n        return this.opary[opcode];\n    }\n\n    public getState(): CpuState {\n        return {\n            a: this.ar,\n            x: this.xr,\n            y: this.yr,\n            s: this.sr,\n            pc: this.pc,\n            sp: this.sp,\n            cycles: this.cycles\n        };\n    }\n\n    public setState(state: CpuState) {\n        this.ar = state.a;\n        this.xr = state.x;\n        this.yr = state.y;\n        this.sr = state.s;\n        this.pc = state.pc;\n        this.sp = state.sp;\n        this.cycles = state.cycles;\n    }\n\n    public read(addr: word): byte;\n    public read(page: byte, off: byte): byte;\n\n    public read(a: number, b?: number): byte {\n        let page, off;\n        if (b !== undefined) {\n            page = a;\n            off = b;\n        } else {\n            page = a >> 8;\n            off = a & 0xff;\n        }\n        return this.memPages[page].read(page, off);\n    }\n\n    public write(addr: word, val: byte): void;\n    public write(page: byte, off: byte, val: byte): void;\n\n    public write(a: number, b: number, c?: byte): void {\n        let page, off, val;\n\n        if (c !== undefined ) {\n            page = a;\n            off = b;\n            val = c;\n        } else {\n            page = a >> 8;\n            off = a & 0xff;\n            val = b;\n        }\n        this.memPages[page].write(page, off, val);\n    }\n\n    OPS_6502: Instructions = {\n        // LDA\n        0xa9: { name: 'LDA', op: this.lda, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa5: { name: 'LDA', op: this.lda, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb5: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xad: { name: 'LDA', op: this.lda, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbd: { name: 'LDA', op: this.lda, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xb9: { name: 'LDA', op: this.lda, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xa1: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xb1: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // LDX\n        0xa2: { name: 'LDX', op: this.ldx, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa6: { name: 'LDX', op: this.ldx, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb6: { name: 'LDX', op: this.ldx, modeFn: this.readZeroPageY, mode: 'zeroPageY' },\n        0xae: { name: 'LDX', op: this.ldx, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbe: { name: 'LDX', op: this.ldx, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n\n        // LDY\n        0xa0: { name: 'LDY', op: this.ldy, modeFn: this.readImmediate, mode: 'immediate' },\n        0xa4: { name: 'LDY', op: this.ldy, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xb4: { name: 'LDY', op: this.ldy, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xac: { name: 'LDY', op: this.ldy, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xbc: { name: 'LDY', op: this.ldy, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n\n        // STA\n        0x85: { name: 'STA', op: this.sta, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x95: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x8d: { name: 'STA', op: this.sta, modeFn: this.writeAbsolute, mode: 'absolute' },\n        0x9d: { name: 'STA', op: this.sta, modeFn: this.writeAbsoluteX, mode: 'absoluteX' },\n        0x99: { name: 'STA', op: this.sta, modeFn: this.writeAbsoluteY, mode: 'absoluteY' },\n        0x81: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x91: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // STX\n        0x86: { name: 'STX', op: this.stx, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x96: { name: 'STX', op: this.stx, modeFn: this.writeZeroPageY, mode: 'zeroPageY' },\n        0x8e: { name: 'STX', op: this.stx, modeFn: this.writeAbsolute, mode: 'absolute' },\n\n        // STY\n        0x84: { name: 'STY', op: this.sty, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x94: { name: 'STY', op: this.sty, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x8c: { name: 'STY', op: this.sty, modeFn: this.writeAbsolute, mode: 'absolute' },\n\n        // ADC\n        0x69: { name: 'ADC', op: this.adc, modeFn: this.readImmediate, mode: 'immediate' },\n        0x65: { name: 'ADC', op: this.adc, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x75: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x6D: { name: 'ADC', op: this.adc, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x7D: { name: 'ADC', op: this.adc, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x79: { name: 'ADC', op: this.adc, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x61: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x71: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // SBC\n        0xe9: { name: 'SBC', op: this.sbc, modeFn: this.readImmediate, mode: 'immediate' },\n        0xe5: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xf5: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xeD: { name: 'SBC', op: this.sbc, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xfD: { name: 'SBC', op: this.sbc, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xf9: { name: 'SBC', op: this.sbc, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xe1: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xf1: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // INC\n        0xe6: { name: 'INC', op: this.inc, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xf6: { name: 'INC', op: this.inc, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xee: { name: 'INC', op: this.inc, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xfe: { name: 'INC', op: this.inc, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // INX\n        0xe8: { name: 'INX', op: this.inx, modeFn: this.implied, mode: 'implied' },\n\n        // INY\n        0xc8: { name: 'INY', op: this.iny, modeFn: this.implied, mode: 'implied' },\n\n        // DEC\n        0xc6: { name: 'DEC', op: this.dec, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xd6: { name: 'DEC', op: this.dec, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xce: { name: 'DEC', op: this.dec, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xde: { name: 'DEC', op: this.dec, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // DEX\n        0xca: { name: 'DEX', op: this.dex, modeFn: this.implied, mode: 'implied' },\n\n        // DEY\n        0x88: { name: 'DEY', op: this.dey, modeFn: this.implied, mode: 'implied' },\n\n        // ASL\n        0x0A: { name: 'ASL', op: this.aslA, modeFn: this.implied, mode: 'accumulator' },\n        0x06: { name: 'ASL', op: this.asl, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x16: { name: 'ASL', op: this.asl, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x0E: { name: 'ASL', op: this.asl, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1E: { name: 'ASL', op: this.asl, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // LSR\n        0x4A: { name: 'LSR', op: this.lsrA, modeFn: this.implied, mode: 'accumulator' },\n        0x46: { name: 'LSR', op: this.lsr, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x56: { name: 'LSR', op: this.lsr, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x4E: { name: 'LSR', op: this.lsr, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x5E: { name: 'LSR', op: this.lsr, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // ROL\n        0x2A: { name: 'ROL', op: this.rolA, modeFn: this.implied, mode: 'accumulator' },\n        0x26: { name: 'ROL', op: this.rol, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x36: { name: 'ROL', op: this.rol, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x2E: { name: 'ROL', op: this.rol, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x3E: { name: 'ROL', op: this.rol, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // ROR\n        0x6A: { name: 'ROR', op: this.rorA, modeFn: this.implied, mode: 'accumulator' },\n        0x66: { name: 'ROR', op: this.ror, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x76: { name: 'ROR', op: this.ror, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x6E: { name: 'ROR', op: this.ror, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x7E: { name: 'ROR', op: this.ror, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // AND\n        0x29: { name: 'AND', op: this.and, modeFn: this.readImmediate, mode: 'immediate' },\n        0x25: { name: 'AND', op: this.and, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x35: { name: 'AND', op: this.and, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x2D: { name: 'AND', op: this.and, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x3D: { name: 'AND', op: this.and, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x39: { name: 'AND', op: this.and, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x21: { name: 'AND', op: this.and, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x31: { name: 'AND', op: this.and, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // ORA\n        0x09: { name: 'ORA', op: this.ora, modeFn: this.readImmediate, mode: 'immediate' },\n        0x05: { name: 'ORA', op: this.ora, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x15: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x0D: { name: 'ORA', op: this.ora, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x1D: { name: 'ORA', op: this.ora, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x19: { name: 'ORA', op: this.ora, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x01: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x11: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // EOR\n        0x49: { name: 'EOR', op: this.eor, modeFn: this.readImmediate, mode: 'immediate' },\n        0x45: { name: 'EOR', op: this.eor, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x55: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x4D: { name: 'EOR', op: this.eor, modeFn: this.readAbsolute, mode: 'absolute' },\n        0x5D: { name: 'EOR', op: this.eor, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x59: { name: 'EOR', op: this.eor, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0x41: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x51: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // CMP\n        0xc9: { name: 'CMP', op: this.cmp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xc5: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xd5: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xcD: { name: 'CMP', op: this.cmp, modeFn: this.readAbsolute, mode: 'absolute' },\n        0xdD: { name: 'CMP', op: this.cmp, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0xd9: { name: 'CMP', op: this.cmp, modeFn: this.readAbsoluteY, mode: 'absoluteY' },\n        0xc1: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xd1: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // CPX\n        0xE0: { name: 'CPX', op: this.cpx, modeFn: this.readImmediate, mode: 'immediate' },\n        0xE4: { name: 'CPX', op: this.cpx, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xEC: { name: 'CPX', op: this.cpx, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // CPY\n        0xC0: { name: 'CPY', op: this.cpy, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC4: { name: 'CPY', op: this.cpy, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0xCC: { name: 'CPY', op: this.cpy, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // BIT\n        0x24: { name: 'BIT', op: this.bit, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x2C: { name: 'BIT', op: this.bit, modeFn: this.readAbsolute, mode: 'absolute' },\n\n        // BCC\n        0x90: { name: 'BCC', op: this.brc, modeFn: flags.C, mode: 'relative' },\n\n        // BCS\n        0xB0: { name: 'BCS', op: this.brs, modeFn: flags.C, mode: 'relative' },\n\n        // BEQ\n        0xF0: { name: 'BEQ', op: this.brs, modeFn: flags.Z, mode: 'relative' },\n\n        // BMI\n        0x30: { name: 'BMI', op: this.brs, modeFn: flags.N, mode: 'relative' },\n\n        // BNE\n        0xD0: { name: 'BNE', op: this.brc, modeFn: flags.Z, mode: 'relative' },\n\n        // BPL\n        0x10: { name: 'BPL', op: this.brc, modeFn: flags.N, mode: 'relative' },\n\n        // BVC\n        0x50: { name: 'BVC', op: this.brc, modeFn: flags.V, mode: 'relative' },\n\n        // BVS\n        0x70: { name: 'BVS', op: this.brs, modeFn: flags.V, mode: 'relative' },\n\n        // TAX\n        0xAA: { name: 'TAX', op: this.tax, modeFn: this.implied, mode: 'implied' },\n\n        // TXA\n        0x8A: { name: 'TXA', op: this.txa, modeFn: this.implied, mode: 'implied' },\n\n        // TAY\n        0xA8: { name: 'TAY', op: this.tay, modeFn: this.implied, mode: 'implied' },\n\n        // TYA\n        0x98: { name: 'TYA', op: this.tya, modeFn: this.implied, mode: 'implied' },\n\n        // TSX\n        0xBA: { name: 'TSX', op: this.tsx, modeFn: this.implied, mode: 'implied' },\n\n        // TXS\n        0x9A: { name: 'TXS', op: this.txs, modeFn: this.implied, mode: 'implied' },\n\n        // PHA\n        0x48: { name: 'PHA', op: this.pha, modeFn: this.implied, mode: 'implied' },\n\n        // PLA\n        0x68: { name: 'PLA', op: this.pla, modeFn: this.implied, mode: 'implied' },\n\n        // PHP\n        0x08: { name: 'PHP', op: this.php, modeFn: this.implied, mode: 'implied' },\n\n        // PLP\n        0x28: { name: 'PLP', op: this.plp, modeFn: this.implied, mode: 'implied' },\n\n        // JMP\n        0x4C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsolute, mode: 'absolute'\n        },\n        0x6C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteIndirectBug, mode: 'absoluteIndirect'\n        },\n        // JSR\n        0x20: { name: 'JSR', op: this.jsr, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n\n        // RTS\n        0x60: { name: 'RTS', op: this.rts, modeFn: this.implied, mode: 'implied' },\n\n        // RTI\n        0x40: { name: 'RTI', op: this.rti, modeFn: this.implied, mode: 'implied' },\n\n        // SEC\n        0x38: { name: 'SEC', op: this.set, modeFn: flags.C, mode: 'implied' },\n\n        // SED\n        0xF8: { name: 'SED', op: this.set, modeFn: flags.D, mode: 'implied' },\n\n        // SEI\n        0x78: { name: 'SEI', op: this.set, modeFn: flags.I, mode: 'implied' },\n\n        // CLC\n        0x18: { name: 'CLC', op: this.clr, modeFn: flags.C, mode: 'implied' },\n\n        // CLD\n        0xD8: { name: 'CLD', op: this.clr, modeFn: flags.D, mode: 'implied' },\n\n        // CLI\n        0x58: { name: 'CLI', op: this.clr, modeFn: flags.I, mode: 'implied' },\n\n        // CLV\n        0xB8: { name: 'CLV', op: this.clr, modeFn: flags.V, mode: 'implied' },\n\n        // NOP\n        0xea: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n\n        // BRK\n        0x00: { name: 'BRK', op: this.brk, modeFn: this.readImmediate, mode: 'immediate' }\n    };\n\n    /* 65C02 Instructions */\n\n    OPS_65C02: Instructions = {\n        // INC / DEC A\n        0x1A: { name: 'INC', op: this.incA, modeFn: this.implied, mode: 'accumulator' },\n        0x3A: { name: 'DEC', op: this.decA, modeFn: this.implied, mode: 'accumulator' },\n\n        // Indirect Zero Page for the masses\n        0x12: { name: 'ORA', op: this.ora, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x32: { name: 'AND', op: this.and, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x52: { name: 'EOR', op: this.eor, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x72: { name: 'ADC', op: this.adc, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0x92: { name: 'STA', op: this.sta, modeFn: this.writeZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xB2: { name: 'LDA', op: this.lda, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xD2: { name: 'CMP', op: this.cmp, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n        0xF2: { name: 'SBC', op: this.sbc, modeFn: this.readZeroPageIndirect, mode: 'zeroPageIndirect' },\n\n        // Better BIT\n        0x34: { name: 'BIT', op: this.bit, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x3C: { name: 'BIT', op: this.bit, modeFn: this.readAbsoluteX, mode: 'absoluteX' },\n        0x89: { name: 'BIT', op: this.bitI, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // JMP absolute indirect indexed\n        0x6C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteIndirect, mode: 'absoluteIndirect'\n        },\n        0x7C: {\n            name: 'JMP', op: this.jmp, modeFn: this.readAddrAbsoluteXIndirect, mode: 'absoluteXIndirect'\n        },\n\n        // BBR/BBS\n        0x0F: { name: 'BBR0', op: this.bbr, modeFn: 0, mode: 'zeroPage_relative' },\n        0x1F: { name: 'BBR1', op: this.bbr, modeFn: 1, mode: 'zeroPage_relative' },\n        0x2F: { name: 'BBR2', op: this.bbr, modeFn: 2, mode: 'zeroPage_relative' },\n        0x3F: { name: 'BBR3', op: this.bbr, modeFn: 3, mode: 'zeroPage_relative' },\n        0x4F: { name: 'BBR4', op: this.bbr, modeFn: 4, mode: 'zeroPage_relative' },\n        0x5F: { name: 'BBR5', op: this.bbr, modeFn: 5, mode: 'zeroPage_relative' },\n        0x6F: { name: 'BBR6', op: this.bbr, modeFn: 6, mode: 'zeroPage_relative' },\n        0x7F: { name: 'BBR7', op: this.bbr, modeFn: 7, mode: 'zeroPage_relative' },\n\n        0x8F: { name: 'BBS0', op: this.bbs, modeFn: 0, mode: 'zeroPage_relative' },\n        0x9F: { name: 'BBS1', op: this.bbs, modeFn: 1, mode: 'zeroPage_relative' },\n        0xAF: { name: 'BBS2', op: this.bbs, modeFn: 2, mode: 'zeroPage_relative' },\n        0xBF: { name: 'BBS3', op: this.bbs, modeFn: 3, mode: 'zeroPage_relative' },\n        0xCF: { name: 'BBS4', op: this.bbs, modeFn: 4, mode: 'zeroPage_relative' },\n        0xDF: { name: 'BBS5', op: this.bbs, modeFn: 5, mode: 'zeroPage_relative' },\n        0xEF: { name: 'BBS6', op: this.bbs, modeFn: 6, mode: 'zeroPage_relative' },\n        0xFF: { name: 'BBS7', op: this.bbs, modeFn: 7, mode: 'zeroPage_relative' },\n\n        // BRA\n        0x80: { name: 'BRA', op: this.brc, modeFn: 0, mode: 'relative' },\n\n        // NOP\n        0x02: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x22: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x42: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x44: { name: 'NOP', op: this.nop, modeFn: this.readZeroPage, mode: 'immediate' },\n        0x54: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0x62: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0x82: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC2: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xD4: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0xE2: { name: 'NOP', op: this.nop, modeFn: this.readImmediate, mode: 'immediate' },\n        0xF4: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n        0x5C: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n        0xDC: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n        0xFC: { name: 'NOP', op: this.nop, modeFn: this.readNop, mode: 'absolute' },\n\n        // PHX\n        0xDA: { name: 'PHX', op: this.phx, modeFn: this.implied, mode: 'implied' },\n\n        // PHY\n        0x5A: { name: 'PHY', op: this.phy, modeFn: this.implied, mode: 'implied' },\n\n        // PLX\n        0xFA: { name: 'PLX', op: this.plx, modeFn: this.implied, mode: 'implied' },\n\n        // PLY\n        0x7A: { name: 'PLY', op: this.ply, modeFn: this.implied, mode: 'implied' },\n\n        // RMB/SMB\n\n        0x07: { name: 'RMB0', op: this.rmb, modeFn: 0, mode: 'zeroPage' },\n        0x17: { name: 'RMB1', op: this.rmb, modeFn: 1, mode: 'zeroPage' },\n        0x27: { name: 'RMB2', op: this.rmb, modeFn: 2, mode: 'zeroPage' },\n        0x37: { name: 'RMB3', op: this.rmb, modeFn: 3, mode: 'zeroPage' },\n        0x47: { name: 'RMB4', op: this.rmb, modeFn: 4, mode: 'zeroPage' },\n        0x57: { name: 'RMB5', op: this.rmb, modeFn: 5, mode: 'zeroPage' },\n        0x67: { name: 'RMB6', op: this.rmb, modeFn: 6, mode: 'zeroPage' },\n        0x77: { name: 'RMB7', op: this.rmb, modeFn: 7, mode: 'zeroPage' },\n\n        0x87: { name: 'SMB0', op: this.smb, modeFn: 0, mode: 'zeroPage' },\n        0x97: { name: 'SMB1', op: this.smb, modeFn: 1, mode: 'zeroPage' },\n        0xA7: { name: 'SMB2', op: this.smb, modeFn: 2, mode: 'zeroPage' },\n        0xB7: { name: 'SMB3', op: this.smb, modeFn: 3, mode: 'zeroPage' },\n        0xC7: { name: 'SMB4', op: this.smb, modeFn: 4, mode: 'zeroPage' },\n        0xD7: { name: 'SMB5', op: this.smb, modeFn: 5, mode: 'zeroPage' },\n        0xE7: { name: 'SMB6', op: this.smb, modeFn: 6, mode: 'zeroPage' },\n        0xF7: { name: 'SMB7', op: this.smb, modeFn: 7, mode: 'zeroPage' },\n\n        // STZ\n        0x64: { name: 'STZ', op: this.stz, modeFn: this.writeZeroPage, mode: 'zeroPage' },\n        0x74: { name: 'STZ', op: this.stz, modeFn: this.writeZeroPageX, mode: 'zeroPageX' },\n        0x9C: { name: 'STZ', op: this.stz, modeFn: this.writeAbsolute, mode: 'absolute' },\n        0x9E: { name: 'STZ', op: this.stz, modeFn: this.writeAbsoluteX, mode: 'absoluteX' },\n\n        // TRB\n        0x14: { name: 'TRB', op: this.trb, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x1C: { name: 'TRB', op: this.trb, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n\n        // TSB\n        0x04: { name: 'TSB', op: this.tsb, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x0C: { name: 'TSB', op: this.tsb, modeFn: this.readAddrAbsolute, mode: 'absolute' }\n    };\n\n    OPS_NMOS_6502: Instructions = {\n        // ASO\n        0x0F: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1F: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x1B: { name: 'ASO', op: this.aso, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x07: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x17: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x03: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x13: { name: 'ASO', op: this.aso, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // RLA\n        0x2F: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x3F: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x3B: { name: 'RLA', op: this.rla, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x27: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x37: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x23: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x33: { name: 'RLA', op: this.rla, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // LSE\n        0x4F: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x5F: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x5B: { name: 'LSE', op: this.lse, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x47: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x57: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x43: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x53: { name: 'LSE', op: this.lse, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // RRA\n        0x6F: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x7F: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x7B: { name: 'RRA', op: this.rra, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0x67: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0x77: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0x63: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0x73: { name: 'RRA', op: this.rra, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // AXS\n        0x8F: { name: 'AXS', op: this.axs, modeFn: this.writeAbsolute, mode: 'absolute'},\n        0x87: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPage, mode: 'zeroPage'},\n        0x97: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPageY, mode: 'zeroPageY'},\n        0x83: { name: 'AXS', op: this.axs, modeFn: this.writeZeroPageXIndirect, mode: 'zeroPageXIndirect'},\n\n        // LAX\n        0xAF: { name: 'LAX', op: this.lax, modeFn: this.readAbsolute, mode: 'absolute'},\n        0xBF: { name: 'LAX', op: this.lax, modeFn: this.readAbsoluteY, mode: 'absoluteY'},\n        0xA7: { name: 'LAX', op: this.lax, modeFn: this.readZeroPage, mode: 'zeroPage'},\n        0xB7: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageY, mode: 'zeroPageY'},\n        0xA3: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageXIndirect, mode: 'zeroPageXIndirect'},\n        0xB3: { name: 'LAX', op: this.lax, modeFn: this.readZeroPageIndirectY, mode: 'zeroPageIndirectY'},\n\n        // DCM\n        0xCF: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xDF: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xDB: { name: 'DCM', op: this.dcm, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0xC7: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xD7: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xC3: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xD3: { name: 'DCM', op: this.dcm, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // INS\n        0xEF: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0xFF: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xFB: { name: 'INS', op: this.ins, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY' },\n        0xE7: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPage, mode: 'zeroPage' },\n        0xF7: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageX, mode: 'zeroPageX' },\n        0xE3: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageXIndirect, mode: 'zeroPageXIndirect' },\n        0xF3: { name: 'INS', op: this.ins, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY' },\n\n        // ALR\n        0x4B: { name: 'ALR', op: this.alr, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // ARR\n        0x6B: { name: 'ARR', op: this.arr, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // XAA\n        0x8B: { name: 'XAA', op: this.xaa, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // OAL\n        0xAB: { name: 'OAL', op: this.oal, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // SAX\n        0xCB: { name: 'SAX', op: this.sax, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // NOP\n        0x1a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x3a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x5a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0x7a: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xda: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xfa: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n\n        // SKB\n        0x80: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x82: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x89: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xC2: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0xE2: { name: 'SKB', op: this.skp, modeFn: this.readImmediate, mode: 'immediate' },\n        0x04: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x14: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x34: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x44: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x54: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0x64: { name: 'SKB', op: this.skp, modeFn: this.readZeroPage, mode: 'zeroPage' },\n        0x74: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xD4: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n        0xF4: { name: 'SKB', op: this.skp, modeFn: this.readZeroPageX, mode: 'zeroPageX' },\n\n        // SKW\n        0x0C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsolute, mode: 'absolute' },\n        0x1C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x3C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x5C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0x7C: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xDC: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n        0xFC: { name: 'SKW', op: this.skp, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX' },\n\n        // HLT\n        0x02: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x12: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x22: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x32: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x42: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x52: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x62: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x72: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0x92: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xB2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xD2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n        0xF2: { name: 'HLT', op: this.hlt, modeFn: this.readNopImplied, mode: 'implied' },\n\n        // TAS\n        0x9B: { name: 'TAS', op: this.tas, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n\n        // SAY\n        0x9C: { name: 'SAY', op: this.say, modeFn: this.readAddrAbsoluteX, mode: 'absoluteX'},\n\n        // XAS\n        0x9E: { name: 'XAS', op: this.xas, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n\n        // AXA\n        0x9F: { name: 'AXA', op: this.axa, modeFn: this.readAddrAbsoluteY, mode: 'absoluteY'},\n        0x93: { name: 'AXA', op: this.axa, modeFn: this.readAddrZeroPageIndirectY, mode: 'zeroPageIndirectY'},\n\n        // ANC\n        0x2b: { name: 'ANC', op: this.anc, modeFn: this.readImmediate, mode: 'immediate' },\n        0x0b: { name: 'ANC', op: this.anc, modeFn: this.readImmediate, mode: 'immediate' },\n\n        // LAS\n        0xBB: { name: 'LAS', op: this.las, modeFn: this.readAbsoluteY, mode: 'absoluteY'},\n\n        // SBC\n        0xEB: { name: 'SBC', op: this.sbc, modeFn: this.readImmediate, mode: 'immediate'}\n    };\n\n    OPS_ROCKWELL_65C02: Instructions = {\n        0xCB: { name: 'NOP', op: this.nop, modeFn: this.implied, mode: 'implied' },\n        0xDB: { name: 'NOP', op: this.nop, modeFn: this.readZeroPageX, mode: 'immediate' },\n    };\n\n    /* WDC 65C02 Instructions */\n\n    OPS_WDC_65C02: Instructions = {\n        0xCB: { name: 'WAI', op: this.wai, modeFn: this.implied, mode: 'implied' },\n        0xDB: { name: 'STP', op: this.stp, modeFn: this.implied, mode: 'implied' }\n    };\n}\n","export const BLOCK_SIZE = 512;\n\nexport const STORAGE_TYPES = {\n    DELETED: 0x0,\n    SEEDLING: 0x1,\n    SAPLING: 0x2,\n    TREE: 0x3,\n    DIRECTORY: 0xD,\n    SUBDIRECTORY_HEADER: 0xE,\n    VDH_HEADER: 0xF\n} as const;\n\nexport const ACCESS_TYPES = {\n    DELETE: 0x80,\n    RENAME: 0x40,\n    BACKUP: 0x20,\n    WRITE: 0x02,\n    READ: 0x01,\n    ALL: 0xE3\n} as const;\n\nexport const FILE_TYPES = {\n    0x00: 'UNK', // Typeless file (SOS and ProDOS)\n    0x01: 'BAD', // Bad block file\n    0x02: 'PDC', // Pascal code file\n    0x03: 'PTX', // Pascal text file\n    0x04: 'TXT', // ASCII text file (SOS and ProDOS)\n    0x05: 'PDA', // Pascal data file\n    0x06: 'BIN', // General binary file (SOS and ProDOS)\n    0x07: 'FNT', // Font file\n    0x08: 'FOT', // Graphics screen file\n    0x09: 'BA3', // Business BASIC program file\n    0x0A: 'DA3', // Business BASIC data file\n    0x0B: 'WPF', // Word Processor file\n    0x0C: 'SOS', // SOS system file\n    0x0F: 'DIR', // Directory file (SOS and ProDOS)\n    0x10: 'RPD', // RPS data file\n    0x11: 'RPI', // RPS index file\n    0x12: 'AFD', // AppleFile discard file\n    0x13: 'AFM', // AppleFile model file\n    0x14: 'ARF', // AppleFile report format file\n    0x15: 'SCL', // Screen Library file\n    0x19: 'ADB', // AppleWorks Data Base file\n    0x1A: 'AWP', // AppleWorks Word Processor file\n    0x1B: 'ASP', // AppleWorks Spreadsheet file\n    0xEF: 'PAR', // Pascal area\n    0xF0: 'CMD', // ProDOS CI added command file\n    0xFA: 'INT', // Integer BASIC program file\n    0xFB: 'IVR', // Integer BASIC variable file\n    0xFC: 'BAS', // Applesoft program file\n    0xFD: 'VAR', // Applesoft variables file\n    0xFE: 'REL', // Relocatable code file (EDASM)\n    0xFF: 'SYS'  // ProDOS system file\n} as const;\n","import { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport type { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport { VDH } from './vdh';\nimport { Directory } from './directory';\n\nconst ENTRY_OFFSETS = {\n    STORAGE_TYPE: 0x00,\n    NAME_LENGTH: 0x00,\n    FILE_NAME: 0x01,\n    FILE_TYPE: 0x10,\n    KEY_POINTER: 0x11,\n    BLOCKS_USED: 0x13,\n    EOF: 0x15,\n    CREATION: 0x18,\n    CASE_BITS: 0x1C,\n    VERSION: 0x1C,\n    MIN_VERSION: 0x1D,\n    ACCESS: 0x1E,\n    AUX_TYPE: 0x1F,\n    LAST_MOD: 0x21,\n    HEADER_POINTER: 0x25\n} as const;\n\nexport class FileEntry {\n    block: DataView;\n    offset: word;\n\n    storageType: byte = STORAGE_TYPES.SEEDLING;\n    name: string = 'Untitled';\n    fileType: byte = 0;\n    auxType: word = 0;\n    blocksUsed: word = 0;\n    eof: number = 0;\n    access: byte = ACCESS_TYPES.ALL;\n    creation: Date = new Date();\n    lastMod: Date = new Date();\n    keyPointer: word = 0;\n    headerPointer: word = 0;\n\n    read(block: DataView, offset: word) {\n        this.block = block;\n        this.offset = offset;\n\n        this.storageType = block.getUint8(offset + ENTRY_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(offset + ENTRY_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint16(offset + ENTRY_OFFSETS.CASE_BITS, true);\n        this.name = readFileName(block, offset + ENTRY_OFFSETS.FILE_NAME, nameLength, caseBits);\n        this.fileType = block.getUint8(offset + ENTRY_OFFSETS.FILE_TYPE);\n        this.keyPointer = block.getUint16(offset + ENTRY_OFFSETS.KEY_POINTER, true);\n        this.blocksUsed = block.getUint16(offset + ENTRY_OFFSETS.BLOCKS_USED, true);\n        this.eof =\n            block.getUint8(offset + ENTRY_OFFSETS.EOF) |\n            block.getUint8(offset + ENTRY_OFFSETS.EOF + 1) << 8 |\n            block.getUint8(offset + ENTRY_OFFSETS.EOF + 2) << 16;\n        this.creation = uint32ToDate(block.getUint32(offset + ENTRY_OFFSETS.CREATION, true));\n        this.access = block.getUint8(offset + ENTRY_OFFSETS.ACCESS);\n        this.auxType = block.getUint16(offset + ENTRY_OFFSETS.AUX_TYPE, true);\n        this.lastMod = uint32ToDate(block.getUint32(offset + ENTRY_OFFSETS.LAST_MOD, true));\n        this.headerPointer = block.getUint16(offset + ENTRY_OFFSETS.HEADER_POINTER, true);\n    }\n\n    write(block?: DataView, offset?: word) {\n        this.block = block ?? this.block;\n        this.offset = offset ?? this.offset;\n\n        const nameLength = this.name.length & 0x0f;\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(this.block, this.offset + ENTRY_OFFSETS.FILE_NAME, this.name);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.CASE_BITS, caseBits);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.FILE_TYPE, this.fileType);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.KEY_POINTER, this.keyPointer, true);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.BLOCKS_USED, this.blocksUsed, true);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF, this.eof & 0xff);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF + 1, (this.eof && 0xff00) >> 8);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.EOF + 2, this.eof >> 16);\n        this.block.setUint32(this.offset + ENTRY_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        this.block.setUint8(this.offset + ENTRY_OFFSETS.ACCESS, this.access);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.AUX_TYPE, this.auxType, true);\n        this.block.setUint32(this.offset + ENTRY_OFFSETS.LAST_MOD, dateToUint32(this.lastMod), true);\n        this.block.setUint16(this.offset + ENTRY_OFFSETS.HEADER_POINTER, this.headerPointer, true);\n    }\n}\n\nexport function readEntries(volume: ProDOSVolume, block: DataView, header: VDH | Directory) {\n    const blocks = volume.blocks();\n    const entries = [];\n    let offset = header.entryLength + 0x4;\n    let count = 2;\n    let next = header.next;\n\n    for (let idx = 0; idx < header.fileCount; idx++) {\n        const fileEntry = new FileEntry();\n        fileEntry.read(block, offset);\n        entries.push(fileEntry);\n        offset += header.entryLength;\n        count++;\n        if (count >= header.entriesPerBlock) {\n            block = new DataView(blocks[next].buffer);\n            next = block.getUint16(0x02, true);\n            offset = 0x4;\n            count = 0;\n        }\n    }\n\n    return entries;\n}\n\nexport function writeEntries(volume: ProDOSVolume, block: DataView, header: VDH | Directory) {\n    const blocks = volume.blocks();\n    const bitMap = volume.bitMap();\n    let offset = header.entryLength + 0x4;\n    let count = 2;\n    let next = header.next;\n\n    for (let idx = 0; idx < header.fileCount; idx++) {\n        const fileEntry = header.entries[idx];\n        fileEntry.write(block, offset);\n        offset += header.entryLength;\n        count++;\n        if (count >= header.entriesPerBlock) {\n            const prev = next;\n            if (!next) {\n                next = bitMap.allocBlock();\n            }\n            block = new DataView(blocks[next].buffer);\n            block.setUint16(0x00, prev, true);\n            next = block.getUint16(0x02, true);\n            offset = 0x4;\n            count = 0;\n        }\n    }\n    next = block.getUint16(0x02, true);\n    block.setUint16(0x02, 0, true);\n    while (next) {\n        block = new DataView(blocks[next].buffer);\n        bitMap.freeBlock(next);\n        next = block.getUint16(0x02, true);\n    }\n}\n","\nimport { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { FileEntry, readEntries, writeEntries } from './file_entry';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport { VDH } from './vdh';\n\nexport const DIRECTORY_OFFSETS = {\n    PREV: 0x00,\n    NEXT: 0x02,\n    STORAGE_TYPE: 0x04,\n    NAME_LENGTH: 0x04,\n    DIRECTORY_NAME: 0x05,\n    RESERVED_1: 0x14,\n    CREATION: 0x1C,\n    CASE_BITS: 0x20,\n    VERSION: 0x20,\n    MIN_VERSION: 0x21,\n    ACCESS: 0x22,\n    ENTRY_LENGTH: 0x23,\n    ENTRIES_PER_BLOCK: 0x24,\n    FILE_COUNT: 0x25,\n    PARENT: 0x27,\n    PARENT_ENTRY_NUMBER: 0x29,\n    PARENT_ENTRY_LENGTH: 0x2A\n} as const;\n\nexport class Directory {\n    blocks: Uint8Array[];\n    vdh: VDH;\n\n    prev: word = 0;\n    next: word = 0;\n    storageType: byte = STORAGE_TYPES.DIRECTORY;\n    name: string = 'Untitled';\n    creation: Date = new Date();\n    access: byte = ACCESS_TYPES.ALL;\n    entryLength = 0x27;\n    entriesPerBlock: byte = 23;\n    fileCount = 0;\n    parent: word = 0;\n    parentEntryLength: byte = 0;\n    parentEntryNumber: byte = 0;\n    entries: FileEntry[] = [];\n\n    constructor(private volume: ProDOSVolume, private fileEntry: FileEntry) {\n        this.blocks = this.volume.blocks();\n        this.vdh = this.volume.vdh();\n    }\n\n    read(fileEntry?: FileEntry) {\n        this.fileEntry = fileEntry ?? this.fileEntry;\n\n        const block = new DataView(this.blocks[this.fileEntry.keyPointer].buffer);\n\n        this.prev = block.getUint16(DIRECTORY_OFFSETS.PREV, true);\n        this.next = block.getUint16(DIRECTORY_OFFSETS.NEXT, true);\n        this.storageType = block.getUint8(DIRECTORY_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(DIRECTORY_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint8(DIRECTORY_OFFSETS.CASE_BITS);\n        this.name = readFileName(block, DIRECTORY_OFFSETS.DIRECTORY_NAME, nameLength, caseBits);\n        this.creation = uint32ToDate(block.getUint32(DIRECTORY_OFFSETS.CREATION, true));\n        this.access = block.getUint8(DIRECTORY_OFFSETS.ACCESS);\n        this.entryLength = block.getUint8(DIRECTORY_OFFSETS.ENTRY_LENGTH);\n        this.entriesPerBlock = block.getUint8(DIRECTORY_OFFSETS.ENTRIES_PER_BLOCK);\n        this.fileCount = block.getUint16(DIRECTORY_OFFSETS.FILE_COUNT, true);\n        this.parent = block.getUint16(DIRECTORY_OFFSETS.PARENT, true);\n        this.parentEntryNumber = block.getUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_NUMBER);\n        this.parentEntryLength = block.getUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_LENGTH);\n\n        this.entries = readEntries(this.volume, block, this);\n    }\n\n    write() {\n        const block = new DataView(this.blocks[this.fileEntry.keyPointer].buffer);\n\n        const nameLength = this.name.length & 0x0f;\n        block.setUint8(DIRECTORY_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(block, DIRECTORY_OFFSETS.DIRECTORY_NAME, this.name);\n        block.setUint32(DIRECTORY_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        block.setUint16(DIRECTORY_OFFSETS.CASE_BITS, caseBits);\n        block.setUint8(DIRECTORY_OFFSETS.ACCESS, this.access);\n        block.setUint8(DIRECTORY_OFFSETS.ENTRY_LENGTH, this.entryLength);\n        block.setUint8(DIRECTORY_OFFSETS.ENTRIES_PER_BLOCK, this.entriesPerBlock);\n        block.setUint16(DIRECTORY_OFFSETS.FILE_COUNT, this.fileCount, true);\n        block.setUint16(DIRECTORY_OFFSETS.PARENT, this.parent, true);\n        block.setUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_NUMBER, this.parentEntryNumber);\n        block.setUint8(DIRECTORY_OFFSETS.PARENT_ENTRY_LENGTH, this.parentEntryLength);\n\n        writeEntries(this.volume, block, this.vdh);\n    }\n}\n","import { debug } from '../../util';\nimport { STORAGE_TYPES } from './constants';\nimport { Directory } from './directory';\nimport type { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport { FileEntry } from './file_entry';\n\nexport function uint32ToDate(val: word) {\n    // yyyyyyy m|mmmm ddddd|000hhhhh|00mmmmmm\n\n    if (val) {\n        const yearMonthDay = val & 0xffff;\n        const hourMinute = val >> 16;\n\n        const year = yearMonthDay >> 9;\n        const month = (yearMonthDay & 0x01E0) >> 5;\n        const day = yearMonthDay & 0x001F;\n\n        const hour = hourMinute >> 8;\n        const min = hourMinute & 0xff;\n\n        return new Date(1900 + year, month - 1, day, hour, min);\n    }\n    return new Date(0);\n}\n\nexport function dateToUint32(date: Date) {\n    // yyyyyyy m|mmmm ddddd|000hhhhh|00mmmmmm\n\n    let val = 0;\n\n    if (date) {\n        const year = date.getFullYear() - 1900;\n        const month = date.getMonth() + 1;\n        const day = date.getDate();\n\n        const hour = date.getHours();\n        const min = date.getMinutes();\n\n        const yearMonthDay = year << 9 | month << 5 | day;\n        const hourMinute = hour << 8 | min;\n        val = hourMinute << 16 | yearMonthDay;\n    }\n\n    return val;\n}\n\nexport function readFileName(block: DataView, offset: word, nameLength: byte, caseBits: word) {\n    let name = '';\n    if (!(caseBits & 0x8000)) {\n        caseBits = 0;\n    }\n    for (let idx = 0; idx < nameLength; idx++) {\n        caseBits <<= 1;\n        const char = String.fromCharCode(block.getUint8(offset + idx));\n        name += caseBits & 0x8000 ? char.toLowerCase() : char;\n    }\n    return name;\n}\n\nexport function writeFileName(block: DataView, offset: word, name: string) {\n    let caseBits = 0;\n    for (let idx = 0; idx < name.length; idx++) {\n        caseBits <<= 1;\n        let charCode = name.charCodeAt(idx);\n        if (charCode > 0x60 && charCode < 0x7B) {\n            caseBits |= 0x1;\n            charCode -= 0x20;\n        }\n        block.setUint8(offset + idx, charCode);\n    }\n    return caseBits;\n}\n\nexport function dumpDirectory(volume: ProDOSVolume, dirEntry: FileEntry, depth: string) {\n    const dir = new Directory(volume, dirEntry);\n    dir.read();\n\n    for (let idx = 0; idx < dir.entries.length; idx++) {\n        const fileEntry = dir.entries[idx];\n        if (fileEntry.storageType !== STORAGE_TYPES.DELETED) {\n            debug(depth, fileEntry.name);\n            if (fileEntry.storageType === STORAGE_TYPES.DIRECTORY) {\n                dumpDirectory(volume, fileEntry, depth + '  ');\n            }\n        }\n    }\n}\n\nexport function dump(volume: ProDOSVolume) {\n    const vdh = volume.vdh();\n    debug(vdh.name);\n    for (let idx = 0; idx < vdh.entries.length; idx++) {\n        const fileEntry = vdh.entries[idx];\n        debug(fileEntry.name);\n        if (fileEntry.storageType === STORAGE_TYPES.DIRECTORY) {\n            dumpDirectory(volume, fileEntry, '  ');\n        }\n    }\n}\n","import { dateToUint32, readFileName, writeFileName, uint32ToDate } from './utils';\nimport { FileEntry, readEntries, writeEntries } from './file_entry';\nimport { STORAGE_TYPES, ACCESS_TYPES } from './constants';\nimport { byte, word } from 'js/types';\nimport { ProDOSVolume } from '.';\n\nconst VDH_BLOCK = 2;\nconst VDH_OFFSETS = {\n    PREV: 0x00,\n    NEXT: 0x02,\n    STORAGE_TYPE: 0x04,\n    NAME_LENGTH: 0x04,\n    VOLUME_NAME: 0x05,\n    RESERVED_1: 0x14,\n    CASE_BITS: 0x1A,\n    CREATION: 0x1C,\n    VERSION: 0x20,\n    MIN_VERSION: 0x21,\n    ACCESS: 0x22,\n    ENTRY_LENGTH: 0x23,\n    ENTRIES_PER_BLOCK: 0x24,\n    FILE_COUNT: 0x25,\n    BIT_MAP_POINTER: 0x27,\n    TOTAL_BLOCKS: 0x29,\n} as const;\n\nexport class VDH {\n    private blocks: Uint8Array[];\n\n    prev: word = 0;\n    next: word = 0;\n    storageType: byte = STORAGE_TYPES.VDH_HEADER;\n    name: string = '';\n    creation: Date = new Date();\n    access: byte = ACCESS_TYPES.ALL;\n    entryLength = 0x27;\n    entriesPerBlock = 23;\n    fileCount = 0;\n    bitMapPointer: word = 0;\n    totalBlocks: word = 0;\n    entries: FileEntry[] = [];\n\n    constructor(private volume: ProDOSVolume) {\n        this.blocks = this.volume.blocks();\n    }\n\n\n    read() {\n        const block = new DataView(this.blocks[VDH_BLOCK].buffer);\n\n        this.next = block.getUint16(VDH_OFFSETS.NEXT, true);\n        this.storageType = block.getUint8(VDH_OFFSETS.STORAGE_TYPE) >> 4;\n        const nameLength = block.getUint8(VDH_OFFSETS.NAME_LENGTH) & 0xF;\n        const caseBits = block.getUint8(VDH_OFFSETS.CASE_BITS);\n        this.name = readFileName(block, VDH_OFFSETS.VOLUME_NAME, nameLength, caseBits);\n        this.creation = uint32ToDate(block.getUint32(VDH_OFFSETS.CREATION, true));\n        this.access = block.getUint8(VDH_OFFSETS.ACCESS);\n        this.entryLength = block.getUint8(VDH_OFFSETS.ENTRY_LENGTH);\n        this.entriesPerBlock = block.getUint8(VDH_OFFSETS.ENTRIES_PER_BLOCK);\n        this.fileCount = block.getUint16(VDH_OFFSETS.FILE_COUNT, true);\n        this.bitMapPointer = block.getUint16(VDH_OFFSETS.BIT_MAP_POINTER, true);\n        this.totalBlocks = block.getUint16(VDH_OFFSETS.TOTAL_BLOCKS, true);\n\n        this.entries = readEntries(this.volume, block, this);\n    }\n\n    write() {\n        const block = new DataView(this.blocks[VDH_BLOCK].buffer);\n\n        const nameLength = this.name.length & 0x0f;\n        block.setUint8(VDH_OFFSETS.STORAGE_TYPE, this.storageType << 4 & nameLength);\n        const caseBits = writeFileName(block, VDH_OFFSETS.VOLUME_NAME, this.name);\n        block.setUint32(VDH_OFFSETS.CREATION, dateToUint32(this.creation), true);\n        block.setUint16(VDH_OFFSETS.CASE_BITS, caseBits);\n        block.setUint8(VDH_OFFSETS.ACCESS, this.access);\n        block.setUint8(VDH_OFFSETS.ENTRY_LENGTH, this.entryLength);\n        block.setUint8(VDH_OFFSETS.ENTRIES_PER_BLOCK, this.entriesPerBlock);\n        block.setUint16(VDH_OFFSETS.FILE_COUNT, this.fileCount, true);\n        block.setUint16(VDH_OFFSETS.BIT_MAP_POINTER, this.bitMapPointer, true);\n        block.setUint16(VDH_OFFSETS.TOTAL_BLOCKS, this.totalBlocks, true);\n\n        writeEntries(this.volume, block, this);\n    }\n}\n","import { word } from 'js/types';\nimport { ProDOSVolume } from '.';\nimport type { VDH } from './vdh';\n\nconst BLOCK_ENTRIES = 4096;\n\nexport class BitMap {\n    private vdh: VDH;\n    private blocks: Uint8Array[];\n\n    constructor(volume: ProDOSVolume) {\n        this.vdh = volume.vdh();\n        this.blocks = volume.blocks();\n    }\n\n\n    allocBlock () {\n        for (let idx = 0; idx < this.vdh.totalBlocks; idx++) {\n            const blockOffset = this.vdh.bitMapPointer + Math.floor(idx / BLOCK_ENTRIES);\n            const bitMapBlock = this.blocks[blockOffset];\n            const byteOffset = (idx - blockOffset * BLOCK_ENTRIES) >> 8;\n            const bits = bitMapBlock[byteOffset];\n            if (bits !== 0xff) {\n                let mask = 0x01;\n                for (let bitOffset = 0; bitOffset < 8; bitOffset++) {\n                    if (!(bits & mask)) {\n                        bitMapBlock[byteOffset] |= mask;\n                        return idx;\n                    }\n                    mask <<= 1;\n                }\n            }\n        }\n        throw new Error('Disk full');\n    }\n\n    freeBlock(block: word) {\n        if (block >= this.vdh.totalBlocks) {\n            throw new Error('Block out of range');\n        }\n        const blockOffset = this.vdh.bitMapPointer + Math.floor(block / BLOCK_ENTRIES);\n        const byteOffset = (block - blockOffset * BLOCK_ENTRIES) >> 8;\n        const bitOffset = block & 0x7;\n\n        const bitMapBlock = this.blocks[blockOffset];\n\n        bitMapBlock[byteOffset] &= 0xff ^ (0x01 << bitOffset);\n    }\n}\n","import { VDH } from './vdh';\nimport { BitMap } from './bit_map';\nimport { BlockDisk } from '../types';\n\nexport class ProDOSVolume {\n    _vdh: VDH;\n    _bitMap: BitMap;\n\n    constructor(private _disk: BlockDisk) {}\n\n    disk() {\n        return this._disk;\n    }\n\n    blocks() {\n        return this._disk.blocks;\n    }\n\n    vdh() {\n        if (!this._vdh) {\n            this._vdh = new VDH(this);\n            this._vdh.read();\n        }\n        return this._vdh;\n    }\n\n    bitMap() {\n        if (!this._bitMap) {\n            this._bitMap = new BitMap(this);\n        }\n        return this._bitMap;\n    }\n}\n","import { debug, toHex } from '../util';\nimport { rom as smartPortRom } from '../roms/cards/smartport';\nimport { Card, Restorable, byte, word, rom } from '../types';\nimport { MassStorage, BlockDisk, ENCODING_BLOCK } from '../formats/types';\nimport CPU6502, { CpuState, flags } from '../cpu6502';\nimport { read2MGHeader } from '../formats/2mg';\nimport createBlockDisk from '../formats/block';\nimport { ProDOSVolume } from '../formats/prodos';\nimport { dump } from '../formats/prodos/utils';\n\nconst ID = 'SMARTPORT.J.S';\n\nexport interface SmartPortState {\n    disks: BlockDisk[]\n}\n\nexport interface SmartPortOptions {\n    block: boolean;\n}\n\nclass Address {\n    lo: byte;\n    hi: byte;\n\n    constructor(private cpu: CPU6502, a: byte | word, b?: byte) {\n        if (b === undefined) {\n            this.lo = a & 0xff;\n            this.hi = a >> 8;\n        } else {\n            this.lo = a;\n            this.hi = b;\n        }\n    }\n\n    loByte() {\n        return this.lo;\n    }\n\n    hiByte() {\n        return this.hi;\n    }\n\n    inc(val: byte) {\n        return new Address(this.cpu, ((this.hi << 8 | this.lo) + val) & 0xffff);\n    }\n\n    readByte() {\n        return this.cpu.read(this.hi, this.lo);\n    }\n\n    readWord() {\n        const readLo = this.readByte();\n        const readHi = this.inc(1).readByte();\n\n        return readHi << 8 | readLo;\n    }\n\n    readAddress() {\n        const readLo = this.readByte();\n        const readHi = this.inc(1).readByte();\n\n        return new Address(this.cpu, readLo, readHi);\n    }\n\n    writeByte(val: byte) {\n        this.cpu.write(this.hi, this.lo, val);\n    }\n\n    writeWord(val: word) {\n        this.writeByte(val & 0xff);\n        this.inc(1).writeByte(val >> 8);\n    }\n\n    writeAddress(val: Address) {\n        this.writeByte(val.loByte());\n        this.inc(1).writeByte(val.hiByte());\n    }\n\n    toString() {\n        return '$' + toHex(this.hi) + toHex(this.lo);\n    }\n}\n\n// ProDOS zero page locations\n\nconst COMMAND = 0x42;\nconst UNIT = 0x43;\nconst ADDRESS_LO = 0x44;\n// const ADDRESS_HI = 0x45;\nconst BLOCK_LO = 0x46;\n// const BLOCK_HI = 0x47;\n\n// const IO_ERROR = 0x27;\nconst NO_DEVICE_CONNECTED = 0x28;\nconst WRITE_PROTECTED = 0x2B;\nconst DEVICE_OFFLINE = 0x2F;\n// const VOLUME_DIRECTORY_NOT_FOUND = 0x45;\n// const NOT_A_PRODOS_DISK = 0x52;\n// const VOLUME_CONTROL_BLOCK_FULL = 0x55;\n// const BAD_BUFFER_ADDRESS = 0x56;\n// const DUPLICATE_VOLUME_ONLINE = 0x57;\n\n// Type: Device\n// $00: Memory Expansion Card (RAM disk)\n// $01: 3.5\" disk\n// $02: ProFile-type hard disk\n// $03: Generic SCSI\n// $04: ROM disk\n// $05: SCSI CD-ROM\n// $06: SCSI tape or other SCSI sequential device\n// $07: SCSI hard disk\nconst DEVICE_TYPE_SCSI_HD = 0x07;\n// $08: Reserved\n// $09: SCSI printer\n// $0A: 5-1/4\" disk\n// $0B: Reserved\n// $0C: Reserved\n// $0D: Printer\n// $0E: Clock\n// $0F: Modem\nexport default class SmartPort implements Card, MassStorage, Restorable<SmartPortState> {\n\n    private rom: rom;\n    private disks: BlockDisk[] = [];\n\n    constructor(private cpu: CPU6502, options: SmartPortOptions) {\n        if (options?.block) {\n            const dumbPortRom =  new Uint8Array(smartPortRom);\n            dumbPortRom[0x07] = 0x3C;\n            this.rom = dumbPortRom;\n            debug('DumbPort card');\n        } else {\n            debug('SmartPort card');\n            this.rom = smartPortRom;\n        }\n    }\n\n    private debug(..._args: any[]) {\n        // debug.apply(this, arguments);\n    }\n\n    /*\n     * dumpBlock\n     */\n\n    dumpBlock(drive: number, block: number) {\n        let result = '';\n        let b;\n        let jdx;\n\n        for (let idx = 0; idx < 32; idx++) {\n            result += toHex(idx << 4, 4) + ': ';\n            for (jdx = 0; jdx < 16; jdx++) {\n                b = this.disks[drive].blocks[block][idx * 16 + jdx];\n                if (jdx == 8) {\n                    result += ' ';\n                }\n                result += toHex(b) + ' ';\n            }\n            result += '        ';\n            for (jdx = 0; jdx < 16; jdx++) {\n                b = this.disks[drive].blocks[block][idx * 16 + jdx] & 0x7f;\n                if (jdx == 8) {\n                    result += ' ';\n                }\n                if (b >= 0x20 && b < 0x7f) {\n                    result += String.fromCharCode(b);\n                } else {\n                    result += '.';\n                }\n            }\n            result += '\\n';\n        }\n        return result;\n    }\n\n    /*\n     * getDeviceInfo\n     */\n\n    getDeviceInfo(state: CpuState, drive: number) {\n        if (this.disks[drive]) {\n            const blocks = this.disks[drive].blocks.length;\n            state.x = blocks & 0xff;\n            state.y = blocks >> 8;\n\n            state.a = 0;\n            state.s &= ~flags.C;\n        } else {\n            state.a = NO_DEVICE_CONNECTED;\n            state.s |= flags.C;\n        }\n    }\n\n    /*\n     * readBlock\n     */\n\n    readBlock(state: CpuState, drive: number, block: number, buffer: Address) {\n        this.debug('read drive=' + drive);\n        this.debug('read buffer=' + buffer);\n        this.debug('read block=$' + toHex(block));\n\n        if (!this.disks[drive]?.blocks.length) {\n            debug('Drive', drive, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        // debug('read', '\\n' + dumpBlock(drive, block));\n\n        for (let idx = 0; idx < 512; idx++) {\n            buffer.writeByte(this.disks[drive].blocks[block][idx]);\n            buffer = buffer.inc(1);\n        }\n\n        state.a = 0;\n        state.s &= ~flags.C;\n    }\n\n    /*\n     * writeBlock\n     */\n\n    writeBlock(state: CpuState, drive: number, block: number, buffer: Address) {\n        this.debug('write drive=' + drive);\n        this.debug('write buffer=' + buffer);\n        this.debug('write block=$' + toHex(block));\n\n        if (!this.disks[drive]?.blocks.length) {\n            debug('Drive', drive, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        if (this.disks[drive].readOnly) {\n            debug('Drive', drive, 'is write protected');\n            state.a = WRITE_PROTECTED;\n            state.s |= flags.C;\n            return;\n        }\n\n        // debug('write', '\\n' + dumpBlock(drive, block));\n\n        for (let idx = 0; idx < 512; idx++) {\n            this.disks[drive].blocks[block][idx] = buffer.readByte();\n            buffer = buffer.inc(1);\n        }\n        state.a = 0;\n        state.s &= flags.C;\n    }\n\n    /*\n     * formatDevice\n     */\n\n    formatDevice(state: CpuState, drive: number) {\n        if (!this.disks[drive]?.blocks.length) {\n            debug('Drive', drive, 'is empty');\n            state.a = DEVICE_OFFLINE;\n            state.s |= flags.C;\n            return;\n        }\n\n        if (this.disks[drive].readOnly) {\n            debug('Drive', drive, 'is write protected');\n            state.a = WRITE_PROTECTED;\n            state.s |= flags.C;\n            return;\n        }\n\n        for (let idx = 0; idx < this.disks[drive].blocks.length; idx++) {\n            this.disks[drive].blocks[idx] = new Uint8Array();\n            for (let jdx = 0; jdx < 512; jdx++) {\n                this.disks[drive].blocks[idx][jdx] = 0;\n            }\n        }\n\n        state.a = 0;\n        state.s &= flags.C;\n    }\n\n    private access(off: byte, val: byte) {\n        let result;\n        const readMode = val === undefined;\n\n        switch (off & 0x8f) {\n            case 0x80:\n                if (readMode) {\n                    result = 0;\n                    for (let idx = 0; idx < this.disks.length; idx++) {\n                        result <<= 1;\n                        if (this.disks[idx]) {\n                            result |= 0x01;\n                        }\n                    }\n                }\n                break;\n        }\n\n        return result;\n    }\n\n    /*\n     * Interface\n     */\n\n    ioSwitch(off: byte, val: byte) {\n        return this.access(off, val);\n    }\n\n    read(_page: byte, off: byte) {\n        const state = this.cpu.getState();\n        let cmd;\n        let unit;\n        let buffer;\n        let block;\n        const blockOff = this.rom[0xff];\n        const smartOff = blockOff + 3;\n\n        if (off === blockOff && this.cpu.getSync()) { // Regular block device entry POINT\n            this.debug('block device entry');\n            cmd = this.cpu.read(0x00, COMMAND);\n            unit = this.cpu.read(0x00, UNIT);\n            const bufferAddr = new Address(this.cpu, ADDRESS_LO);\n            const blockAddr = new Address(this.cpu, BLOCK_LO);\n            const drive = (unit & 0x80) ? 2 : 1;\n            const driveSlot = (unit & 0x70) >> 4;\n\n            buffer = bufferAddr.readAddress();\n            block = blockAddr.readWord();\n\n            this.debug('cmd=' + cmd);\n            this.debug('unit=$' + toHex(unit));\n\n            this.debug('slot=' + driveSlot + ' drive=' + drive);\n            this.debug('buffer=' + buffer + ' block=$' + toHex(block));\n\n            switch (cmd) {\n                case 0: // INFO\n                    this.getDeviceInfo(state, drive);\n                    break;\n\n                case 1: // READ\n                    this.readBlock(state, drive, block, buffer);\n                    break;\n\n                case 2: // WRITE\n                    this.writeBlock(state, drive, block, buffer);\n                    break;\n\n                case 3: // FORMAT\n                    this.formatDevice(state, unit);\n                    break;\n            }\n        } else if (off == smartOff && this.cpu.getSync()) {\n            this.debug('smartport entry');\n            const stackAddr = new Address(this.cpu, state.sp + 1, 0x01);\n            let blocks;\n\n            const retVal = stackAddr.readAddress();\n\n            this.debug('return=' + retVal);\n\n            const cmdBlockAddr = retVal.inc(1);\n            cmd = cmdBlockAddr.readByte();\n            const cmdListAddr = cmdBlockAddr.inc(1).readAddress();\n\n            this.debug('cmd=' + cmd);\n            this.debug('cmdListAddr=' + cmdListAddr);\n\n            stackAddr.writeAddress(retVal.inc(3));\n\n            const parameterCount = cmdListAddr.readByte();\n            unit = cmdListAddr.inc(1).readByte();\n            buffer = cmdListAddr.inc(2).readAddress();\n            let status;\n\n            this.debug('parameterCount=' + parameterCount);\n            switch (cmd) {\n                case 0x00: // INFO\n                    status = cmdListAddr.inc(4).readByte();\n                    this.debug('info unit=' + unit);\n                    this.debug('info buffer=' + buffer);\n                    this.debug('info status=' + status);\n                    switch (unit) {\n                        case 0:\n                            switch (status) {\n                                case 0:\n                                    buffer.writeByte(2); // two devices\n                                    buffer.inc(1).writeByte(1 << 6); // no interrupts\n                                    buffer.inc(2).writeByte(0x2); // Other vendor\n                                    buffer.inc(3).writeByte(0x0); // Other vendor\n                                    buffer.inc(4).writeByte(0); // reserved\n                                    buffer.inc(5).writeByte(0); // reserved\n                                    buffer.inc(6).writeByte(0); // reserved\n                                    buffer.inc(7).writeByte(0); // reserved\n                                    state.x = 8;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                            }\n                            break;\n                        default: // Unit 1\n                            switch (status) {\n                                case 0:\n                                    blocks = this.disks[unit]?.blocks.length ?? 0;\n                                    buffer.writeByte(0xf0); // W/R Block device in drive\n                                    buffer.inc(1).writeByte(blocks & 0xff); // 1600 blocks\n                                    buffer.inc(2).writeByte((blocks & 0xff00) >> 8);\n                                    buffer.inc(3).writeByte((blocks & 0xff0000) >> 16);\n                                    state.x = 4;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                                case 3:\n                                    blocks = this.disks[unit]?.blocks.length ?? 0;\n                                    buffer.writeByte(0xf0); // W/R Block device in drive\n                                    buffer.inc(1).writeByte(blocks & 0xff); // Blocks low byte\n                                    buffer.inc(2).writeByte((blocks & 0xff00) >> 8); // Blocks middle byte\n                                    buffer.inc(3).writeByte((blocks & 0xff0000) >> 16); // Blocks high byte\n                                    buffer.inc(4).writeByte(ID.length); // Vendor ID length\n                                    for (let idx = 0; idx < ID.length; idx++) { // Vendor ID\n                                        buffer.inc(5 + idx).writeByte(ID.charCodeAt(idx));\n                                    }\n                                    buffer.inc(21).writeByte(DEVICE_TYPE_SCSI_HD); // Device Type\n                                    buffer.inc(22).writeByte(0x0); // Device Subtype\n                                    buffer.inc(23).writeWord(0x0101); // Version\n                                    state.x = 24;\n                                    state.y = 0;\n                                    state.a = 0;\n                                    state.s &= ~flags.C;\n                                    break;\n                            }\n                            break;\n                    }\n                    state.a = 0;\n                    state.s &= ~flags.C;\n                    break;\n\n                case 0x01: // READ BLOCK\n                    block = cmdListAddr.inc(4).readWord();\n                    this.readBlock(state, unit, block, buffer);\n                    break;\n\n                case 0x02: // WRITE BLOCK\n                    block = cmdListAddr.inc(4).readWord();\n                    this.writeBlock(state, unit, block, buffer);\n                    break;\n\n                case 0x03: // FORMAT\n                    this.formatDevice(state, unit);\n                    break;\n\n                case 0x04: // CONTROL\n                    break;\n\n                case 0x05: // INIT\n                    break;\n\n                case 0x06: // OPEN\n                    break;\n\n                case 0x07: // CLOSE\n                    break;\n\n                case 0x08: // READ\n                    break;\n\n                case 0x09: // WRITE\n                    break;\n            }\n        }\n\n        this.cpu.setState(state);\n\n        return this.rom[off];\n    }\n\n    write() {\n    }\n\n    getState() {\n        return {\n            disks: this.disks.map(\n                (disk) => {\n                    const result: BlockDisk = {\n                        blocks: disk.blocks.map(\n                            (block) => new Uint8Array(block)\n                        ),\n                        encoding: ENCODING_BLOCK,\n                        readOnly: disk.readOnly,\n                        name: disk.name,\n                    };\n                    return result;\n                }\n            )\n        };\n    }\n\n    setState(state: SmartPortState) {\n        this.disks = state.disks.map(\n            (disk) => {\n                const result: BlockDisk = {\n                    blocks: disk.blocks.map(\n                        (block) => new Uint8Array(block)\n                    ),\n                    encoding: ENCODING_BLOCK,\n                    readOnly: disk.readOnly,\n                    name: disk.name,\n                };\n                return result;\n            }\n        );\n    }\n\n    setBinary(drive: number, name: string, fmt: string, rawData: ArrayBuffer) {\n        const volume = 254;\n        const readOnly = false;\n        if (fmt == '2mg') {\n            const { bytes, offset } = read2MGHeader(rawData);\n            rawData = rawData.slice(offset, offset + bytes);\n        }\n        const options = {\n            rawData,\n            name,\n            readOnly,\n            volume,\n        };\n\n        this.disks[drive] = createBlockDisk(options);\n\n        const prodos = new ProDOSVolume(this.disks[drive]);\n        dump(prodos);\n\n        return true;\n    }\n}\n","import { DiskOptions, BlockDisk, ENCODING_BLOCK } from './types';\n\n/**\n * Returns a `Disk` object for a block volume with block-ordered data.\n * @param options the disk image and options\n */\nexport default function createBlockDisk(options: DiskOptions): BlockDisk {\n    const { rawData, readOnly, name } = options;\n\n    if (!rawData) {\n        throw new Error('Requires rawData');\n    }\n\n    const blocks = [];\n    let offset = 0;\n    while (offset  < rawData.byteLength) {\n        blocks.push(new Uint8Array(rawData.slice(offset, offset + 0x200)));\n        offset += 0x200;\n    }\n\n    const disk: BlockDisk = {\n        encoding: ENCODING_BLOCK,\n        blocks,\n        name,\n        readOnly,\n    };\n\n    return disk;\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const rom = new Uint8Array([\n    0x08,0x78,0x28,0x2c,0x58,0xff,0x70,0x05, // 00\n    0x38,0xb0,0x01,0x18,0xb8,0x08,0x78,0x48,\n    0x8a,0x48,0x98,0x48,0xad,0xff,0xcf,0x20, // 10\n    0x1a,0xc8,0x68,0x68,0xba,0x8d,0xf8,0x07,\n    0x0a,0x0a,0x0a,0x0a,0x8d,0x78,0x07,0x68, // 20\n    0x68,0x68,0xa8,0x68,0x9a,0x09,0x04,0x48,\n    0x28,0x98,0xac,0x78,0x07,0xae,0xf8,0x07, // 30\n    0x29,0x7f,0x48,0x50,0x0e,0xb8,0xa5,0x36,\n    0xd0,0x04,0xe4,0x37,0xf0,0x0a,0xa9,0x08, // 40\n    0x85,0x38,0x38,0x90,0x16,0x4c,0x50,0xc9,\n    0xa9,0x0b,0x85,0x36,0xa9,0x5e,0x9d,0xb8, // 50\n    0x04,0xa9,0x0a,0x9d,0x38,0x04,0xa9,0x00,\n    0x9d,0x38,0x05,0x68,0xc9,0x25,0xf0,0x5c, // 60\n    0xc9,0x26,0xf0,0x58,0xc9,0x3c,0xf0,0x54,\n    0xc9,0x3e,0xf0,0x50,0xc9,0x23,0xf0,0x4c, // 70\n    0xc9,0x5e,0xf0,0x5a,0xc9,0x21,0xf0,0x4a,\n    0xc9,0x2a,0xf0,0x52,0xa2,0x20,0xc9,0x2c, // 80\n    0xf0,0x52,0xa2,0x28,0xc9,0x2e,0xf0,0x4c,\n    0xa2,0x30,0xc9,0x2f,0xf0,0x46,0xae,0xf8, // 90\n    0x07,0x48,0xbd,0xb8,0x04,0xc9,0x21,0xf0,\n    0x41,0xc9,0x5e,0xf0,0x0e,0x68,0x29,0x1f, // A0\n    0x0a,0x38,0xe9,0x01,0x9d,0x38,0x04,0xa9,\n    0x5e,0xd0,0x23,0x68,0x38,0xe9,0x41,0x30, // B0\n    0x20,0xc9,0x16,0x10,0x1c,0xaa,0xbd,0x8d,\n    0xcb,0x4c,0x04,0xcb,0x9d,0x38,0x05,0x4c, // C0\n    0x2f,0xc9,0xa9,0x20,0x20,0xb7,0xca,0xa9,\n    0x08,0x20,0xb7,0xca,0xa9,0x21,0x9d,0xb8, // D0\n    0x04,0x4c,0x2f,0xc9,0x8a,0x20,0xb7,0xca,\n    0xd0,0xf7,0x68,0xc9,0x0d,0xf0,0x13,0xc9, // E0\n    0x20,0xf0,0x44,0x29,0x0f,0x20,0xcf,0xca,\n    0xf0,0x02,0xa9,0x0a,0x9d,0x38,0x07,0x18, // F0\n    0x90,0x35,0x20,0xcf,0xca,0x7d,0x38,0x07,\n    0x48,0xa9,0x09,0x9d,0x38,0x06,0x20,0xcf, // 00\n    0xca,0x48,0xde,0x38,0x06,0xd0,0xf7,0xa9,\n    0x0a,0x9d,0x38,0x06,0x68,0x20,0xcf,0xca,\n    0xde,0x38,0x06,0xd0,0xf7,0xa9,0x10,0x20,\n    0xb7,0xca,0xd0,0xb2,0xba,0x68,0x68,0x98,\n    0x48,0x68,0x68,0xa9,0x8d,0x48,0x9a,0xae,\n    0xf8,0x07,0xac,0x78,0x07,0xbd,0xb8,0x03,\n    0xdd,0x38,0x07,0xd0,0x0c,0x1d,0x38,0x07,\n    0xf0,0x07,0xc9,0x40,0xd0,0x03,0x99,0x80,\n    0xc0,0x68,0xa8,0x68,0xaa,0x68,0x28,0x60,\n    0x68,0xa9,0x18,0x20,0xb7,0xca,0xa9,0x08,\n    0x20,0xb7,0xca,0xa9,0x09,0x9d,0x38,0x06,\n    0x20,0xcf,0xca,0xc9,0x0a,0x30,0x02,0xa9,\n    0x00,0x48,0xde,0x38,0x06,0xd0,0xf1,0x20,\n    0xcf,0xca,0xc9,0x0d,0x30,0x02,0xa9,0x00,\n    0x48,0xbd,0x38,0x05,0xf0,0x04,0xc9,0x23,\n    0xd0,0x5e,0xa0,0x00,0x68,0xc9,0x0a,0x30,\n    0x04,0xc8,0x38,0xe9,0x0a,0x48,0x98,0xa2,\n    0x00,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0xac,0xf8,0x07,0xb9,0x38,0x05,0xd0,0x2a,\n    0xa9,0xaf,0x20,0xa8,0xca,0x68,0xa0,0x04,\n    0x68,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0x88,0xf0,0x07,0xa9,0x3b,0x20,0xa8,0xca,\n    0xd0,0xee,0xa9,0xa0,0x8d,0x05,0x02,0xb9,\n    0xf3,0xcb,0xf0,0x19,0x20,0xa8,0xca,0xc8,\n    0xd0,0xf5,0xa9,0x00,0x48,0xa0,0x05,0x20,\n    0xaf,0xca,0x68,0x20,0xa6,0xca,0x68,0x20,\n    0xa6,0xca,0x88,0xd0,0xf2,0x4c,0x9a,0xca,\n    0x68,0xaa,0x68,0x0a,0x0a,0xa8,0x8a,0x0a,\n    0x0a,0x48,0xae,0xf8,0x07,0xbd,0x38,0x05,\n    0xa2,0xa0,0xc9,0x3c,0xb0,0x02,0xa2,0xa2,\n    0x8a,0xa2,0x00,0x20,0xa8,0xca,0xb9,0xa3,\n    0xcb,0xc8,0x20,0xa8,0xca,0xc9,0xa0,0xd0,\n    0xf5,0x68,0xa8,0xb9,0xbf,0xcb,0xc8,0x20,\n    0xa8,0xca,0xc9,0xa0,0xd0,0xf5,0x68,0x20,\n    0xa4,0xca,0x68,0x20,0xa6,0xca,0x20,0xb3,\n    0xca,0xa0,0x03,0x68,0x20,0xa4,0xca,0xd0,\n    0x03,0x20,0xa6,0xca,0x68,0x20,0xa6,0xca,\n    0x88,0xf0,0x09,0xa9,0xba,0x20,0xa8,0xca,\n    0x68,0x4c,0x29,0xca,0xac,0xf8,0x07,0xb9,\n    0x38,0x05,0xc9,0x25,0xf0,0x04,0xc9,0x3e,\n    0xd0,0x50,0xa0,0x41,0xad,0x0c,0x02,0xc9,\n    0xa0,0xd0,0x02,0xa9,0x30,0x0a,0x0a,0x0a,\n    0x0a,0x8d,0x20,0x02,0xad,0x0d,0x02,0x29,\n    0x0f,0x0d,0x20,0x02,0xc9,0x12,0x30,0x02,\n    0xa0,0x50,0xc9,0x00,0xd0,0x04,0xa9,0x12,\n    0xd0,0x09,0xc9,0x13,0x30,0x16,0xf8,0x38,\n    0xe9,0x12,0xd8,0xa2,0x0c,0x48,0x20,0xff,\n    0xca,0x29,0x0f,0x20,0xa4,0xca,0x68,0x29,\n    0x0f,0x20,0xa6,0xca,0xa2,0x14,0x20,0xb3,\n    0xca,0x98,0x20,0xa8,0xca,0xa9,0x4d,0x20,\n    0xa8,0xca,0x8a,0xa8,0xa9,0x8d,0x20,0xa8,\n    0xca,0x4c,0x24,0xc9,0xf0,0x0d,0x09,0x30,\n    0x09,0x80,0x9d,0x00,0x02,0xe8,0x60,0xa9,\n    0xac,0xd0,0xf5,0xa9,0xa0,0xd0,0xf1,0x99,\n    0x80,0xc0,0x09,0x04,0x99,0x80,0xc0,0x20,\n    0xc7,0xca,0x49,0x04,0x99,0x80,0xc0,0x20,\n    0xca,0xca,0x48,0x48,0x68,0x68,0x60,0x48,\n    0xa9,0x04,0x9d,0xb8,0x06,0xa9,0x00,0x9d,\n    0xb8,0x05,0xb9,0x80,0xc0,0x0a,0x7e,0xb8,\n    0x05,0x68,0x48,0x29,0x01,0x99,0x80,0xc0,\n    0x09,0x02,0x99,0x80,0xc0,0x49,0x02,0x99,\n    0x80,0xc0,0x68,0x6a,0x48,0xde,0xb8,0x06,\n    0xd0,0xe0,0x68,0xbd,0xb8,0x05,0x18,0x6a,\n    0x6a,0x6a,0x6a,0x60,0x48,0xae,0xf8,0x07,\n    0xbd,0x38,0x04,0x9d,0xb8,0x06,0x20,0x50,\n    0xcb,0x68,0x48,0x20,0x4c,0xcb,0x68,0x48,\n    0x49,0xf8,0x20,0x4c,0xcb,0xa2,0xa0,0x20,\n    0x69,0xcb,0xa2,0xa0,0x20,0x69,0xcb,0xa0,\n    0x18,0x20,0x60,0xcb,0xae,0xf8,0x07,0xde,\n    0xb8,0x06,0xd0,0xda,0x68,0xa0,0xbc,0xca,\n    0xd0,0xfd,0x88,0xd0,0xfa,0x4c,0x2f,0xc9,\n    0x48,0x90,0x05,0x20,0x50,0xcb,0xf0,0x03,\n    0x20,0x59,0xcb,0x68,0x0a,0xd0,0xf1,0x60,\n    0xa2,0x50,0x20,0x69,0xcb,0xa0,0x28,0xd0,\n    0x07,0xa2,0x18,0x20,0x69,0xcb,0xa0,0x44,\n    0xa2,0x13,0xca,0xd0,0xfd,0x88,0xd0,0xf8,\n    0x60,0xac,0x78,0x07,0xa9,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xea,0xea,0xea,0x49,0x20,0x99,0x80,\n    0xc0,0xca,0xd0,0xe0,0x60,0x64,0xe4,0x24,\n    0xa4,0x14,0x94,0x54,0xd4,0x74,0xf4,0x34,\n    0xb4,0x04,0x84,0x44,0xc4,0x2c,0x3c,0x5c,\n    0x4c,0x1c,0x0c,0x53,0x55,0x4e,0x20,0x4d,\n    0x4f,0x4e,0x20,0x54,0x55,0x45,0x20,0x57,\n    0x45,0x44,0x20,0x54,0x48,0x55,0x20,0x46,\n    0x52,0x49,0x20,0x53,0x41,0x54,0x20,0x45,\n    0x52,0x52,0x20,0x4a,0x41,0x4e,0x20,0x46,\n    0x45,0x42,0x20,0x4d,0x41,0x52,0x20,0x41,\n    0x50,0x52,0x20,0x4d,0x41,0x59,0x20,0x4a,\n    0x55,0x4e,0x20,0x4a,0x55,0x4c,0x20,0x41,\n    0x55,0x47,0x20,0x53,0x45,0x50,0x20,0x4f,\n    0x43,0x54,0x20,0x4e,0x4f,0x56,0x20,0x44,\n    0x45,0x43,0x20,0xae,0xb0,0xb0,0xb0,0x00,\n    0xae,0xb0,0xb0,0xb0,0x00,0xa0,0xa0,0xc1,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff\n]) as ReadonlyUint8Array;\n","import { debug, toHex } from '../util';\nimport { Card, Restorable, byte } from '../types';\nimport { rom } from '../roms/cards/thunderclock';\n\nconst LOC = {\n    CONTROL: 0x80,\n    AUX: 0x88\n} as const;\n\nconst COMMANDS = {\n    MASK: 0x18,\n    REGHOLD: 0x00,\n    REGSHIFT: 0x08,\n    TIMED: 0x18\n} as const;\n\nconst FLAGS = {\n    DATA: 0x01,\n    CLOCK: 0x02,\n    STROBE: 0x04\n} as const;\n\nexport interface ThunderclockState {}\n\nexport default class Thunderclock implements Card, Restorable<ThunderclockState>\n{\n    constructor() {\n        debug('Thunderclock');\n    }\n\n    private clock = false;\n    private strobe = false;\n    private shiftMode = false;\n    private register = 0;\n    private bits: boolean[] = [];\n    private command: byte = COMMANDS.REGHOLD;\n\n    private debug(..._args: any[]) {\n        // debug.apply(this, arguments);\n    }\n\n    private calcBits() {\n        const shift = (val: byte) => {\n            for (let idx = 0; idx < 4; idx++) {\n                this.bits.push((val & 0x08) !== 0);\n                val <<= 1;\n            }\n        };\n\n        const shiftBCD = (val: byte) => {\n            shift(Math.floor(val / 10));\n            shift(val % 10);\n        };\n\n        const now = new Date();\n        const day = now.getDate();\n        const weekday = now.getDay();\n        const month = now.getMonth() + 1;\n        const hour = now.getHours();\n        const minutes = now.getMinutes();\n        const seconds = now.getSeconds();\n\n        this.bits = [];\n        shift(month);\n        shift(weekday);\n        shiftBCD(day);\n        shiftBCD(hour);\n        shiftBCD(minutes);\n        shiftBCD(seconds);\n    }\n\n    private shift() {\n        if (this.shiftMode) {\n            if (this.bits.pop()) {\n                this.debug('shifting 1');\n                this.register |= 0x80;\n            } else {\n                this.debug('shifting 0');\n                this.register &= 0x7f;\n            }\n        }\n    }\n\n    private access(off: byte, val?: byte) {\n        switch (off & 0x8F) {\n            case LOC.CONTROL:\n                if (val !== undefined) {\n                    const strobe = val & FLAGS.STROBE ? true : false;\n                    if (strobe !== this.strobe) {\n                        this.debug('strobe', this.strobe ? 'high' : 'low');\n                        if (strobe) {\n                            this.command = val & COMMANDS.MASK;\n                            switch (this.command) {\n                                case COMMANDS.TIMED:\n                                    this.debug('TIMED');\n                                    this.calcBits();\n                                    break;\n                                case COMMANDS.REGSHIFT:\n                                    this.debug('REGSHIFT');\n                                    this.shiftMode = true;\n                                    this.shift();\n                                    break;\n                                case COMMANDS.REGHOLD:\n                                    this.debug('REGHOLD');\n                                    this.shiftMode = false;\n                                    break;\n                                default:\n                                    this.debug('Unknown command', toHex(this.command));\n                            }\n                        }\n                    }\n\n                    const clock = val & FLAGS.CLOCK ? true : false;\n\n                    if (clock !== this.clock) {\n                        this.clock = clock;\n                        this.debug('clock', this.clock ? 'high' : 'low');\n                        if (clock) {\n                            this.shift();\n                        }\n                    }\n                }\n                break;\n            case LOC.AUX:\n                break;\n        }\n        return this.register;\n    }\n\n    read(page: byte, off: byte) {\n        let result;\n        if (page < 0xc8) {\n            result = rom[off];\n        } else {\n            result = rom[(page - 0xc8) << 8 | off];\n        }\n        return result;\n    }\n\n    write() {\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    getState() {\n        return {};\n    }\n\n    setState() {}\n}\n","import { ReadonlyUint8Array } from '../../types';\n\nexport const ROM = new Uint8Array([\n    0xad,0x7b,0x07,0x29,0xf8,0xc9,0x30,0xf0,\n    0x21,0xa9,0x30,0x8d,0x7b,0x07,0x8d,0xfb,\n    0x07,0xa9,0x00,0x8d,0xfb,0x06,0x20,0x61,\n    0xc9,0xa2,0x00,0x8a,0x8d,0xb0,0xc0,0xbd,\n    0xa1,0xc8,0x8d,0xb1,0xc0,0xe8,0xe0,0x10,\n    0xd0,0xf1,0x8d,0x59,0xc0,0x60,0xad,0xfb,\n    0x07,0x29,0x08,0xf0,0x09,0x20,0x93,0xfe,\n    0x20,0x22,0xfc,0x20,0x89,0xfe,0x68,0xa8,\n    0x68,0xaa,0x68,0x60,0x20,0xd1,0xc8,0xe6,\n    0x4e,0xd0,0x02,0xe6,0x4f,0xad,0x00,0xc0,\n    0x10,0xf5,0x20,0x5c,0xc8,0x90,0xf0,0x2c,\n    0x10,0xc0,0x18,0x60,0xc9,0x8b,0xd0,0x02,\n    0xa9,0xdb,0xc9,0x81,0xd0,0x0a,0xad,0xfb,\n    0x07,0x49,0x40,0x8d,0xfb,0x07,0xb0,0xe7,\n    0x48,0xad,0xfb,0x07,0x0a,0x0a,0x68,0x90,\n    0x1f,0xc9,0xb0,0x90,0x1b,0x2c,0x63,0xc0,\n    0x30,0x14,0xc9,0xb0,0xf0,0x0e,0xc9,0xc0,\n    0xd0,0x02,0xa9,0xd0,0xc9,0xdb,0x90,0x08,\n    0x29,0xcf,0xd0,0x04,0xa9,0xdd,0x09,0x20,\n    0x48,0x29,0x7f,0x8d,0x7b,0x06,0x68,0x38,\n    0x60,0x7b,0x50,0x5e,0x29,0x1b,0x08,0x18,\n    0x19,0x00,0x08,0xe0,0x08,0x00,0x00,0x00,\n    0x00,0x8d,0x7b,0x06,0xa5,0x25,0xcd,0xfb,\n    0x05,0xf0,0x06,0x8d,0xfb,0x05,0x20,0x04,\n    0xca,0xa5,0x24,0xcd,0x7b,0x05,0x90,0x03,\n    0x8d,0x7b,0x05,0xad,0x7b,0x06,0x20,0x89,\n    0xca,0xa9,0x0f,0x8d,0xb0,0xc0,0xad,0x7b,\n    0x05,0xc9,0x50,0xb0,0x13,0x6d,0x7b,0x04,\n    0x8d,0xb1,0xc0,0xa9,0x0e,0x8d,0xb0,0xc0,\n    0xa9,0x00,0x6d,0xfb,0x04,0x8d,0xb1,0xc0,\n    0x60,0x49,0xc0,0xc9,0x08,0xb0,0x1d,0xa8,\n    0xa9,0xc9,0x48,0xb9,0xf2,0xcb,0x48,0x60,\n    0xea,0xac,0x7b,0x05,0xa9,0xa0,0x20,0x71,\n    0xca,0xc8,0xc0,0x50,0x90,0xf8,0x60,0xa9,\n    0x34,0x8d,0x7b,0x07,0x60,0xa9,0x32,0xd0,\n    0xf8,0xa0,0xc0,0xa2,0x80,0xca,0xd0,0xfd,\n    0xad,0x30,0xc0,0x88,0xd0,0xf5,0x60,0xac,\n    0x7b,0x05,0xc0,0x50,0x90,0x05,0x48,0x20,\n    0xb0,0xc9,0x68,0xac,0x7b,0x05,0x20,0x71,\n    0xca,0xee,0x7b,0x05,0x2c,0x78,0x04,0x10,\n    0x07,0xad,0x7b,0x05,0xc9,0x50,0xb0,0x68,\n    0x60,0xac,0x7b,0x05,0xad,0xfb,0x05,0x48,\n    0x20,0x07,0xca,0x20,0x04,0xc9,0xa0,0x00,\n    0x68,0x69,0x00,0xc9,0x18,0x90,0xf0,0xb0,\n    0x23,0x20,0x67,0xc9,0x98,0xf0,0xe8,0xa9,\n    0x00,0x8d,0x7b,0x05,0x8d,0xfb,0x05,0xa8,\n    0xf0,0x12,0xce,0x7b,0x05,0x10,0x9d,0xa9,\n    0x4f,0x8d,0x7b,0x05,0xad,0xfb,0x05,0xf0,\n    0x93,0xce,0xfb,0x05,0x4c,0x04,0xca,0xa9,\n    0x30,0x8d,0x7b,0x07,0x68,0x09,0x80,0xc9,\n    0xb1,0xd0,0x67,0xa9,0x08,0x8d,0x58,0xc0,\n    0xd0,0x5b,0xc9,0xb2,0xd0,0x51,0xa9,0xfe,\n    0x2d,0xfb,0x07,0x8d,0xfb,0x07,0x60,0x8d,\n    0x7b,0x06,0x4e,0x78,0x04,0x4c,0xcb,0xc8,\n    0x20,0x27,0xca,0xee,0xfb,0x05,0xad,0xfb,\n    0x05,0xc9,0x18,0x90,0x4a,0xce,0xfb,0x05,\n    0xad,0xfb,0x06,0x69,0x04,0x29,0x7f,0x8d,\n    0xfb,0x06,0x20,0x12,0xca,0xa9,0x0d,0x8d,\n    0xb0,0xc0,0xad,0x7b,0x04,0x8d,0xb1,0xc0,\n    0xa9,0x0c,0x8d,0xb0,0xc0,0xad,0xfb,0x04,\n    0x8d,0xb1,0xc0,0xa9,0x17,0x20,0x07,0xca,\n    0xa0,0x00,0x20,0x04,0xc9,0xb0,0x95,0xc9,\n    0xb3,0xd0,0x0e,0xa9,0x01,0x0d,0xfb,0x07,\n    0xd0,0xa9,0xc9,0xb0,0xd0,0x9c,0x4c,0x09,\n    0xc8,0x4c,0x27,0xc9,0xad,0xfb,0x05,0x8d,\n    0xf8,0x04,0x0a,0x0a,0x6d,0xf8,0x04,0x6d,\n    0xfb,0x06,0x48,0x4a,0x4a,0x4a,0x4a,0x8d,\n    0xfb,0x04,0x68,0x0a,0x0a,0x0a,0x0a,0x8d,\n    0x7b,0x04,0x60,0xc9,0x0d,0xd0,0x06,0xa9,\n    0x00,0x8d,0x7b,0x05,0x60,0x09,0x80,0xc9,\n    0xa0,0xb0,0xce,0xc9,0x87,0x90,0x08,0xa8,\n    0xa9,0xc9,0x48,0xb9,0xb9,0xc9,0x48,0x60,\n    0x18,0x71,0x13,0xb2,0x48,0x60,0xaf,0x9d,\n    0xf2,0x13,0x13,0x13,0x13,0x13,0x13,0x13,\n    0x13,0x13,0x66,0x0e,0x13,0x38,0x00,0x14,\n    0x7b,0x18,0x98,0x6d,0x7b,0x04,0x48,0xa9,\n    0x00,0x6d,0xfb,0x04,0x48,0x0a,0x29,0x0c,\n    0xaa,0xbd,0xb0,0xc0,0x68,0x4a,0x68,0xaa,\n    0x60,0x0a,0x48,0xad,0xfb,0x07,0x4a,0x68,\n    0x6a,0x48,0x20,0x59,0xca,0x68,0xb0,0x05,\n    0x9d,0x00,0xcc,0x90,0x03,0x9d,0x00,0xcd,\n    0x60,0x48,0xa9,0xf7,0x20,0xa0,0xc9,0x8d,\n    0x59,0xc0,0xad,0x7b,0x07,0x29,0x07,0xd0,\n    0x04,0x68,0x4c,0x23,0xca,0x29,0x04,0xf0,\n    0x03,0x4c,0x87,0xc9,0x68,0x38,0xe9,0x20,\n    0x29,0x7f,0x48,0xce,0x7b,0x07,0xad,0x7b,\n    0x07,0x29,0x03,0xd0,0x15,0x68,0xc9,0x18,\n    0xb0,0x03,0x8d,0xfb,0x05,0xad,0xf8,0x05,\n    0xc9,0x50,0xb0,0x03,0x8d,0x7b,0x05,0x4c,\n    0x04,0xca,0x68,0x8d,0xf8,0x05,0x60,0xad,\n    0x00,0xc0,0xc9,0x93,0xd0,0x0f,0x2c,0x10,\n    0xc0,0xad,0x00,0xc0,0x10,0xfb,0xc9,0x83,\n    0xf0,0x03,0x2c,0x10,0xc0,0x60,0xa8,0xb9,\n    0x31,0xcb,0x20,0xf1,0xc8,0x20,0x44,0xc8,\n    0xc9,0xce,0xb0,0x08,0xc9,0xc9,0x90,0x04,\n    0xc9,0xcc,0xd0,0xea,0x4c,0xf1,0xc8,0xea,\n    0x2c,0xcb,0xff,0x70,0x31,0x38,0x90,0x18,\n    0xb8,0x50,0x2b,0x01,0x82,0x11,0x14,0x1c,\n    0x22,0x4c,0x00,0xc8,0x20,0x44,0xc8,0x29,\n    0x7f,0xa2,0x00,0x60,0x20,0xa7,0xc9,0xa2,\n    0x00,0x60,0xc9,0x00,0xf0,0x09,0xad,0x00,\n    0xc0,0x0a,0x90,0x03,0x20,0x5c,0xc8,0xa2,\n    0x00,0x60,0x91,0x28,0x38,0xb8,0x8d,0xff,\n    0xcf,0x48,0x85,0x35,0x8a,0x48,0x98,0x48,\n    0xa5,0x35,0x86,0x35,0xa2,0xc3,0x8e,0x78,\n    0x04,0x48,0x50,0x10,0xa9,0x32,0x85,0x38,\n    0x86,0x39,0xa9,0x07,0x85,0x36,0x86,0x37,\n    0x20,0x00,0xc8,0x18,0x90,0x6f,0x68,0xa4,\n    0x35,0xf0,0x1f,0x88,0xad,0x78,0x06,0xc9,\n    0x88,0xf0,0x17,0xd9,0x00,0x02,0xf0,0x12,\n    0x49,0x20,0xd9,0x00,0x02,0xd0,0x3b,0xad,\n    0x78,0x06,0x99,0x00,0x02,0xb0,0x03,0x20,\n    0xed,0xca,0xa9,0x80,0x20,0xf5,0xc9,0x20,\n    0x44,0xc8,0xc9,0x9b,0xf0,0xf1,0xc9,0x8d,\n    0xd0,0x05,0x48,0x20,0x01,0xc9,0x68,0xc9,\n    0x95,0xd0,0x12,0xac,0x7b,0x05,0x20,0x59,\n    0xca,0xb0,0x05,0xbd,0x00,0xcc,0x90,0x03,\n    0xbd,0x00,0xcd,0x09,0x80,0x8d,0x78,0x06,\n    0xd0,0x08,0x20,0x44,0xc8,0xa0,0x00,0x8c,\n    0x78,0x06,0xba,0xe8,0xe8,0xe8,0x9d,0x00,\n    0x01,0xa9,0x00,0x85,0x24,0xad,0xfb,0x05,\n    0x85,0x25,0x4c,0x2e,0xc8,0x68,0xac,0xfb,\n    0x07,0x10,0x08,0xac,0x78,0x06,0xc0,0xe0,\n    0x90,0x01,0x98,0x20,0xb1,0xc8,0x20,0xcf,\n    0xca,0xa9,0x7f,0x20,0xa0,0xc9,0xad,0x7b,\n    0x05,0xe9,0x47,0x90,0xd4,0x69,0x1f,0x18,\n    0x90,0xd1,0x60,0x38,0x71,0xb2,0x7b,0x00,\n    0x48,0x66,0xc4,0xc2,0xc1,0xff,0xc3,0xea,\n]) as ReadonlyUint8Array;\n\nexport const VIDEO_ROM = new Uint8Array([\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0xff,0xff,0xff,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,\n    0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xe0,0x90,0xe0,0x9e,0xf0,0x0c,0x02,0x1c,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x90,0x90,0xf0,0x90,0xbe,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x80,0x80,0x80,0x9e,0xf0,0x18,0x10,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x88,0x88,0x50,0x20,0x3e,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xf0,0x80,0xc0,0x9e,0x90,0x18,0x10,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x80,0x7c,0x12,0x1c,0x14,0x12,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x60,0x10,0xec,0x12,0x12,0x0c,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x70,0x80,0x60,0x1e,0xe4,0x04,0x04,0x0e,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0x08,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0x0f,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x0f,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x0f,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0xf8,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0xff,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x08,0xff,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0xf8,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0xf8,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0xff,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0xff,0x08,0x08,0x08,\n    0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x18,0x18,0x18,0x00,0x18,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x36,0x36,0x12,0x24,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x24,0x24,0x7e,0x24,0x7e,0x24,0x24,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x3e,0x48,0x3c,0x12,0x7c,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x62,0x94,0x68,0x10,0x2c,0x52,0x8c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x20,0x50,0x50,0x62,0x94,0x88,0x76,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x08,0x10,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0c,0x10,0x20,0x20,0x20,0x10,0x0c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x30,0x08,0x04,0x04,0x04,0x08,0x30,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x10,0x92,0x54,0x38,0x54,0x92,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x10,0x10,0xfe,0x10,0x10,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x18,0x18,0x08,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x7e,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x18,0x18,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x02,0x04,0x08,0x10,0x20,0x40,0x80,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x8a,0x92,0xa2,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x38,0x08,0x08,0x08,0x08,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x02,0x1c,0x20,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x04,0x08,0x1c,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x04,0x0c,0x14,0x24,0x7e,0x04,0x04,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x7c,0x02,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1e,0x20,0x40,0x7c,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x02,0x04,0x08,0x10,0x20,0x20,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x42,0x3c,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x42,0x3e,0x02,0x04,0x78,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x18,0x18,0x00,0x18,0x18,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x18,0x18,0x00,0x18,0x18,0x08,0x10,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x06,0x18,0x60,0x18,0x06,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7e,0x00,0x7e,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x60,0x18,0x06,0x18,0x60,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x02,0x0c,0x10,0x00,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x9a,0xaa,0x94,0x40,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x24,0x42,0x42,0x7e,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x42,0x42,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x40,0x40,0x40,0x22,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x78,0x44,0x42,0x42,0x42,0x44,0x78,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x40,0x78,0x40,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7e,0x40,0x40,0x78,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x40,0x4e,0x42,0x22,0x1e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x42,0x42,0x7e,0x42,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x08,0x08,0x08,0x08,0x08,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0e,0x04,0x04,0x04,0x04,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x44,0x48,0x50,0x68,0x44,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x40,0x40,0x40,0x40,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0xc6,0xaa,0x92,0x82,0x82,0x82,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x62,0x52,0x4a,0x46,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x82,0x82,0x82,0x44,0x38,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x38,0x44,0x82,0x82,0x8a,0x44,0x3a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x7c,0x42,0x42,0x7c,0x48,0x44,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3c,0x42,0x40,0x3c,0x02,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xfe,0x10,0x10,0x10,0x10,0x10,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x42,0x42,0x42,0x42,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x82,0x44,0x44,0x28,0x28,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x82,0x82,0x82,0x92,0xaa,0x44,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x44,0x28,0x10,0x28,0x44,0x82,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x82,0x44,0x28,0x10,0x10,0x10,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0xfe,0x04,0x08,0x10,0x20,0x40,0xfe,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3e,0x30,0x30,0x30,0x30,0x30,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x3e,0x06,0x06,0x06,0x06,0x06,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x1c,0x2a,0x08,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xfe,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x18,0x10,0x08,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0xf8,0x04,0x7c,0x84,0x7a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x7c,0x42,0x42,0x42,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x40,0x40,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x02,0x02,0x3e,0x42,0x42,0x42,0x3e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x7e,0x40,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x1c,0x22,0x20,0x78,0x20,0x20,0x20,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x02,0x3c,0x42,0x42,0x3e,0x02,0x42,\n    0x3c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x5c,0x62,0x42,0x42,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x00,0x08,0x08,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x04,0x00,0x04,0x04,0x04,0x04,0x04,0x24,\n    0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x40,0x40,0x46,0x58,0x60,0x58,0x46,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x18,0x08,0x08,0x08,0x08,0x08,0x1c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0xec,0x92,0x92,0x92,0x92,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x5c,0x22,0x22,0x22,0x22,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3c,0x42,0x42,0x42,0x3c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7c,0x42,0x42,0x42,0x7c,0x40,\n    0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3e,0x42,0x42,0x42,0x3e,0x02,\n    0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x5c,0x62,0x40,0x40,0x40,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x3e,0x40,0x3c,0x02,0x7c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x10,0x3e,0x10,0x10,0x10,0x0e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x44,0x44,0x44,0x44,0x3a,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x44,0x28,0x10,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x92,0xaa,0x44,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x42,0x24,0x18,0x24,0x42,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x82,0x82,0x44,0x28,0x10,0x20,\n    0xc0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x7e,0x04,0x18,0x20,0x7e,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x0c,0x10,0x08,0x30,0x08,0x10,0x0c,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x08,0x08,0x08,0x00,0x08,0x08,0x08,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x30,0x08,0x10,0x0c,0x10,0x08,0x30,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x60,0x92,0x0c,0x00,0x00,0x00,0x00,0x00,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n    0x24,0x48,0x92,0x24,0x48,0x92,0x24,0x48,\n    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,\n]) as ReadonlyUint8Array;\n","import { allocMemPages, debug } from '../util';\nimport { Card, Restorable, byte, Color, memory, word } from '../types';\nimport { ROM, VIDEO_ROM } from '../roms/cards/videoterm';\n\ninterface VideotermState {\n    curReg: byte,\n    startPos: word,\n    cursorPos: word,\n    bank: byte,\n    buffer: memory,\n    regs: byte[],\n}\n\nconst LOC = {\n    IOREG: 0x80,\n    IOVAL: 0x81\n} as const;\n\nconst REGS = {\n    CURSOR_UPPER: 0x0A,\n    CURSOR_LOWER: 0x0B,\n    STARTPOS_HI: 0x0C,\n    STARTPOS_LO: 0x0D,\n    CURSOR_HI: 0x0E,\n    CURSOR_LO: 0x0F,\n    LIGHTPEN_HI: 0x10,\n    LIGHTPEN_LO: 0x11\n} as const;\n\nconst CURSOR_MODES = {\n    SOLID: 0x00,\n    HIDDEN: 0x01,\n    BLINK: 0x10,\n    FAST_BLINK: 0x11\n} as const;\n\nconst BLACK: Color = [0x00, 0x00, 0x00];\nconst WHITE: Color = [0xff, 0xff, 0xff];\n\nexport default class Videoterm implements Card, Restorable<VideotermState> {\n    private regs = [\n        0x7b, // 00 - Horiz. total\n        0x50, // 01 - Horiz. displayed\n        0x62, // 02 - Horiz. sync pos\n        0x29, // 03 - Horiz. sync width\n        0x1b, // 04 - Vert. total\n        0x08, // 05 - Vert. adjust\n        0x18, // 06 - Vert. displayed\n        0x19, // 07 - Vert. sync pos\n        0x00, // 08 - Interlaced\n        0x08, // 09 - Max. scan line\n        0xc0, // 0A - Cursor upper\n        0x08, // 0B - Cursor lower\n        0x00, // 0C - Startpos Hi\n        0x00, // 0D - Startpos Lo\n        0x00, // 0E - Cursor Hi\n        0x00, // 0F - Cursor Lo\n        0x00, // 10 - Lightpen Hi\n        0x00  // 11 - Lightpen Lo\n    ];\n\n    private blink = false;\n    private curReg = 0;\n    private startPos: word;\n    private cursorPos: word;\n    private shouldRefresh: boolean;\n\n    // private cursor = 0;\n    private bank = 0;\n    private buffer = allocMemPages(8);\n    private imageData;\n    private dirty = false;\n\n    constructor() {\n        debug('Videx Videoterm');\n\n        this.imageData = new ImageData(560, 192);\n        for (let idx = 0; idx < 560 * 192 * 4; idx++) {\n            this.imageData.data[idx] = 0xff;\n        }\n\n        for (let idx = 0; idx < 0x800; idx++) {\n            this.buffer[idx] = idx & 0xff;\n        }\n\n        this.refresh();\n\n        setInterval(() => {\n            this.blink = !this.blink;\n            this.refreshCursor(false);\n        }, 300);\n    }\n\n    private updateBuffer(addr: word, val: byte) {\n        this.buffer[addr] = val;\n        val &= 0x7f; // XXX temp\n        const saddr = (0x800 + addr - this.startPos) & 0x7ff;\n        const data = this.imageData.data;\n        const row = (saddr / 80) & 0xff;\n        const col = saddr % 80;\n        const x = col * 7;\n        const y = row << 3;\n        const c = val << 4;\n        let color;\n\n        if (row < 25) {\n            this.dirty = true;\n            for (let idx = 0; idx < 8; idx++) {\n                let cdata = VIDEO_ROM[c + idx];\n                for (let jdx = 0; jdx < 7; jdx++) {\n                    if (cdata & 0x80) {\n                        color = WHITE;\n                    } else {\n                        color = BLACK;\n                    }\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4] = color[0];\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 1] = color[1];\n                    data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 2] = color[2];\n                    cdata <<= 1;\n                }\n            }\n        }\n    }\n\n    private refreshCursor(fromRegs: boolean) {\n        const addr = this.regs[REGS.CURSOR_HI] << 8 | this.regs[REGS.CURSOR_LO];\n        const saddr = (0x800 + addr - this.startPos) & 0x7ff;\n        const data = this.imageData.data;\n        const row = (saddr / 80) & 0xff;\n        const col = saddr % 80;\n        const x = col * 7;\n        const y = row << 3;\n        const blinkmode = (this.regs[REGS.CURSOR_UPPER] & 0x60) >> 5;\n\n        if (fromRegs) {\n            if (addr !== this.cursorPos) {\n                const caddr = (0x800 + this.cursorPos - this.startPos) & 0x7ff;\n                this.updateBuffer(caddr, this.buffer[caddr]);\n                this.cursorPos = addr;\n            }\n        }\n\n        this.updateBuffer(addr, this.buffer[addr]);\n        if (blinkmode === CURSOR_MODES.HIDDEN) {\n            return;\n        }\n        if (this.blink || (blinkmode === CURSOR_MODES.SOLID)) {\n            this.dirty = true;\n            for (let idx = 0; idx < 8; idx++) {\n                const color = WHITE;\n                if (idx >= (this.regs[REGS.CURSOR_UPPER] & 0x1f) &&\n                    idx <= (this.regs[REGS.CURSOR_LOWER] & 0x1f)) {\n                    for (let jdx = 0; jdx < 7; jdx++) {\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4] = color[0];\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 1] = color[1];\n                        data[(y + idx) * 560 * 4 + (x + jdx) * 4 + 2] = color[2];\n                    }\n                }\n            }\n        }\n    }\n\n    private updateStartPos() {\n        const startPos =\n            this.regs[REGS.STARTPOS_HI] << 8 |\n            this.regs[REGS.STARTPOS_LO];\n        if (this.startPos != startPos) {\n            this.startPos = startPos;\n            this.shouldRefresh = true;\n        }\n    }\n\n    private refresh() {\n        for (let idx = 0; idx < 0x800; idx++) {\n            this.updateBuffer(idx, this.buffer[idx]);\n        }\n    }\n\n    private access(off: byte, val?: byte) {\n        let result = undefined;\n        switch (off & 0x81) {\n            case LOC.IOREG:\n                if (val !== undefined) {\n                    this.curReg = val;\n                } else {\n                    result = this.curReg;\n                }\n                break;\n            case LOC.IOVAL:\n                if (val !== undefined) {\n                    this.regs[this.curReg] = val;\n                    switch (this.curReg) {\n                        case REGS.CURSOR_UPPER:\n                        case REGS.CURSOR_LOWER:\n                            this.refreshCursor(true);\n                            break;\n                        case REGS.CURSOR_HI:\n                        case REGS.CURSOR_LO:\n                            this.refreshCursor(true);\n                            break;\n                        case REGS.STARTPOS_HI:\n                        case REGS.STARTPOS_LO:\n                            this.updateStartPos();\n                            break;\n                    }\n                } else {\n                    result = this.regs[this.curReg];\n                }\n                break;\n        }\n        this.bank = (off & 0x0C) >> 2;\n        return result;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        return this.access(off, val);\n    }\n\n    read(page: byte, off: byte) {\n        if (page < 0xcc) {\n            return ROM[(page & 0x03) << 8 | off];\n        } else if (page < 0xce){\n            const addr = ((page & 0x01) + (this.bank << 1)) << 8 | off;\n            return this.buffer[addr];\n        }\n        return 0;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        if (page > 0xcb && page < 0xce) {\n            const addr = ((page & 0x01) + (this.bank << 1)) << 8 | off;\n            this.updateBuffer(addr, val);\n        }\n    }\n\n    blit() {\n        if (this.shouldRefresh) {\n            this.refresh();\n            this.shouldRefresh = false;\n        }\n        if (this.dirty) {\n            this.dirty = false;\n            return this.imageData;\n        }\n        return;\n    }\n\n    getState() {\n        return {\n            curReg: this.curReg,\n            startPos: this.startPos,\n            cursorPos: this.cursorPos,\n            bank: this.bank,\n            buffer: new Uint8Array(this.buffer),\n            regs: [...this.regs],\n        };\n    }\n\n    setState(state: VideotermState) {\n        this.curReg = state.curReg;\n        this.startPos = state.startPos;\n        this.cursorPos = state.cursorPos;\n        this.bank = state.bank;\n        this.buffer = new Uint8Array(this.buffer);\n        this.regs = [...state.regs];\n\n        this.shouldRefresh = true;\n        this.dirty = true;\n    }\n}\n","import CPU6502 from './cpu6502';\nimport { Card, Memory, MemoryPages, TapeData, byte, Restorable } from './types';\nimport { debug, garbage } from './util';\nimport { VideoModes } from './videomodes';\n\ntype slot = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7;\ntype button = 0 | 1 | 2;\ntype paddle = 0 | 1 | 2 | 3;\ntype annunciator = 0 | 1 | 2 | 3;\n\ninterface Annunciators {\n    0: boolean,\n    1: boolean,\n    2: boolean,\n    3: boolean,\n}\n\nexport interface Apple2IOState {\n    annunciators: Annunciators;\n    cards: Array<any | null>\n}\n\nexport type SampleListener = (sample: number[]) => void;\n\nconst LOC = {\n    KEYBOARD: 0x00, // keyboard data (latched) (Read),\n    STROBE: 0x10, // clear bit 7 of keyboard data ($C000)\n    TAPEOUT: 0x20, // toggle the cassette output.\n    SPEAKER: 0x30, // toggle speaker diaphragm\n    C040STB: 0x40, // trigger game port sync\n    CLRTEXT: 0x50, // display graphics\n    SETTEXT: 0x51, // display text\n    CLRMIXED: 0x52, // clear mixed mode- enable full graphics\n    SETMIXED: 0x53, // enable graphics/text mixed mode\n    PAGE1: 0x54, // select text/graphics page1\n    PAGE2: 0x55, // select text/graphics page2\n    CLRHIRES: 0x56, // select Lo-res\n    SETHIRES: 0x57, // select Hi-res\n    CLRAN0: 0x58, // Set annunciator-0 output to 0\n    SETAN0: 0x59, // Set annunciator-0 output to 1\n    CLRAN1: 0x5A, // Set annunciator-1 output to 0\n    SETAN1: 0x5B, // Set annunciator-1 output to 1\n    CLRAN2: 0x5C, // Set annunciator-2 output to 0\n    SETAN2: 0x5D, // Set annunciator-2 output to 1\n    CLRAN3: 0x5E, // Set annunciator-3 output to 0\n    SETAN3: 0x5F, // Set annunciator-3 output to 1\n    TAPEIN: 0x60, // bit 7: data from cassette\n    PB0: 0x61, // game Pushbutton 0 / open apple (command) key data\n    PB1: 0x62, // game Pushbutton 1 / closed apple (option) key data\n    PB2: 0x63, // game Pushbutton 2 (read)\n    PADDLE0: 0x64, // bit 7: status of pdl-0 timer (read)\n    PADDLE1: 0x65, // bit 7: status of pdl-1 timer (read)\n    PADDLE2: 0x66, // bit 7: status of pdl-2 timer (read)\n    PADDLE3: 0x67, // bit 7: status of pdl-3 timer (read)\n    PDLTRIG: 0x70, // trigger paddles\n    ACCEL: 0x74, // CPU Speed control\n};\n\nexport default class Apple2IO implements MemoryPages, Restorable<Apple2IOState> {\n    private _slot: Array<Card | null> = new Array(7).fill(null);\n    private _auxRom: Memory | null = null;\n\n    private _khz = 1023;\n    private _rate = 44000;\n    private _sample_size = 4096;\n\n    private _cycles_per_sample: number;\n\n    private _buffer: string[] = [];\n    private _key = 0;\n    private _keyDown = false;\n    private _button = [false, false, false];\n    private _paddle = [0.0, 0.0, 0.0, 0.0];\n    private _phase = -1;\n    private _sample: number[] = [];\n    private _sampleIdx = 0;\n    private _sampleTime = 0;\n    private _didAudio = false;\n\n    private _high = 0.5;\n    private _low = -0.5;\n\n    private _audioListener: SampleListener | undefined;\n\n    private _trigger = 0;\n    private _annunciators: Annunciators = [false, false, false, false];\n\n    private _tape: TapeData = [];\n    private _tapeOffset = 0;\n    private _tapeNext: number = 0;\n    private _tapeCurrent = false;\n\n    constructor(private readonly cpu: CPU6502, private readonly vm: VideoModes) {\n        this.init();\n    }\n\n    init() {\n        this._calcSampleRate();\n    }\n\n    _debug(..._args: any[]) {\n        // debug.apply(this, arguments);\n    }\n\n    _tick() {\n        const now = this.cpu.getCycles();\n        const phase = this._didAudio ? (this._phase > 0 ? this._high : this._low) : 0.0;\n        for (; this._sampleTime < now; this._sampleTime += this._cycles_per_sample) {\n            this._sample[this._sampleIdx++] = phase;\n            if (this._sampleIdx === this._sample_size) {\n                if (this._audioListener) {\n                    this._audioListener(this._sample);\n                }\n                this._sample = new Array(this._sample_size);\n                this._sampleIdx = 0;\n            }\n        }\n        this._didAudio = false;\n    }\n\n    _calcSampleRate() {\n        this._cycles_per_sample = this._khz * 1000 / this._rate;\n    }\n\n    _updateKHz(khz: number) {\n        this._khz = khz;\n        this._calcSampleRate();\n    }\n\n    _access(off: byte, val?: byte): byte | undefined {\n        let result: number | undefined = 0;\n        const now = this.cpu.getCycles();\n        const writeMode = val === undefined;\n        const delta = now - this._trigger;\n        switch (off) {\n            case LOC.CLRTEXT:\n                this._debug('Graphics Mode');\n                this.vm.text(false);\n                break;\n            case LOC.SETTEXT:\n                this._debug('Text Mode');\n                this.vm.text(true);\n                break;\n            case LOC.CLRMIXED:\n                this._debug('Mixed Mode off');\n                this.vm.mixed(false);\n                break;\n            case LOC.SETMIXED:\n                this._debug('Mixed Mode on');\n                this.vm.mixed(true);\n                break;\n            case LOC.CLRHIRES:\n                this._debug('LoRes Mode');\n                this.vm.hires(false);\n                break;\n            case LOC.SETHIRES:\n                this._debug('HiRes Mode');\n                this.vm.hires(true);\n                break;\n            case LOC.PAGE1:\n                this.vm.page(1);\n                break;\n            case LOC.PAGE2:\n                this.vm.page(2);\n                break;\n            case LOC.SETAN0:\n                this._debug('Annunciator 0 on');\n                this._annunciators[0] = true;\n                break;\n            case LOC.SETAN1:\n                this._debug('Annunciator 1 on');\n                this._annunciators[1] = true;\n                break;\n            case LOC.SETAN2:\n                this._debug('Annunciator 2 on');\n                this._annunciators[2] = true;\n                break;\n            case LOC.SETAN3:\n                this._debug('Annunciator 3 on');\n                this._annunciators[3] = true;\n                break;\n            case LOC.CLRAN0:\n                this._debug('Annunciator 0 off');\n                this._annunciators[0] = false;\n                break;\n            case LOC.CLRAN1:\n                this._debug('Annunciator 1 off');\n                this._annunciators[1] = false;\n                break;\n            case LOC.CLRAN2:\n                this._debug('Annunciator 2 off');\n                this._annunciators[2] = false;\n                break;\n            case LOC.CLRAN3:\n                this._debug('Annunciator 3 off');\n                this._annunciators[3] = false;\n                break;\n            case LOC.PB0:\n                result = this._button[0] ? 0x80 : 0;\n                break;\n            case LOC.PB1:\n                result = this._button[1] ? 0x80 : 0;\n                break;\n            case LOC.PB2:\n                result = this._button[2] ? 0x80 : 0;\n                break;\n            case LOC.PADDLE0:\n                result = (delta < (this._paddle[0] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE1:\n                result = (delta < (this._paddle[1] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE2:\n                result = (delta < (this._paddle[2] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.PADDLE3:\n                result = (delta < (this._paddle[3] * 2756) ? 0x80 : 0x00);\n                break;\n            case LOC.ACCEL:\n                if (val !== undefined) {\n                    this._updateKHz(val & 0x01 ? 1023 : 4096);\n                }\n                break;\n            case LOC.TAPEIN:\n                if (this._tapeOffset == -1) {\n                    this._tapeOffset = 0;\n                    this._tapeNext = now;\n                }\n\n                if (this._tapeOffset < this._tape.length) {\n                    this._tapeCurrent = this._tape[this._tapeOffset][1];\n                    while (now >= this._tapeNext) {\n                        if ((this._tapeOffset % 1000) === 0) {\n                            debug('Read ' + (this._tapeOffset / 1000));\n                        }\n                        this._tapeCurrent = this._tape[this._tapeOffset][1];\n                        this._tapeNext += this._tape[this._tapeOffset++][0];\n                    }\n\n                }\n\n                result = this._tapeCurrent ? 0x80 : 0x00;\n                break;\n\n            default:\n                switch (off & 0xf0) {\n                    case LOC.KEYBOARD: // C00x\n                        result = this._key;\n                        break;\n                    case LOC.STROBE: // C01x\n                        if (off === LOC.STROBE || writeMode) {\n                            this._key &= 0x7f;\n                        }\n                        if (this._buffer.length > 0) {\n                            let val = this._buffer.shift() as string;\n                            if (val == '\\n') {\n                                val = '\\r';\n                            }\n                            this._key = val.charCodeAt(0) | 0x80;\n                        }\n                        result = this._key & 0x7f;\n                        if (off === LOC.STROBE) {\n                            result |= this._keyDown ? 0x80 : 0x00;\n                        }\n                        break;\n                    case LOC.TAPEOUT: // C02x\n                        // this._phase = -this._phase;\n                        // this._didAudio = true;\n                        // this._tick();\n                        break;\n                    case LOC.SPEAKER: // C03x\n                        this._phase = -this._phase;\n                        this._didAudio = true;\n                        this._tick();\n                        break;\n                    case LOC.C040STB: // C04x\n                        // I/O Strobe\n                        break;\n                    case LOC.PDLTRIG: // C07x\n                        this._trigger = this.cpu.getCycles();\n                        break;\n                }\n        }\n\n        if (val !== undefined) {\n            result = undefined;\n        }\n\n        return result;\n    }\n\n    start() {\n        return 0xc0;\n    }\n\n    end() {\n        return 0xcf;\n    }\n\n    ioSwitch(off: byte, val?: byte) {\n        let result;\n        if (off < 0x80) {\n            result = this._access(off, val);\n        } else {\n            const slot = (off & 0x70) >> 4;\n            const card = this._slot[slot];\n            if (card && card.ioSwitch) {\n                result = card.ioSwitch(off, val);\n            }\n        }\n\n        return result;\n    }\n\n    reset() {\n        for (let slot = 0; slot < 8; slot++) {\n            const card = this._slot[slot];\n            if (card) {\n                card.reset?.();\n            }\n        }\n        this.vm.reset();\n    }\n\n    blit() {\n        const card = this._slot[3];\n        if (card) {\n            return card.blit?.();\n        }\n        return undefined;\n    }\n\n    read(page: byte, off: byte) {\n        let result: number = 0;\n        let slot;\n        let card;\n\n        switch (page) {\n            case 0xc0:\n                result = this.ioSwitch(off, undefined) || 0;\n                break;\n            case 0xc1:\n            case 0xc2:\n            case 0xc3:\n            case 0xc4:\n            case 0xc5:\n            case 0xc6:\n            case 0xc7:\n                slot = page & 0x0f;\n                card = this._slot[slot];\n                if (this._auxRom != card) {\n                // _debug('Setting auxRom to slot', slot);\n                    this._auxRom = card;\n                }\n                if (card) {\n                    result = card.read(page, off);\n                } else {\n                    result = garbage();\n                }\n                break;\n            default:\n                if (this._auxRom) {\n                    result = this._auxRom.read(page, off);\n                }\n                break;\n        }\n        return result;\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        let slot;\n        let card;\n\n        switch (page) {\n            case 0xc0:\n                this.ioSwitch(off, val);\n                break;\n            case 0xc1:\n            case 0xc2:\n            case 0xc3:\n            case 0xc4:\n            case 0xc5:\n            case 0xc6:\n            case 0xc7:\n                slot = page & 0x0f;\n                card = this._slot[slot];\n                if (this._auxRom != card) {\n                // _debug('Setting auxRom to slot', slot);\n                    this._auxRom = card;\n                }\n                if (card) {\n                    card.write(page, off, val);\n                }\n                break;\n            default:\n                if (this._auxRom) {\n                    this._auxRom.write(page, off, val);\n                }\n                break;\n        }\n    }\n\n    getState(): Apple2IOState {\n        // TODO vet more potential state\n        return {\n            annunciators: this._annunciators,\n            cards: this._slot.map((card) => card ? card.getState() : null)\n        };\n    }\n\n    setState(state: Apple2IOState) {\n        this._annunciators = state.annunciators;\n        state.cards.map((cardState, idx) => this._slot[idx]?.setState(cardState));\n    }\n\n    setSlot(slot: slot, card: Card) {\n        this._slot[slot] = card;\n    }\n\n    keyDown(ascii: byte) {\n        this._keyDown = true;\n        this._key = ascii | 0x80;\n    }\n\n    keyUp() {\n        this._keyDown = false;\n    }\n\n    buttonDown(b: button) {\n        this._button[b] = true;\n    }\n\n    buttonUp(b: button) {\n        this._button[b] = false;\n    }\n\n    paddle(p: paddle, v: byte) {\n        this._paddle[p] = v;\n    }\n\n    updateKHz(khz: number) {\n        this._updateKHz(khz);\n    }\n\n    getKHz() {\n        return this._khz;\n    }\n\n    setKeyBuffer(buffer: string) {\n        this._buffer = buffer.split(''); // split to charaters\n        if (this._buffer.length > 0) {\n            this._keyDown = true;\n            const key = this._buffer.shift() as string; // never undefined\n            this._key = key.charCodeAt(0) | 0x80;\n        }\n    }\n\n    setTape(tape: TapeData) {\n        debug('Tape length: ' + tape.length);\n        this._tape = tape;\n        this._tapeOffset = -1;\n    }\n\n    sampleRate(rate: number, sample_size: number) {\n        this._rate = rate;\n        this._sample_size = sample_size;\n        this._sample = new Array(this._sample_size);\n        this._sampleIdx = 0;\n        this._calcSampleRate();\n    }\n\n    tick() {\n        this._tick();\n        for (let idx = 0; idx < 8; idx++) {\n            this._slot[idx]?.tick?.();\n        }\n    }\n\n    addSampleListener(cb: SampleListener) {\n        this._audioListener = cb;\n    }\n\n    annunciator(idx: annunciator) {\n        return this._annunciators[idx];\n    }\n\n    cycles() {\n        return this.cpu.getCycles();\n    }\n}\n","import { byte, Color, memory, MemoryPages, rom } from './types';\nimport { allocMemPages } from './util';\nimport {\n    GraphicsState,\n    HiresPage,\n    LoresPage,\n    Region,\n    VideoModes,\n    VideoModesState,\n    bank,\n    pageNo\n} from './videomodes';\n\nconst dim = (c: Color): Color => {\n    return [\n        c[0] * 0.75 & 0xff,\n        c[1] * 0.75 & 0xff,\n        c[2] * 0.75 & 0xff\n    ];\n};\n\n// hires colors\nconst orangeCol: Color = [255, 106, 60];\nconst greenCol: Color = [20, 245, 60];\nconst blueCol: Color = [20, 207, 253];\nconst violetCol: Color = [255, 68, 253];\nconst whiteCol: Color = [255, 255, 255];\nconst blackCol: Color = [0, 0, 0];\n\n// lores colors\nconst _colors: Color[] = [\n    [0, 0, 0], // 0x0 black\n    [227, 30, 96], // 0x1 deep red\n    [96, 78, 189], // 0x2 dark blue\n    [255, 68, 253], // 0x3 purple\n    [0, 163, 96], // 0x4 dark green\n    [156, 156, 156], // 0x5 dark gray\n    [20, 207, 253], // 0x6 medium blue\n    [208, 195, 255], // 0x7 light blue\n    [96, 114, 3], // 0x8 brown\n    [255, 106, 60], // 0x9 orange\n    [156, 156, 156], // 0xa light gray\n    [255, 160, 208], // 0xb pink\n    [20, 245, 60], // 0xc green\n    [208, 221, 141], // 0xd yellow\n    [114, 255, 208], // 0xe aquamarine\n    [255, 255, 255], // 0xf white\n];\n\n//\nconst r4 = [\n    0,   // Black\n    2,   // Dark Blue\n    4,   // Dark Green\n    6,   // Medium Blue\n\n    8,   // Brown\n    5,   // Gray 1\n    12,  // Light Green\n    14,  // Aqua\n\n    1,   // Red\n    3,   // Purple\n    10,  // Gray 2\n    7,  // Pink\n\n    9,   // Orange\n    11,   // Light Blue\n    13,  // Yellow\n    15   // White\n] as const;\n\nconst dcolors: Color[] = [\n    [0, 0, 0], // 0x0 black\n    [227, 30, 96], // 0x1 deep red\n    [96, 78, 189], // 0x2 dark blue\n    [255, 68, 253], // 0x3 purple\n    [0, 163, 96], // 0x4 dark green\n    [156, 156, 156], // 0x5 dark gray\n    [20, 207, 253], // 0x6 medium blue\n    [208, 195, 255], // 0x7 light blue\n    [96, 114, 3], // 0x8 brown\n    [255, 106, 60], // 0x9 orange\n    [156, 156, 156], // 0xa light gray\n    [255, 160, 208], // 0xb pink\n    [20, 245, 60], // 0xc green\n    [208, 221, 141], // 0xd yellow\n    [114, 255, 208], // 0xe aquamarine\n    [255, 255, 255], // 0xf white\n];\n\nconst notDirty: Region = {\n    top: 193,\n    bottom: -1,\n    left: 561,\n    right: -1\n} as const;\n\n/****************************************************************************\n *\n * Text/Lores Graphics\n *\n ***************************************************************************/\n\nexport class LoresPage2D implements LoresPage {\n    // $00-$3F inverse\n    // $40-$7F flashing\n    // $80-$FF normal\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n    private _blink = false;\n\n    private highColorTextMode = false;\n\n    dirty: Region = {...notDirty};\n    imageData: ImageData;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n        private readonly charset: rom,\n        private readonly e: boolean\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x4);\n        this._buffer[1] = allocMemPages(0x4);\n\n        this.vm.setLoresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    private _checkInverse(val: byte) {\n        let inverse = false;\n        if (this.e) {\n            if (!this.vm._80colMode && !this.vm.altCharMode) {\n                inverse = ((val & 0xc0) == 0x40) && this._blink;\n            }\n        } else {\n            inverse = !((val & 0x80) || (val & 0x40) && this._blink);\n        }\n        return inverse;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    // These are used by both bank 0 and 1\n\n    private _start() {\n        return (0x04 * this.page);\n    }\n\n    private _end() { return (0x04 * this.page) + 0x03; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x3FF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x3FF;\n        let fore, back;\n\n        if (this._buffer[bank][base] == val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const ee = adj >> 7;\n        const row = ab | cd | ee;\n\n        const data = this.imageData.data;\n        if ((row < 24) && (col < 40)) {\n            let y = row << 3;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 8;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            if (this.vm.textMode || this.vm.hiresMode || (this.vm.mixedMode && row > 19)) {\n                if (this.vm._80colMode) {\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = this.charset[val * 8 + jdx];\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? back : fore;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else {\n                    val = this._buffer[0][base];\n\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.highColorTextMode) {\n                        fore = _colors[this._buffer[1][base] >> 4];\n                        back = _colors[this._buffer[1][base] & 0x0f];\n                    }\n\n                    if (this.e) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx];\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? back : fore;\n                                this._drawPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        const colorMode = this.vm.mixedMode && !this.vm.textMode && !this.vm.monoMode;\n                        // var val0 = col > 0 ? _buffer[0][base - 1] : 0;\n                        // var val2 = col < 39 ? _buffer[0][base + 1] : 0;\n\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let odd = !(col & 0x1);\n                            let b = this.charset[val * 8 + jdx] << 1;\n                            if (colorMode) {\n                                // var b0 = charset[val0 * 8 + jdx];\n                                // var b2 = charset[val2 * 8 + jdx];\n                                if (inverse) { b ^= 0x1ff; }\n                            }\n\n                            for (let idx = 0; idx < 7; idx++) {\n                                let color;\n                                if (colorMode) {\n                                    if (b & 0x80) {\n                                        if ((b & 0x1c0) != 0x80) {\n                                            color = whiteCol;\n                                        } else {\n                                            color = odd ? violetCol : greenCol;\n                                        }\n                                    } else {\n                                        color = blackCol;\n                                    }\n                                    odd = !odd;\n                                } else {\n                                    color = (b & 0x80) ? fore : back;\n                                }\n                                this._drawPixel(data, offset, color);\n                                b <<= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            } else {\n                if (this.vm._80colMode && !this.vm.an3State) {\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n                    if (this.vm.monoMode) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                            b |= (b << 4);\n                            b |= (b << 8);\n                            if (col & 0x1) {\n                                b >>= 2;\n                            }\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? whiteCol : blackCol;\n                                this._drawHalfPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 4;\n                            }\n                            offset += 553 * 4;\n                        }\n                    } else {\n                        if (bank & 0x1) {\n                            val = ((val & 0x77) << 1) | ((val & 0x88) >> 3);\n                        }\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            const color = _colors[(jdx < 4) ?\n                                (val & 0x0f) : (val >> 4)];\n                            for (let idx = 0; idx < 7; idx++) {\n                                this._drawHalfPixel(data, offset, color);\n                                offset += 4;\n                            }\n                            offset += 553 * 4;\n                        }\n                    }\n                } else if (bank === 0) {\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.vm.monoMode) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                            b |= (b << 4);\n                            b |= (b << 8);\n                            if (col & 0x1) {\n                                b >>= 2;\n                            }\n                            for (let idx = 0; idx < 14; idx++) {\n                                const color = (b & 0x0001) ? whiteCol : blackCol;\n                                this._drawHalfPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 4;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            const color = _colors[(jdx < 4) ? (val & 0x0f) : (val >> 4)];\n                            for (let idx = 0; idx < 7; idx++) {\n                                this._drawPixel(data, offset, color);\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    refresh() {\n        this.highColorTextMode = !this.vm.an3State && this.vm.textMode && !this.vm._80colMode;\n\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    blink() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        this._blink = !this._blink;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            const b = this._buffer[0][idx];\n            if ((b & 0xC0) == 0x40) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        setInterval(() => this.blink(), 267);\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n\n    private rowToBase(row: number) {\n        const ab = (row >> 3) & 3;\n        const cd = (row >> 1) & 0x3;\n        const e = row & 1;\n        return (cd << 8) | (e << 7) | (ab << 5) | (ab << 3);\n    }\n\n    private mapCharCode(charCode: byte) {\n        charCode &= 0x7F;\n        if (charCode < 0x20) {\n            charCode += 0x40;\n        }\n        if (!this.e && (charCode >= 0x60)) {\n            charCode -= 0x40;\n        }\n        return charCode;\n    }\n\n    getText() {\n        let buffer = '', line, charCode;\n        let row, col, base;\n        for (row = 0; row < 24; row++) {\n            base = this.rowToBase(row);\n            line = '';\n            if (this.e && this.vm._80colMode) {\n                for (col = 0; col < 80; col++) {\n                    charCode = this.mapCharCode(this._buffer[1 - col % 2][base + Math.floor(col / 2)]);\n                    line += String.fromCharCode(charCode);\n                }\n            } else {\n                for (col = 0; col < 40; col++) {\n                    charCode = this.mapCharCode(this._buffer[0][base + col]);\n                    line += String.fromCharCode(charCode);\n                }\n            }\n            line = line.trimRight();\n            buffer += line + '\\n';\n        }\n        return buffer;\n    }\n}\n\n/****************************************************************************\n *\n * Hires Graphics\n *\n ***************************************************************************/\n\nexport class HiresPage2D implements HiresPage {\n    public imageData: ImageData;\n    dirty: Region = {...notDirty};\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n\n    highColorHGRMode: boolean;\n    oneSixtyMode: boolean;\n    mixedDHRMode: boolean;\n    monoDHRMode: boolean;\n    colorDHRMode: boolean = true;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x20);\n        this._buffer[1] = allocMemPages(0x20);\n\n        this.vm.setHiresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    //\n    // 160x192 pixels alternate 3 and 4 base pixels wide\n    //\n\n    private _draw3Pixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = data[off + 8] = c0;\n        data[off + 1] = data[off + 5] = data[off + 9] = c1;\n        data[off + 2] = data[off + 6] = data[off + 10] = c2;\n    }\n\n    private _draw4Pixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = data[off + 8] = data[off + 12] = c0;\n        data[off + 1] = data[off + 5] = data[off + 9] = data[off + 13] = c1;\n        data[off + 2] = data[off + 6] = data[off + 10] = data[off + 14] = c2;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    private _start() { return (0x20 * this.page); }\n\n    private _end() { return (0x020 * this.page) + 0x1f; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x1FFF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x1FFF;\n\n        if (this._buffer[bank][base] == val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const e = adj >> 7;\n\n        const rowa = ab | cd | e,\n            rowb = base >> 10;\n\n        const data = this.imageData.data;\n        let dx, dy;\n        if ((rowa < 24) && (col < 40) && this.vm.hiresMode) {\n            let y = rowa << 4 | rowb << 1;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 1;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14 - 2;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 18;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            dy = rowa << 4 | rowb << 1;\n            let bz, b0, b1, b2, b3, b4, c, hb;\n            if (this.oneSixtyMode && !this.vm.monoMode) {\n                // 1 byte = two pixels, but 3:4 ratio\n                const c3 = val & 0xf;\n                const c4 = val >> 4;\n\n                dx = col * 2 + (bank ^ 1);\n                const offset = dx * 28 + dy * 280 * 4;\n\n                this._draw3Pixel(data, offset, dcolors[c3]);\n                this._draw4Pixel(data, offset + 12, dcolors[c4]);\n            } else if (this.vm.doubleHiresMode) {\n                val &= 0x7f;\n\n                // Every 4 bytes is 7 pixels\n                // 2 bytes per bank\n\n                // b0       b1       b2       b3\n                //  c0  c1    c2  c3    c4  c5    c6\n                // 76543210 76543210 76543210 76543210\n                //  1111222  2333344  4455556  6667777\n\n                const mod = col % 2, mcol = col - mod, baseOff = base - mod;\n                bz = this._buffer[0][baseOff - 1];\n                b0 = this._buffer[1][baseOff];\n                b1 = this._buffer[0][baseOff];\n                b2 = this._buffer[1][baseOff + 1];\n                b3 = this._buffer[0][baseOff + 1];\n                b4 = this._buffer[1][baseOff + 2];\n                c = [\n                    0,\n                    ((b0 & 0x0f) >> 0), // 0\n                    ((b0 & 0x70) >> 4) | ((b1 & 0x01) << 3), // 1\n                    ((b1 & 0x1e) >> 1), // 2\n                    ((b1 & 0x60) >> 5) | ((b2 & 0x03) << 2), // 3\n                    ((b2 & 0x3c) >> 2), // 4\n                    ((b2 & 0x40) >> 6) | ((b3 & 0x07) << 1), // 5\n                    ((b3 & 0x78) >> 3), // 6\n                    0\n                ], // 7\n                hb = [\n                    0,\n                    b0 & 0x80, // 0\n                    b0 & 0x80, // 1\n                    b1 & 0x80, // 2\n                    b2 & 0x80, // 3\n                    b2 & 0x80, // 4\n                    b3 & 0x80, // 5\n                    b3 & 0x80, // 6\n                    0\n                ]; // 7\n                if (col > 0) {\n                    c[0] = (bz & 0x78) >> 3;\n                    hb[0] = bz & 0x80;\n                }\n                if (col < 39) {\n                    c[8] = b4 & 0x0f;\n                    hb[8] = b4 & 0x80;\n                }\n                dx = mcol * 14;\n                let offset = dx * 4 + dy * 280 * 4;\n\n                let monoColor = null;\n                if (this.vm.monoMode || this.monoDHRMode) {\n                    monoColor = whiteCol;\n                }\n\n                for (let idx = 1; idx < 8; idx++) {\n                    const hbs = hb[idx];\n                    const dcolor = dcolors[r4[c[idx]]];\n                    let bits = c[idx - 1] | (c[idx] << 4) | (c[idx + 1] << 8);\n                    for (let jdx = 0; jdx < 4; jdx++, offset += 4) {\n                        if (monoColor) {\n                            if (bits & 0x10) {\n                                this._drawHalfPixel(data, offset, monoColor);\n                            } else {\n                                this._drawHalfPixel(data, offset, blackCol);\n                            }\n                        } else if (this.mixedDHRMode) {\n                            if (hbs) {\n                                this._drawHalfPixel(data, offset, dcolor);\n                            } else {\n                                if (bits & 0x10) {\n                                    this._drawHalfPixel(data, offset, whiteCol);\n                                } else {\n                                    this._drawHalfPixel(data, offset, blackCol);\n                                }\n                            }\n                        } else if (this.colorDHRMode) {\n                            this._drawHalfPixel(data, offset, dcolor);\n                        } else if (\n                            ((c[idx] != c[idx - 1]) && (c[idx] != c[idx + 1])) &&\n                            (((bits & 0x1c) == 0x1c) ||\n                                ((bits & 0x70) == 0x70) ||\n                                ((bits & 0x38) == 0x38))\n                        ) {\n                            this._drawHalfPixel(data, offset, whiteCol);\n                        } else if (\n                            (bits & 0x38) ||\n                            (c[idx] == c[idx + 1]) ||\n                            (c[idx] == c[idx - 1])\n                        ) {\n                            this._drawHalfPixel(data, offset, dcolor);\n                        } else if (bits & 0x28) {\n                            this._drawHalfPixel(data, offset, dim(dcolor));\n                        } else {\n                            this._drawHalfPixel(data, offset, blackCol);\n                        }\n                        bits >>= 1;\n                    }\n                }\n\n                if (!this._refreshing) {\n                    this._refreshing = true;\n                    const bb: bank = bank ? 0 : 1;\n                    for (let rr = addr - 1; rr <= addr + 1; rr++) {\n                        const vv = this._read(rr >> 8, rr & 0xff, bb);\n                        this._write(rr >> 8, rr & 0xff, vv, bb);\n                    }\n                    this._refreshing = false;\n                }\n            } else {\n                val = this._buffer[0][base];\n                const hbs = val & 0x80;\n                val &= 0x7f;\n                dx = col * 14 - 2;\n                b0 = col > 0 ? this._buffer[0][base - 1] : 0;\n                b2 = col < 39 ? this._buffer[0][base + 1] : 0;\n                val |= (b2 & 0x3) << 7;\n                let v0 = b0 & 0x20, v1 = b0 & 0x40, v2 = val & 0x1,\n                    odd = !(col & 0x1),\n                    color;\n                const oddCol = (hbs ? orangeCol : greenCol);\n                const evenCol = (hbs ? blueCol : violetCol);\n\n                let offset = dx * 4 + dy * 280 * 4;\n\n                const monoColor = this.vm.monoMode ? whiteCol : null;\n\n                for (let idx = 0; idx < 9; idx++, offset += 8) {\n                    val >>= 1;\n\n                    if (v1) {\n                        if (monoColor) {\n                            color = monoColor;\n                        } else if (this.highColorHGRMode) {\n                            color = dcolors[this._buffer[1][base] >> 4];\n                        } else if (v0 || v2) {\n                            color = whiteCol;\n                        } else {\n                            color = odd ? oddCol : evenCol;\n                        }\n                    } else {\n                        if (monoColor) {\n                            color = blackCol;\n                        } else if (this.highColorHGRMode) {\n                            color = dcolors[this._buffer[1][base] & 0x0f];\n                        } else if (odd && v2 && v0) {\n                            color = v0 ? dim(evenCol) : evenCol;\n                        } else if (!odd && v0 && v2) {\n                            color = v2 ? dim(oddCol) : oddCol;\n                        } else {\n                            color = blackCol;\n                        }\n                    }\n\n                    if (dx > -1 && dx < 560) {\n                        this._drawPixel(data, offset, color);\n                    }\n                    dx += 2;\n\n                    v0 = v1;\n                    v1 = v2;\n                    v2 = val & 0x01;\n                    odd = !odd;\n                }\n            }\n        }\n    }\n\n    refresh() {\n        this.highColorHGRMode = !this.vm.an3State && this.vm.hiresMode && !this.vm._80colMode;\n        this.oneSixtyMode = this.vm.flag == 1 && this.vm.doubleHiresMode;\n        this.mixedDHRMode = this.vm.flag == 2 && this.vm.doubleHiresMode;\n        this.monoDHRMode = this.vm.flag == 3 && this.vm.doubleHiresMode;\n\n        let addr = 0x2000 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x2000; idx++, addr++) {\n            const page = addr >> 8;\n            const off = addr & 0xff;\n            this._write(page, off, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(page, off, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n}\n\nexport class VideoModes2D implements VideoModes {\n    private _grs: LoresPage[] = [];\n    private _hgrs: HiresPage[] = [];\n    private _screenContext: CanvasRenderingContext2D;\n    private _canvas: HTMLCanvasElement;\n    private _left: number;\n    private _top: number;\n    private _refreshFlag: boolean = true;\n\n    public ready = Promise.resolve();\n\n    textMode: boolean;\n    mixedMode: boolean;\n    hiresMode: boolean;\n    pageMode: pageNo;\n    _80colMode: boolean;\n    altCharMode: boolean;\n    an3State: boolean;\n    doubleHiresMode: boolean;\n\n    flag = 0;\n    monoMode = false;\n\n    context: CanvasRenderingContext2D;\n\n    constructor(\n        private screen: HTMLCanvasElement,\n        private e: boolean\n    ) {\n        this._canvas = document.createElement('canvas');\n        const context = this._canvas.getContext('2d');\n        const screenContext = this.screen.getContext('2d');\n        if (!context || !screenContext) {\n            throw new Error('No 2d context');\n        }\n        this.context = context;\n\n        const { width, height } = { width: 560, height: 192 };\n        this._canvas.width = width;\n        this._canvas.height = height;\n\n        this._screenContext = screenContext;\n        this._screenContext.imageSmoothingEnabled = false;\n        this._left = (this.screen.width - 560) / 2;\n        this._top = (this.screen.height - 384) / 2;\n    }\n\n    _refresh() {\n        this.doubleHiresMode = !this.an3State && this.hiresMode && this._80colMode;\n\n        this._refreshFlag = true;\n    }\n\n    refresh() {\n        this._refresh();\n    }\n\n    reset() {\n        this.textMode = true;\n        this.mixedMode = false;\n        this.hiresMode = true;\n        this.pageMode = 1;\n\n        this._80colMode = false;\n        this.altCharMode = false;\n\n        this.flag = 0;\n        this.an3State = true;\n\n        this._refresh();\n    }\n\n    setLoresPage(page: pageNo, lores: LoresPage) {\n        this._grs[page - 1] = lores;\n    }\n\n    setHiresPage(page: pageNo, hires: HiresPage) {\n        this._hgrs[page - 1] = hires;\n    }\n\n    text(on: boolean) {\n        const old = this.textMode;\n        this.textMode = on;\n        if (on) {\n            this.flag = 0;\n        }\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    _80col(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this._80colMode;\n        this._80colMode = on;\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    altChar(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.altCharMode;\n        this.altCharMode = on;\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    hires(on: boolean) {\n        const old = this.hiresMode;\n        this.hiresMode = on;\n        if (!on) {\n            this.flag = 0;\n        }\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    an3(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.an3State;\n        this.an3State = on;\n\n        if (on) {\n            this.flag = ((this.flag << 1) | (this._80colMode ? 0x0 : 0x1)) & 0x3;\n        }\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    doubleHires(on: boolean) {\n        this.an3(!on);\n    }\n\n    mixed(on: boolean) {\n        const old = this.mixedMode;\n        this.mixedMode = on;\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    page(pageNo: pageNo) {\n        const old = this.pageMode;\n        this.pageMode = pageNo;\n        if (old != pageNo) {\n            this._refresh();\n        }\n    }\n\n    isText() {\n        return this.textMode;\n    }\n\n    isMixed() {\n        return this.mixedMode;\n    }\n\n    isPage2() {\n        return this.pageMode == 2;\n    }\n\n    isHires() {\n        return this.hiresMode;\n    }\n\n    isDoubleHires() {\n        return this.doubleHiresMode;\n    }\n\n    is80Col() {\n        return this._80colMode;\n    }\n\n    isAltChar() {\n        return this.altCharMode;\n    }\n\n    buildScreen(mainData: ImageData, mixData?: ImageData | null) {\n        // TODO(whscullin): - figure out 80 column offset\n        const { x, y } = this._80colMode ? { x: 0, y: 0 } : { x: 0, y: 0 };\n\n        if (mixData) {\n            this.context.putImageData(mainData, x, y, 0, 0, 560, 160);\n            this.context.putImageData(mixData, x, y, 0, 160, 560, 32);\n        } else {\n            this.context.putImageData(mainData, x, y);\n        }\n        return this._canvas;\n    }\n\n    updateImage(\n        mainData: ImageData,\n        mainDirty: Region,\n        mixData?: ImageData | null,\n        mixDirty?: Region | null\n    ) {\n        let blitted = false;\n\n        if (mainDirty.bottom !== -1 || (mixDirty && mixDirty.bottom !== -1)) {\n            const imageData = this.buildScreen(mainData, mixData);\n            this._screenContext.drawImage(\n                imageData,\n                0, 0, 560, 192,\n                this._left, this._top, 560, 384\n            );\n            blitted = true;\n        }\n        return blitted;\n    }\n\n    blit(altData?: ImageData) {\n        let blitted = false;\n        const hgr = this._hgrs[this.pageMode - 1];\n        const gr = this._grs[this.pageMode - 1];\n\n        if (this._refreshFlag) {\n            hgr.refresh();\n            gr.refresh();\n            this._refreshFlag = false;\n        }\n\n        if (altData) {\n            blitted = this.updateImage(\n                altData,\n                { top: 0, left: 0, right: 560, bottom: 192 }\n            );\n        } else if (this.hiresMode && !this.textMode) {\n            blitted = this.updateImage(\n                hgr.imageData,\n                hgr.dirty,\n                this.mixedMode ? gr.imageData : null,\n                this.mixedMode ? gr.dirty : null\n            );\n        } else {\n            blitted = this.updateImage(\n                gr.imageData, gr.dirty\n            );\n        }\n        hgr.dirty = {...notDirty};\n        gr.dirty = {...notDirty};\n\n        return blitted;\n    }\n\n    getState(): VideoModesState {\n        return {\n            grs: [this._grs[0].getState(), this._grs[1].getState()],\n            hgrs: [this._hgrs[0].getState(), this._hgrs[1].getState()],\n            textMode: this.textMode,\n            mixedMode: this.mixedMode,\n            hiresMode: this.hiresMode,\n            pageMode: this.pageMode,\n            _80colMode: this._80colMode,\n            altCharMode: this.altCharMode,\n            an3State: this.an3State,\n            flag: this.flag\n        };\n    }\n\n    setState(state: VideoModesState) {\n        this.textMode = state.textMode;\n        this.mixedMode = state.mixedMode;\n        this.hiresMode = state.hiresMode;\n        this.pageMode = state.pageMode;\n        this._80colMode = state._80colMode;\n        this.altCharMode = state.altCharMode;\n        this.an3State = state.an3State;\n        this.flag = state.flag;\n\n        this._grs[0].setState(state.grs[0]);\n        this._grs[1].setState(state.grs[1]);\n        this._hgrs[0].setState(state.hgrs[0]);\n        this._hgrs[1].setState(state.hgrs[1]);\n        this._refresh();\n    }\n\n    mono(on: boolean) {\n        if (on) {\n            this.screen.classList.add('mono');\n        } else {\n            this.screen.classList.remove('mono');\n        }\n        this.monoMode = on;\n        this._refresh();\n    }\n\n    scanlines(on: boolean) {\n        // Can't apply scanline filter to canvas\n        const parent = this.screen.parentElement;\n        if (parent) {\n            if (on) {\n                parent.classList.add('scanlines');\n            } else {\n                parent.classList.remove('scanlines');\n            }\n        }\n    }\n\n    getText() {\n        return this._grs[this.pageMode - 1].getText();\n    }\n}\n","import { byte, Color, memory, MemoryPages, rom } from './types';\nimport { allocMemPages } from './util';\n\nimport { screenEmu } from 'apple2shader';\n\nimport {\n    GraphicsState,\n    HiresPage,\n    LoresPage,\n    Region,\n    VideoModes,\n    VideoModesState,\n    bank,\n    pageNo\n} from './videomodes';\n\n// Color constants\nconst whiteCol: Color = [255, 255, 255];\nconst blackCol: Color = [0, 0, 0];\n\nconst notDirty: Region = {\n    top: 193,\n    bottom: -1,\n    left: 561,\n    right: -1\n};\n\n/****************************************************************************\n *\n * Text/Lores Graphics\n *\n ***************************************************************************/\n\nexport class LoresPageGL implements LoresPage {\n    // $00-$3F inverse\n    // $40-$7F flashing\n    // $80-$FF normal\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n    private _blink = false;\n\n    dirty: Region = {...notDirty};\n    imageData: ImageData;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n        private readonly charset: rom,\n        private readonly e: boolean\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x4);\n        this._buffer[1] = allocMemPages(0x4);\n\n        this.vm.setLoresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    private _checkInverse(val: byte) {\n        let inverse = false;\n        if (this.e) {\n            if (!this.vm._80colMode && !this.vm.altCharMode) {\n                inverse = ((val & 0xc0) == 0x40) && this._blink;\n            }\n        } else {\n            inverse = !((val & 0x80) || (val & 0x40) && this._blink);\n        }\n        return inverse;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    // These are used by both bank 0 and 1\n\n    private _start() {\n        return (0x04 * this.page);\n    }\n\n    private _end() { return (0x04 * this.page) + 0x03; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x3FF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x3FF;\n        let fore, back;\n\n        if (this._buffer[bank][base] == val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const ee = adj >> 7;\n        const row = ab | cd | ee;\n\n        const data = this.imageData.data;\n        if ((row < 24) && (col < 40)) {\n            let y = row << 3;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 8;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            if (this.vm.textMode || this.vm.hiresMode || (this.vm.mixedMode && row > 19)) {\n                if (this.vm._80colMode) {\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = this.charset[val * 8 + jdx];\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? back : fore;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else if (bank === 0) {\n                    val = this._buffer[0][base];\n\n                    const inverse = this._checkInverse(val);\n\n                    fore = inverse ? blackCol : whiteCol;\n                    back = inverse ? whiteCol : blackCol;\n\n                    if (!this.vm.altCharMode) {\n                        val = (val >= 0x40 && val < 0x80) ? val - 0x40 : val;\n                    }\n\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n\n                    if (this.e) {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx];\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x01) ? back : fore;\n                                this._drawPixel(data, offset, color);\n                                b >>= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    } else {\n                        for (let jdx = 0; jdx < 8; jdx++) {\n                            let b = this.charset[val * 8 + jdx] << 1;\n\n                            for (let idx = 0; idx < 7; idx++) {\n                                const color = (b & 0x80) ? fore : back;\n                                this._drawPixel(data, offset, color);\n                                b <<= 1;\n                                offset += 8;\n                            }\n                            offset += 546 * 4;\n                        }\n                    }\n                }\n            } else {\n                if (this.vm._80colMode && !this.vm.an3State) {\n                    let offset = (col * 14 + (bank ? 0 : 1) * 7 + row * 560 * 8) * 4;\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                        b |= (b << 4);\n                        b |= (b << 8);\n                        if (col & 0x1) {\n                            b >>= 2;\n                        }\n                        for (let idx = 0; idx < 7; idx++) {\n                            const color = (b & 0x01) ? whiteCol : blackCol;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 553 * 4;\n                    }\n                } else if (bank === 0) {\n                    let offset = (col * 14 + row * 560 * 8) * 4;\n                    for (let jdx = 0; jdx < 8; jdx++) {\n                        let b = (jdx < 4) ? (val & 0x0f) : (val >> 4);\n                        b |= (b << 4);\n                        b |= (b << 8);\n                        if (col & 0x1) {\n                            b >>= 2;\n                        }\n                        for (let idx = 0; idx < 14; idx++) {\n                            const color = (b & 0x0001) ? whiteCol : blackCol;\n                            this._drawHalfPixel(data, offset, color);\n                            b >>= 1;\n                            offset += 4;\n                        }\n                        offset += 546 * 4;\n                    }\n                }\n            }\n        }\n    }\n\n    refresh() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    blink() {\n        let addr = 0x400 * this.page;\n        this._refreshing = true;\n        this._blink = !this._blink;\n        for (let idx = 0; idx < 0x400; idx++, addr++) {\n            const b = this._buffer[0][idx];\n            if ((b & 0xC0) == 0x40) {\n                this._write(addr >> 8, addr & 0xff, this._buffer[0][idx], 0);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        setInterval(() => this.blink(), 267);\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n\n    private rowToBase(row: number) {\n        const ab = (row >> 3) & 3;\n        const cd = (row >> 1) & 0x3;\n        const e = row & 1;\n        return (cd << 8) | (e << 7) | (ab << 5) | (ab << 3);\n    }\n\n    private mapCharCode(charCode: byte) {\n        charCode &= 0x7F;\n        if (charCode < 0x20) {\n            charCode += 0x40;\n        }\n        if (!this.e && (charCode >= 0x60)) {\n            charCode -= 0x40;\n        }\n        return charCode;\n    }\n\n    getText() {\n        let buffer = '', line, charCode;\n        let row, col, base;\n        for (row = 0; row < 24; row++) {\n            base = this.rowToBase(row);\n            line = '';\n            if (this.e && this.vm._80colMode) {\n                for (col = 0; col < 80; col++) {\n                    charCode = this.mapCharCode(this._buffer[1 - col % 2][base + Math.floor(col / 2)]);\n                    line += String.fromCharCode(charCode);\n                }\n            } else {\n                for (col = 0; col < 40; col++) {\n                    charCode = this.mapCharCode(this._buffer[0][base + col]);\n                    line += String.fromCharCode(charCode);\n                }\n            }\n            line = line.trimRight();\n            buffer += line + '\\n';\n        }\n        return buffer;\n    }\n}\n\n/****************************************************************************\n *\n * Hires Graphics\n *\n ***************************************************************************/\n\nexport class HiresPageGL implements HiresPage {\n    public imageData: ImageData;\n    dirty: Region = {...notDirty};\n\n    private _buffer: memory[] = [];\n    private _refreshing = false;\n\n    constructor(\n        private vm: VideoModes,\n        private page: pageNo,\n    ) {\n        this.imageData = this.vm.context.createImageData(560, 192);\n        this.imageData.data.fill(0xff);\n        this._buffer[0] = allocMemPages(0x20);\n        this._buffer[1] = allocMemPages(0x20);\n\n        this.vm.setHiresPage(page, this);\n    }\n\n    private _drawPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = data[off + 4] = c0;\n        data[off + 1] = data[off + 5] = c1;\n        data[off + 2] = data[off + 6] = c2;\n    }\n\n    private _drawHalfPixel(data: Uint8ClampedArray, off: number, color: Color) {\n        const c0 = color[0], c1 = color[1], c2 = color[2];\n\n        data[off + 0] = c0;\n        data[off + 1] = c1;\n        data[off + 2] = c2;\n    }\n\n    bank0(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 0),\n            write: (page, off, val) => this._write(page, off, val, 0),\n        };\n    }\n\n    bank1(): MemoryPages {\n        return {\n            start: () => this._start(),\n            end: () => this._end(),\n            read: (page, off) => this._read(page, off, 1),\n            write: (page, off, val) => this._write(page, off, val, 1),\n        };\n    }\n\n    private _start() { return (0x20 * this.page); }\n\n    private _end() { return (0x020 * this.page) + 0x1f; }\n\n    private _read(page: byte, off: byte, bank: bank) {\n        const addr = (page << 8) | off, base = addr & 0x1FFF;\n        return this._buffer[bank][base];\n    }\n\n    private _write(page: byte, off: byte, val: byte, bank: bank) {\n        const addr = (page << 8) | off;\n        const base = addr & 0x1FFF;\n\n        if (this._buffer[bank][base] == val && !this._refreshing) {\n            return;\n        }\n        this._buffer[bank][base] = val;\n\n        const col = (base % 0x80) % 0x28;\n        const adj = off - col;\n\n        // 000001cd eabab000 -> 000abcde\n        const ab = (adj & 0x18);\n        const cd = (page & 0x03) << 1;\n        const e = adj >> 7;\n\n        const rowa = ab | cd | e,\n            rowb = base >> 10;\n\n        const data = this.imageData.data;\n        if ((rowa < 24) && (col < 40) && this.vm.hiresMode) {\n            let y = rowa << 3 | rowb;\n            if (y < this.dirty.top) { this.dirty.top = y; }\n            y += 1;\n            if (y > this.dirty.bottom) { this.dirty.bottom = y; }\n            let x = col * 14 - 2;\n            if (x < this.dirty.left) { this.dirty.left = x; }\n            x += 14;\n            if (x > this.dirty.right) { this.dirty.right = x; }\n\n            const dy = rowa << 3 | rowb;\n            if (this.vm.doubleHiresMode) {\n                const dx = col * 14 + (bank ? 0 : 7);\n                let offset = dx * 4 + dy * 280 * 4 * 2;\n\n                let bits = val;\n                for (let jdx = 0; jdx < 7; jdx++, offset += 4) {\n                    if (bits & 0x01) {\n                        this._drawHalfPixel(data, offset, whiteCol);\n                    } else {\n                        this._drawHalfPixel(data, offset, blackCol);\n                    }\n                    bits >>= 1;\n                }\n            } else if (bank === 0) {\n                const hbs = val & 0x80;\n                const lastCol = col === 39;\n                const cropLastPixel = hbs && lastCol;\n                const dx = col * 14;\n                let offset = dx * 4 + dy * 560 * 4;\n                if (hbs) {\n                    const val0 = this._buffer[bank][base - 1] || 0;\n                    if (val0 & 0x40) {\n                        this._drawHalfPixel(data, offset, whiteCol);\n                    } else {\n                        this._drawHalfPixel(data, offset, blackCol);\n                    }\n                    offset += 4;\n                }\n                let bits = val;\n                for (let idx = 0; idx < 7; idx++, offset += 8) {\n                    const drawPixel = cropLastPixel && idx == 6\n                        ? this._drawHalfPixel\n                        : this._drawPixel;\n                    if (bits & 0x01) {\n                        drawPixel(data, offset, whiteCol);\n                    } else {\n                        drawPixel(data, offset, blackCol);\n                    }\n                    bits >>= 1;\n                }\n                if (!this._refreshing) {\n                    this._refreshing = true;\n                    const after = addr + 1;\n                    this._write(after >> 8, after & 0xff, this._buffer[0][after & 0x1fff], 0);\n                    this._refreshing = false;\n                }\n            }\n        }\n    }\n\n    refresh() {\n        let addr = 0x2000 * this.page;\n        this._refreshing = true;\n        for (let idx = 0; idx < 0x2000; idx++, addr++) {\n            const page = addr >> 8;\n            const off = addr & 0xff;\n            this._write(page, off, this._buffer[0][idx], 0);\n            if (this.vm._80colMode) {\n                this._write(page, off, this._buffer[1][idx], 1);\n            }\n        }\n        this._refreshing = false;\n    }\n\n    start() {\n        return this._start();\n    }\n\n    end() {\n        return this._end();\n    }\n\n    read(page: byte, off: byte) {\n        return this._read(page, off, 0);\n    }\n\n    write(page: byte, off: byte, val: byte) {\n        return this._write(page, off, val, 0);\n    }\n\n    getState(): GraphicsState {\n        return {\n            buffer: [\n                new Uint8Array(this._buffer[0]),\n                new Uint8Array(this._buffer[1]),\n            ]\n        };\n    }\n\n    setState(state: GraphicsState) {\n        this._buffer[0] = new Uint8Array(state.buffer[0]);\n        this._buffer[1] = new Uint8Array(state.buffer[1]);\n\n        this.refresh();\n    }\n}\n\nexport class VideoModesGL implements VideoModes {\n    private _grs: LoresPage[] = [];\n    private _hgrs: HiresPage[] = [];\n    private _sv: screenEmu.ScreenView;\n    private _displayConfig: screenEmu.DisplayConfiguration;\n    private _scanlines: boolean = false;\n    private _refreshFlag: boolean = true;\n    private _canvas: HTMLCanvasElement;\n\n    public ready: Promise<void>;\n\n    public textMode: boolean;\n    public mixedMode: boolean;\n    public hiresMode: boolean;\n    public pageMode: pageNo;\n    public _80colMode: boolean;\n    public altCharMode: boolean;\n    public an3State: boolean;\n    public doubleHiresMode: boolean;\n\n    public flag = 0;\n    public monoMode: boolean = false;\n\n    public context: CanvasRenderingContext2D;\n\n    constructor(\n        private screen: HTMLCanvasElement,\n        private e: boolean\n    ) {\n        this._canvas = document.createElement('canvas');\n        const context = this._canvas.getContext('2d');\n        if (!context) {\n            throw new Error('no 2d context');\n        }\n        const { width, height } = screenEmu.C.NTSC_DETAILS.imageSize;\n        this._canvas.width = width;\n        this._canvas.height = height;\n        this.context = context;\n        this._sv = new screenEmu.ScreenView(this.screen);\n\n        this.ready = this.init();\n    }\n\n    async init() {\n        await this._sv.initOpenGL();\n\n        this._displayConfig = this.defaultMonitor();\n        this._sv.displayConfiguration = this._displayConfig;\n    }\n\n    private defaultMonitor(): screenEmu.DisplayConfiguration {\n        const config = new screenEmu.DisplayConfiguration();\n        config.displayResolution = new screenEmu.Size(this.screen.width, this.screen.height);\n        config.displayScanlineLevel = 0.5;\n        config.videoWhiteOnly = true;\n        config.videoSaturation = 0.8;\n        config.videoSize = new screenEmu.Size(1.25, 1.15);\n        config.videoCenter = new screenEmu.Point(0.01, 0.02);\n        // config.videoDecoder = 'CANVAS_CXA2025AS';\n        return config;\n    }\n\n    private monitorII(): screenEmu.DisplayConfiguration {\n        // Values taken from openemulator/libemulation/res/library/Monitors/Apple Monitor II.xml\n        const config = new screenEmu.DisplayConfiguration();\n        config.displayResolution = new screenEmu.Size(this.screen.width, this.screen.height);\n        config.videoDecoder = 'CANVAS_MONOCHROME';\n        config.videoBrightness = 0.15;\n        config.videoContrast = 0.8;\n        config.videoSaturation = 1.45;\n        config.videoHue = 0.27;\n        config.videoCenter = new screenEmu.Point(0.01, 0.02);\n        config.videoSize = new screenEmu.Size(1.25, 1.15);\n        config.videoBandwidth = 9000000;\n        config.displayBarrel = 0.1;\n        config.displayScanlineLevel = 0.5;\n        config.displayCenterLighting = 0.5;\n        config.displayLuminanceGain = 1.5;\n        return config;\n    }\n\n    private _refresh() {\n        this.doubleHiresMode = !this.an3State && this.hiresMode && this._80colMode;\n\n        this._refreshFlag = true;\n\n        if (this._displayConfig) {\n            this._displayConfig.videoWhiteOnly = this.textMode || this.monoMode;\n            this._displayConfig.displayScanlineLevel = this._scanlines ? 0.5 : 0;\n            this._sv.displayConfiguration = this._displayConfig;\n        }\n    }\n\n    refresh() {\n        this._refresh();\n    }\n\n    reset() {\n        this.textMode = true;\n        this.mixedMode = false;\n        this.hiresMode = true;\n        this.pageMode = 1;\n\n        this._80colMode = false;\n        this.altCharMode = false;\n\n        this.an3State = true;\n\n        this._refresh();\n    }\n\n    setLoresPage(page: pageNo, lores: LoresPage) {\n        this._grs[page - 1] = lores;\n    }\n\n    setHiresPage(page: pageNo, hires: HiresPage) {\n        this._hgrs[page - 1] = hires;\n    }\n\n    text(on: boolean) {\n        const old = this.textMode;\n        this.textMode = on;\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    _80col(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this._80colMode;\n        this._80colMode = on;\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    altChar(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.altCharMode;\n        this.altCharMode = on;\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    hires(on: boolean) {\n        const old = this.hiresMode;\n        this.hiresMode = on;\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    an3(on: boolean) {\n        if (!this.e) { return; }\n\n        const old = this.an3State;\n        this.an3State = on;\n\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    doubleHires(on: boolean) {\n        this.an3(!on);\n    }\n\n    mixed(on: boolean) {\n        const old = this.mixedMode;\n        this.mixedMode = on;\n        if (old != on) {\n            this._refresh();\n        }\n    }\n\n    page(pageNo: pageNo) {\n        const old = this.pageMode;\n        this.pageMode = pageNo;\n        if (old != pageNo) {\n            this._refresh();\n        }\n    }\n\n    isText() {\n        return this.textMode;\n    }\n\n    isMixed() {\n        return this.mixedMode;\n    }\n\n    isPage2() {\n        return this.pageMode == 2;\n    }\n\n    isHires() {\n        return this.hiresMode;\n    }\n\n    isDoubleHires() {\n        return this.doubleHiresMode;\n    }\n\n    is80Col() {\n        return this._80colMode;\n    }\n\n    isAltChar() {\n        return this.altCharMode;\n    }\n\n    updateImage(\n        mainData: ImageData,\n        mainDirty: Region,\n        mixData?: ImageData | null,\n        mixDirty?: Region | null\n    ) {\n        let blitted = false;\n        if (mainDirty.bottom !== -1 || (mixDirty && mixDirty.bottom !== -1)) {\n            const imageData = this.buildScreen(mainData, mixData);\n            const imageInfo = new screenEmu.ImageInfo(imageData);\n            this._sv.image = imageInfo;\n            blitted = true;\n        }\n        this._sv.vsync();\n        return blitted;\n    }\n\n    buildScreen(mainData: ImageData, mixData?: ImageData | null) {\n        const details = screenEmu.C.NTSC_DETAILS;\n        const { width, height } = details.imageSize;\n        const { x, y } = this._80colMode ? details.topLeft80Col : details.topLeft;\n\n        if (mixData) {\n            this.context.putImageData(mainData, x, y, 0, 0, 560, 160);\n            this.context.putImageData(mixData, x, y, 0, 160, 560, 32);\n        } else {\n            this.context.putImageData(mainData, x, y);\n        }\n        return this.context.getImageData(0, 0, width, height);\n    }\n\n    blit(altData?: ImageData) {\n        let blitted = false;\n        const hgr = this._hgrs[this.pageMode - 1];\n        const gr = this._grs[this.pageMode - 1];\n\n        if (this._refreshFlag) {\n            hgr.refresh();\n            gr.refresh();\n            this._refreshFlag = false;\n        }\n\n        if (altData) {\n            blitted = this.updateImage(\n                altData,\n                { top: 0, left: 0, right: 560, bottom: 192 }\n            );\n        } else if (this.hiresMode && !this.textMode) {\n            blitted = this.updateImage(\n                hgr.imageData,\n                hgr.dirty,\n                this.mixedMode ? gr.imageData : null,\n                this.mixedMode ? gr.dirty : null\n            );\n        } else {\n            blitted = this.updateImage(\n                gr.imageData, gr.dirty\n            );\n        }\n        hgr.dirty = {...notDirty};\n        gr.dirty = {...notDirty};\n\n        return blitted;\n    }\n\n    getState(): VideoModesState {\n        return {\n            grs: [this._grs[0].getState(), this._grs[1].getState()],\n            hgrs: [this._hgrs[0].getState(), this._hgrs[1].getState()],\n            textMode: this.textMode,\n            mixedMode: this.mixedMode,\n            hiresMode: this.hiresMode,\n            pageMode: this.pageMode,\n            _80colMode: this._80colMode,\n            altCharMode: this.altCharMode,\n            an3State: this.an3State,\n            flag: 0\n        };\n    }\n\n    setState(state: VideoModesState) {\n        this.textMode = state.textMode;\n        this.mixedMode = state.mixedMode;\n        this.hiresMode = state.hiresMode;\n        this.pageMode = state.pageMode;\n        this._80colMode = state._80colMode;\n        this.altCharMode = state.altCharMode;\n        this.an3State = state.an3State;\n\n        this._grs[0].setState(state.grs[0]);\n        this._grs[1].setState(state.grs[1]);\n        this._hgrs[0].setState(state.hgrs[0]);\n        this._hgrs[1].setState(state.hgrs[1]);\n        this._refresh();\n    }\n\n    mono(on: boolean) {\n        this.monoMode = on;\n        this._displayConfig = on ? this.monitorII() : this.defaultMonitor();\n        this._refresh();\n    }\n\n    scanlines(on: boolean) {\n        this._scanlines = on;\n        this._refresh();\n    }\n\n    getText() {\n        return this._grs[this.pageMode - 1].getText();\n    }\n}\n","import CPU6502 from './cpu6502';\nimport RAM, { RAMState } from './ram';\nimport ROM, { ROMState } from './roms/rom';\nimport { debug } from './util';\nimport { byte, Memory, Restorable } from './types';\nimport Apple2IO from './apple2io';\nimport { HiresPage, LoresPage, VideoModes } from './videomodes';\n\n/*\n * I/O Switch locations\n */\nconst LOC = {\n    // 80 Column memory\n    _80STOREOFF: 0x00,\n    _80STOREON: 0x01,\n\n    // Aux RAM\n    RAMRDOFF: 0x02,\n    RAMRDON: 0x03,\n\n    RAMWROFF: 0x04,\n    RAMWRON: 0x05,\n\n    // Bank switched ROM\n    INTCXROMOFF: 0x06,\n    INTCXROMON: 0x07,\n    ALTZPOFF: 0x08,\n    ALTZPON: 0x09,\n    SLOTC3ROMOFF: 0x0A,\n    SLOTC3ROMON: 0x0B,\n\n    // 80 Column video\n    CLR80VID: 0x0C, // clear 80 column mode\n    SET80VID: 0x0D, // set 80 column mode\n    CLRALTCH: 0x0E, // clear mousetext\n    SETALTCH: 0x0F, // set mousetext\n\n    // Status\n    BSRBANK2: 0x11,\n    BSRREADRAM: 0x12,\n    RAMRD: 0x13,\n    RAMWRT: 0x14,\n    INTCXROM: 0x15,\n    ALTZP: 0x16,\n    SLOTC3ROM: 0x17,\n    _80STORE: 0x18,\n    VERTBLANK: 0x19,\n\n    RDTEXT: 0x1A, // using text mode\n    RDMIXED: 0x1B, // using mixed mode\n    RDPAGE2: 0x1C, // using text/graphics page2\n    RDHIRES: 0x1D, // using Hi-res graphics mode\n    RDALTCH: 0x1E, // using alternate character set\n    RD80VID: 0x1F, // using 80-column display mode\n\n    // Graphics\n    PAGE1: 0x54, // select text/graphics page1 main/aux\n    PAGE2: 0x55, // select text/graphics page2 main/aux\n    RESET_HIRES: 0x56,\n    SET_HIRES: 0x57,\n\n    DHIRESON: 0x5E, // Enable double hires (CLRAN3)\n    DHIRESOFF: 0x5F, // Disable double hires (SETAN3)\n\n    // Misc\n    BANK: 0x73, // Back switched RAM card bank\n\n    IOUDISON: 0x7E, // W IOU Disable on / R7 IOU Disable\n    IOUDISOFF: 0x7F, // W IOU Disable off / R7 Double Hires\n\n    // Language Card\n\n    // Bank 2\n    READBSR2: 0x80,\n    WRITEBSR2: 0x81,\n    OFFBSR2: 0x82,\n    READWRBSR2: 0x83,\n\n    // Bank 1\n    READBSR1: 0x88,\n    WRITEBSR1: 0x89,\n    OFFBSR1: 0x8a,\n    READWRBSR1: 0x8b,\n};\n\nclass Switches implements Memory {\n    constructor(private mmu: MMU) {}\n\n    read(_page: byte, off: byte) {\n        return this.mmu._access(off) || 0;\n    }\n\n    write(_page: byte, off: byte, val: byte) {\n        this.mmu._access(off, val);\n    }\n}\n\nclass AuxRom implements Memory {\n    constructor(\n        private readonly mmu: MMU,\n        private readonly rom: ROM) { }\n\n    _access(page: byte, off: byte) {\n        if (page == 0xc3) {\n            this.mmu._setIntc8rom(true);\n            this.mmu._updateBanks();\n        }\n        if (page == 0xcf && off == 0xff) {\n            this.mmu._setIntc8rom(false);\n            this.mmu._updateBanks();\n        }\n    }\n\n    read(page: byte, off: byte) {\n        this._access(page, off);\n        return this.rom.read(page, off);\n    }\n\n    write(page: byte, off: byte, _val: byte) {\n        this._access(page, off);\n    }\n}\n\nexport interface MMUState {\n    bank1: boolean\n    readbsr: boolean\n    writebsr: boolean\n    prewrite: boolean\n\n    intcxrom: boolean\n    slot3rom: boolean\n    intc8rom: boolean\n\n    auxRamRead: boolean\n    auxRamWrite: boolean\n    altzp: boolean\n\n    _80store: boolean\n    page2: boolean\n    hires: boolean\n\n    mem00_01: [RAMState, RAMState]\n    mem02_03: [RAMState, RAMState]\n    mem0C_1F: [RAMState, RAMState]\n    mem60_BF: [RAMState, RAMState]\n    memD0_DF: [ROMState, RAMState, RAMState, RAMState, RAMState]\n    memE0_FF: [ROMState, RAMState, RAMState]\n}\n\nexport default class MMU implements Memory, Restorable<MMUState> {\n    private _readPages = new Array<Memory>(0x100);\n    private _writePages = new Array<Memory>(0x100);\n    private _pages = new Array<Memory[]>(0x100);\n\n    // Language Card RAM Softswitches\n    private _bank1: boolean;\n    private _readbsr: boolean;\n    private _writebsr: boolean;\n    private _prewrite: boolean;\n\n    // Auxillary ROM\n    private _intcxrom: boolean;\n    private _slot3rom: boolean;\n    private _intc8rom: boolean;\n\n    // Auxillary RAM\n    private _auxRamRead: boolean;\n    private _auxRamWrite: boolean;\n    private _altzp: boolean;\n\n    // Video\n    private _80store: boolean;\n    private _page2: boolean;\n    private _hires: boolean;\n\n    private _iouDisable: boolean;\n\n    private _vbEnd = 0;\n\n    private switches = new Switches(this);\n    private auxRom = new AuxRom(this, this.rom);\n\n    // These fields represent the bank-switched memory ranges.\n    private mem00_01 = [new RAM(0x0, 0x1), new RAM(0x0, 0x1)];\n    private mem02_03 = [new RAM(0x2, 0x3), new RAM(0x2, 0x3)];\n    private mem04_07 = [this.lores1.bank0(), this.lores1.bank1()];\n    private mem08_0B = [this.lores2.bank0(), this.lores2.bank1()];\n    private mem0C_1F = [new RAM(0xC, 0x1F), new RAM(0xC, 0x1F)];\n    private mem20_3F = [this.hires1.bank0(), this.hires1.bank1()];\n    private mem40_5F = [this.hires2.bank0(), this.hires2.bank1()];\n    private mem60_BF = [new RAM(0x60, 0xBF), new RAM(0x60, 0xBF)];\n    private memC0_C0 = [this.switches];\n    private memC1_CF = [this.io, this.auxRom];\n    private memD0_DF: [ROM, RAM, RAM, RAM, RAM] = [\n        this.rom,\n        new RAM(0xD0, 0xDF), new RAM(0xD0, 0xDF),\n        new RAM(0xD0, 0xDF), new RAM(0xD0, 0xDF)\n    ];\n    private memE0_FF: [ROM, RAM, RAM] = [\n        this.rom,\n        new RAM(0xE0, 0xFF), new RAM(0xE0, 0xFF)\n    ];\n\n    constructor(\n        private readonly cpu: CPU6502,\n        private readonly vm: VideoModes,\n        private readonly lores1: LoresPage,\n        private readonly lores2: LoresPage,\n        private readonly hires1: HiresPage,\n        private readonly hires2: HiresPage,\n        private readonly io: Apple2IO,\n        private readonly rom: ROM) {\n        /*\n         * Initialize read/write banks\n         */\n\n        // Zero Page/Stack\n        for (let idx = 0x0; idx < 0x2; idx++) {\n            this._pages[idx] = this.mem00_01;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0x300-0x400\n        for (let idx = 0x2; idx < 0x4; idx++) {\n            this._pages[idx] = this.mem02_03;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Text Page 1\n        for (let idx = 0x4; idx < 0x8; idx++) {\n            this._pages[idx] = this.mem04_07;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Text Page 2\n        for (let idx = 0x8; idx < 0xC; idx++) {\n            this._pages[idx] = this.mem08_0B;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0xC00-0x2000\n        for (let idx = 0xC; idx < 0x20; idx++) {\n            this._pages[idx] = this.mem0C_1F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Hires Page 1\n        for (let idx = 0x20; idx < 0x40; idx++) {\n            this._pages[idx] = this.mem20_3F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Hires Page 2\n        for (let idx = 0x40; idx < 0x60; idx++) {\n            this._pages[idx] = this.mem40_5F;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // 0x6000-0xc000\n        for (let idx = 0x60; idx < 0xc0; idx++) {\n            this._pages[idx] = this.mem60_BF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // I/O Switches\n        {\n            const idx = 0xc0;\n            this._pages[idx] = this.memC0_C0;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Slots\n        for (let idx = 0xc1; idx < 0xd0; idx++) {\n            this._pages[idx] = this.memC1_CF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Basic ROM\n        for (let idx = 0xd0; idx < 0xe0; idx++) {\n            this._pages[idx] = this.memD0_DF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n        // Monitor ROM\n        for (let idx = 0xe0; idx < 0x100; idx++) {\n            this._pages[idx] = this.memE0_FF;\n            this._readPages[idx] = this._pages[idx][0];\n            this._writePages[idx] = this._pages[idx][0];\n        }\n    }\n\n    _initSwitches() {\n        this._bank1 = false;\n        this._readbsr = false;\n        this._writebsr = false;\n        this._prewrite = false;\n\n        this._auxRamRead = false;\n        this._auxRamWrite = false;\n        this._altzp = false;\n\n        this._intcxrom = false;\n        this._slot3rom = false;\n        this._intc8rom = false;\n\n        this._80store = false;\n        this._page2 = false;\n        this._hires = false;\n\n        this._iouDisable = true;\n    }\n\n    _debug(..._args: any[]) {\n        // debug.apply(this, _args);\n    }\n\n    _setIntc8rom(on: boolean) {\n        this._intc8rom = on;\n    }\n\n    _updateBanks() {\n        if (this._auxRamRead) {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._auxRamWrite) {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x02; idx < 0xC0; idx++) {\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._80store) {\n            if (this._page2) {\n                for (let idx = 0x4; idx < 0x8; idx++) {\n                    this._readPages[idx] = this._pages[idx][1];\n                    this._writePages[idx] = this._pages[idx][1];\n                }\n                if (this._hires) {\n                    for (let idx = 0x20; idx < 0x40; idx++) {\n                        this._readPages[idx] = this._pages[idx][1];\n                        this._writePages[idx] = this._pages[idx][1];\n                    }\n                }\n            } else {\n                for (let idx = 0x4; idx < 0x8; idx++) {\n                    this._readPages[idx] = this._pages[idx][0];\n                    this._writePages[idx] = this._pages[idx][0];\n                }\n                if (this._hires) {\n                    for (let idx = 0x20; idx < 0x40; idx++) {\n                        this._readPages[idx] = this._pages[idx][0];\n                        this._writePages[idx] = this._pages[idx][0];\n                    }\n                }\n            }\n        }\n\n        if (this._intcxrom) {\n            for (let idx = 0xc1; idx < 0xd0; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0xc1; idx < 0xd0; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n                this._writePages[idx] = this._pages[idx][0];\n            }\n            if (!this._slot3rom) {\n                this._readPages[0xc3] = this._pages[0xc3][1];\n                this._writePages[0xc3] = this._pages[0xc3][1];\n            }\n            if (this._intc8rom) {\n                for (let idx = 0xc8; idx < 0xd0; idx++) {\n                    this._readPages[idx] = this._pages[idx][1];\n                    this._writePages[idx] = this._pages[idx][1];\n                }\n            }\n        }\n\n        if (this._altzp) {\n            for (let idx = 0x0; idx < 0x2; idx++) {\n                this._readPages[idx] = this._pages[idx][1];\n                this._writePages[idx] = this._pages[idx][1];\n            }\n        } else {\n            for (let idx = 0x0; idx < 0x2; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._readbsr) {\n            if (this._bank1) {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._readPages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n                }\n            } else {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._readPages[idx] = this._pages[idx][this._altzp ? 4 : 3];\n                }\n            }\n            for (let idx = 0xe0; idx < 0x100; idx++) {\n                this._readPages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n            }\n        } else {\n            for (let idx = 0xd0; idx < 0x100; idx++) {\n                this._readPages[idx] = this._pages[idx][0];\n            }\n        }\n\n        if (this._writebsr) {\n            if (this._bank1) {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._writePages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n                }\n            } else {\n                for (let idx = 0xd0; idx < 0xe0; idx++) {\n                    this._writePages[idx] = this._pages[idx][this._altzp ? 4 : 3];\n                }\n            }\n            for (let idx = 0xe0; idx < 0x100; idx++) {\n                this._writePages[idx] = this._pages[idx][this._altzp ? 2 : 1];\n            }\n        } else {\n            for (let idx = 0xd0; idx < 0x100; idx++) {\n                this._writePages[idx] = this._pages[idx][0];\n            }\n        }\n    }\n\n    // Apple //e memory management\n\n    _accessMMUSet(off: byte, _val?: byte) {\n        switch (off) {\n            case LOC._80STOREOFF:\n                this._80store = false;\n                this._debug('80 Store Off', _val);\n                this.vm.page(this._page2 ? 2 : 1);\n                break;\n            case LOC._80STOREON:\n                this._80store = true;\n                this._debug('80 Store On', _val);\n                break;\n            case LOC.RAMRDOFF:\n                this._auxRamRead = false;\n                this._debug('Aux RAM Read Off');\n                break;\n            case LOC.RAMRDON:\n                this._auxRamRead = true;\n                this._debug('Aux RAM Read On');\n                break;\n            case LOC.RAMWROFF:\n                this._auxRamWrite = false;\n                this._debug('Aux RAM Write Off');\n                break;\n            case LOC.RAMWRON:\n                this._auxRamWrite = true;\n                this._debug('Aux RAM Write On');\n                break;\n\n            case LOC.INTCXROMOFF:\n                this._intcxrom = false;\n                if (this._slot3rom) {\n                    this._intc8rom = false;\n                }\n                this._debug('Int CX ROM Off');\n                break;\n            case LOC.INTCXROMON:\n                this._intcxrom = true;\n                this._debug('Int CX ROM On');\n                break;\n            case LOC.ALTZPOFF: // 0x08\n                this._altzp = false;\n                this._debug('Alt ZP Off');\n                break;\n            case LOC.ALTZPON: // 0x09\n                this._altzp = true;\n                this._debug('Alt ZP On');\n                break;\n            case LOC.SLOTC3ROMOFF: // 0x0A\n                this._slot3rom = false;\n                this._debug('Slot 3 ROM Off');\n                break;\n            case LOC.SLOTC3ROMON: // 0x0B\n                this._slot3rom = true;\n                this._debug('Slot 3 ROM On');\n                break;\n\n                // Graphics Switches\n\n            case LOC.CLR80VID:\n                this._debug('80 Column Mode off');\n                this.vm._80col(false);\n                break;\n            case LOC.SET80VID:\n                this._debug('80 Column Mode on');\n                this.vm._80col(true);\n                break;\n            case LOC.CLRALTCH:\n                this._debug('Alt Char off');\n                this.vm.altChar(false);\n                break;\n            case LOC.SETALTCH:\n                this._debug('Alt Char on');\n                this.vm.altChar(true);\n                break;\n        }\n        this._updateBanks();\n    }\n\n    // Status registers\n\n    _accessStatus(off: byte, val?: byte) {\n        let result = undefined;\n\n        switch(off) {\n            case LOC.BSRBANK2:\n                this._debug('Bank 2 Read ' + !this._bank1);\n                result = !this._bank1 ? 0x80 : 0x00;\n                break;\n            case LOC.BSRREADRAM:\n                this._debug('Bank SW RAM Read ' + this._readbsr);\n                result = this._readbsr ? 0x80 : 0x00;\n                break;\n            case LOC.RAMRD: // 0xC013\n                this._debug('Aux RAM Read ' + this._auxRamRead);\n                result = this._auxRamRead ? 0x80 : 0x0;\n                break;\n            case LOC.RAMWRT: // 0xC014\n                this._debug('Aux RAM Write ' + this._auxRamWrite);\n                result = this._auxRamWrite ? 0x80 : 0x0;\n                break;\n            case LOC.INTCXROM: // 0xC015\n            // _debug('Int CX ROM ' + _intcxrom);\n                result = this._intcxrom ? 0x80 : 0x00;\n                break;\n            case LOC.ALTZP: // 0xC016\n                this._debug('Alt ZP ' + this._altzp);\n                result = this._altzp ? 0x80 : 0x0;\n                break;\n            case LOC.SLOTC3ROM: // 0xC017\n                this._debug('Slot C3 ROM ' + this._slot3rom);\n                result = this._slot3rom ? 0x80 : 0x00;\n                break;\n            case LOC._80STORE: // 0xC018\n                this._debug('80 Store ' + this._80store);\n                result = this._80store ? 0x80 : 0x00;\n                break;\n            case LOC.VERTBLANK: // 0xC019\n            // result = cpu.getCycles() % 20 < 5 ? 0x80 : 0x00;\n                result = (this.cpu.getCycles() < this._vbEnd) ? 0x80 : 0x00;\n                break;\n            case LOC.RDTEXT:\n                result = this.vm.isText() ? 0x80 : 0x0;\n                break;\n            case LOC.RDMIXED:\n                result = this.vm.isMixed() ? 0x80 : 0x0;\n                break;\n            case LOC.RDPAGE2:\n                result = this._page2 ? 0x80 : 0x0;\n                break;\n            case LOC.RDHIRES:\n                result = this.vm.isHires() ? 0x80 : 0x0;\n                break;\n            case LOC.RD80VID:\n                result = this.vm.is80Col() ? 0x80 : 0x0;\n                break;\n            case LOC.RDALTCH:\n                result = this.vm.isAltChar() ? 0x80 : 0x0;\n                break;\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n    _accessIOUDisable(off: byte, val?: byte) {\n        const writeMode = val !== undefined;\n        let result;\n\n        switch (off) {\n            case LOC.IOUDISON:\n                if (writeMode) {\n                    this._iouDisable = true;\n                } else {\n                    result = this._iouDisable ? 0x00 : 0x80;\n                }\n                break;\n\n            case LOC.IOUDISOFF:\n                if (writeMode) {\n                    this._iouDisable = false;\n                } else {\n                    result = this.vm.isDoubleHires() ? 0x80 : 0x00;\n                }\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n\n    _accessGraphics(off: byte, val?: byte) {\n        let result: byte | undefined = 0;\n\n        switch (off) {\n            case LOC.PAGE1:\n                this._page2 = false;\n                if (!this._80store) {\n                    result = this.io.ioSwitch(off, val);\n                }\n                this._debug('Page 2 off');\n                break;\n\n            case LOC.PAGE2:\n                this._page2 = true;\n                if (!this._80store) {\n                    result = this.io.ioSwitch(off, val);\n                }\n                this._debug('Page 2 on');\n                break;\n\n            case LOC.RESET_HIRES:\n                this._hires = false;\n                result = this.io.ioSwitch(off, val);\n                this._debug('Hires off');\n                break;\n\n            case LOC.DHIRESON:\n                if (this._iouDisable) {\n                    this.vm.doubleHires(true);\n                } else {\n                    result = this.io.ioSwitch(off, val); // an3\n                }\n                break;\n\n            case LOC.DHIRESOFF:\n                if (this._iouDisable) {\n                    this.vm.doubleHires(false);\n                } else {\n                    result = this.io.ioSwitch(off, val); // an3\n                }\n                break;\n\n            case LOC.SET_HIRES:\n                this._hires = true;\n                result = this.io.ioSwitch(off, val);\n                this._debug('Hires on');\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n                break;\n        }\n        this._updateBanks();\n\n        return result;\n    }\n\n    _accessLangCard(off: byte, val?: byte) {\n        const readMode = val === undefined;\n        const result = readMode ? 0 : undefined;\n\n        const writeSwitch = off & 0x01;\n        const offSwitch = off & 0x02;\n        const bank1Switch = off & 0x08;\n\n        let bankStr;\n        let rwStr;\n\n        if (writeSwitch) { // 0xC081, 0xC083\n            if (readMode) {\n                this._writebsr = this._prewrite;\n            }\n            this._prewrite = readMode;\n\n            if (offSwitch) { // 0xC08B\n                this._readbsr = true;\n                rwStr = 'Read/Write';\n            } else {\n                this._readbsr = false;\n                rwStr = 'Write';\n            }\n        } else { // 0xC080, 0xC082\n            this._writebsr = false;\n            this._prewrite = false;\n\n            if (offSwitch) { // 0xC082\n                this._readbsr = false;\n                rwStr = 'Off';\n            } else { // 0xC080\n                this._readbsr = true;\n                rwStr = 'Read';\n            }\n        }\n\n        if (bank1Switch) {\n            this._bank1 = true;\n            bankStr = 'Bank 1';\n        } else {\n            this._bank1 = false;\n            bankStr = 'Bank 2';\n        }\n\n        this._debug(bankStr, rwStr);\n        this._updateBanks();\n\n        return result;\n    }\n\n    /*\n     * The Big Switch\n     */\n\n    _access(off: byte, val?: byte) {\n        let result;\n        const writeMode = val !== undefined;\n        const highNibble = off >> 4;\n\n        switch (highNibble) {\n            case 0x0:\n                if (writeMode) {\n                    this._accessMMUSet(off, val);\n                } else {\n                    result = this.io.ioSwitch(off);\n                }\n                break;\n\n            case 0x1:\n                if (writeMode) {\n                    this.io.ioSwitch(off, val);\n                } else {\n                    result = this._accessStatus(off, val);\n                }\n                break;\n\n            case 0x5:\n                result = this._accessGraphics(off, val);\n                break;\n\n            case 0x7:\n                result = this._accessIOUDisable(off, val);\n                break;\n\n            case 0x8:\n                result = this._accessLangCard(off, val);\n                break;\n\n            default:\n                result = this.io.ioSwitch(off, val);\n        }\n\n        return result;\n    }\n\n    public start() {\n        this.lores1.start();\n        this.lores2.start();\n        return 0x00;\n    }\n\n    public end() {\n        return 0xff;\n    }\n\n    public reset() {\n        debug('reset');\n        this._initSwitches();\n        this._updateBanks();\n        this.vm.reset();\n        this.io.reset();\n    }\n\n    public read(page: byte, off: byte) {\n        return this._readPages[page].read(page, off);\n    }\n\n    public write(page: byte, off: byte, val: byte) {\n        this._writePages[page].write(page, off, val);\n    }\n\n    public writeBank(bank: number,page: byte, off: byte, val: byte) {\n        this._pages[page][bank].write(page, off, val);\n    }\n\n    public resetVB() {\n        this._vbEnd = this.cpu.getCycles() + 1000;\n    }\n\n    public getState(): MMUState {\n        return {\n            bank1: this._bank1,\n            readbsr: this._readbsr,\n            writebsr: this._writebsr,\n            prewrite: this._prewrite,\n\n            intcxrom: this._intcxrom,\n            slot3rom: this._slot3rom,\n            intc8rom: this._intc8rom,\n\n            auxRamRead: this._auxRamRead,\n            auxRamWrite: this._auxRamWrite,\n            altzp: this._altzp,\n\n            _80store: this._80store,\n            page2: this._page2,\n            hires: this._hires,\n\n            mem00_01: [this.mem00_01[0].getState(), this.mem00_01[1].getState()],\n            mem02_03: [this.mem02_03[0].getState(), this.mem02_03[1].getState()],\n            mem0C_1F: [this.mem0C_1F[0].getState(), this.mem0C_1F[1].getState()],\n            mem60_BF: [this.mem60_BF[0].getState(), this.mem60_BF[1].getState()],\n            memD0_DF: [\n                this.memD0_DF[0].getState(),\n                this.memD0_DF[1].getState(),\n                this.memD0_DF[2].getState(),\n                this.memD0_DF[3].getState(),\n                this.memD0_DF[4].getState()\n            ],\n            memE0_FF: [\n                this.memE0_FF[0].getState(),\n                this.memE0_FF[1].getState(),\n                this.memE0_FF[2].getState()\n            ]\n        };\n    }\n\n    public setState(state: MMUState) {\n        this._readbsr = state.readbsr;\n        this._writebsr = state.writebsr;\n        this._bank1 = state.bank1;\n        this._prewrite = state.prewrite;\n\n        this._intcxrom = state.intcxrom;\n        this._slot3rom = state.slot3rom;\n        this._intc8rom = state.intc8rom;\n\n        this._auxRamRead = state.auxRamRead;\n        this._auxRamWrite = state.auxRamWrite;\n        this._altzp = state.altzp;\n\n        this._80store = state._80store;\n        this._page2 = state.page2;\n        this._hires = state.hires;\n\n        this.mem00_01[0].setState(state.mem00_01[0]);\n        this.mem00_01[1].setState(state.mem00_01[1]);\n        this.mem02_03[0].setState(state.mem02_03[0]);\n        this.mem02_03[1].setState(state.mem02_03[1]);\n        this.mem0C_1F[0].setState(state.mem0C_1F[0]);\n        this.mem0C_1F[1].setState(state.mem0C_1F[1]);\n        this.mem60_BF[0].setState(state.mem60_BF[0]);\n        this.mem60_BF[1].setState(state.mem60_BF[1]);\n        this.memD0_DF[0].setState(state.memD0_DF[0]);\n        this.memD0_DF[1].setState(state.memD0_DF[1]);\n        this.memD0_DF[2].setState(state.memD0_DF[2]);\n        this.memD0_DF[3].setState(state.memD0_DF[3]);\n        this.memD0_DF[4].setState(state.memD0_DF[4]);\n        this.memE0_FF[0].setState(state.memE0_FF[0]);\n        this.memE0_FF[1].setState(state.memE0_FF[1]);\n        this.memE0_FF[2].setState(state.memE0_FF[2]);\n\n        this._updateBanks();\n    }\n}\n","const SYMBOLS = {\n/*\n    0x00: 'GOWARM',\n    0x03: 'GOSTROUT',\n    0x0A: 'USR',\n    0x0D: 'CHARAC',\n    0x0E: 'ENDCHR',\n    0x0F: 'TKN.CNTR',\n    0x0F: 'EOL.PNTR',\n    0x0F: 'NUMDIM',\n    0x10: 'DIMFLG',\n    0x11: 'VALTYP',\n    0x13: 'DATAFLG',\n    0x13: 'GARFLG',\n    0x14: 'SUBFLG',\n    0x15: 'INPUTFLG',\n    0x16: 'CPRMASK',\n    0x16: 'SIGNFLG',\n    0x1A: 'HGR.SHAPE',\n    0x1C: 'HGR.BITS',\n    0x1D: 'HGR.COUNT',\n    0x24: 'MON.CH',\n    0x26: 'MON.GBASL',\n    0x27: 'MON.GBASH',\n    0x2C: 'MON.H2',\n    0x2D: 'MON.V2',\n    0x30: 'MON.HMASK',\n    0x32: 'MON.INVFLG',\n    0x33: 'MON.PROMPT',\n    0x3C: 'MON.A1L',\n    0x3D: 'MON.A1H',\n    0x3E: 'MON.A2L',\n    0x3F: 'MON.A2H',\n    0x50: 'LINNUM',\n    0x52: 'TEMPPT',\n    0x53: 'LASTPT',\n    0x55: 'TEMPST',\n    0x5E: 'INDEX',\n    0x60: 'DEST',\n    0x62: 'RESULT',\n    0x67: 'TXTTAB',\n    0x69: 'VARTAB',\n    0x6B: 'ARYTAB',\n    0x6D: 'STREND',\n    0x6F: 'FRETOP',\n    0x71: 'FRESPC',\n    0x73: 'MEMSIZ',\n    0x75: 'CURLIN',\n    0x77: 'OLDLIN',\n    0x79: 'OLDTEXT',\n    0x7B: 'DATLIN',\n    0x7D: 'DATPTR',\n    0x7F: 'INPTR',\n    0x81: 'VARNAM',\n    0x83: 'VARPNT',\n    0x85: 'FORPNT',\n    0x87: 'TXPSV',\n    0x87: 'LASTOP',\n    0x89: 'CPRTYP',\n    0x8A: 'TEMP3',\n    0x8A: 'FNCNAM',\n    0x8C: 'DSCPTR',\n    0x8F: 'DSCLEN',\n    0x90: 'JMPADRS',\n    0x91: 'LENGTH',\n    0x92: 'ARG.EXTENSION',\n    0x93: 'TEMP1',\n    0x94: 'ARYPNT',\n    0x94: 'HIGHDS',\n    0x96: 'HIGHTR',\n    0x98: 'TEMP2',\n    0x99: 'TMPEXP',\n    0x99: 'INDX',\n    0x9A: 'EXPON',\n    0x9B: 'DPFLG',\n    0x9B: 'LOWTR',\n    0x9C: 'EXPSGN',\n    0x9D: 'FAC',\n    0x9D: 'DSCTMP',\n    0xA0: 'VPNT',\n    0xA2: 'FAC.SIGN',\n    0xA3: 'SERLEN',\n    0xA4: 'SHIFT.SIGN.EXT',\n    0xA5: 'ARG',\n    0xAA: 'ARG.SIGN',\n    0xAB: 'SGNCPR',\n    0xAC: 'FAC.EXTENSION',\n    0xAD: 'SERPNT',\n    0xAB: 'STRNG1',\n    0xAD: 'STRNG2',\n    0xAF: 'PRGEND',\n    0xB1: 'CHRGET',\n    0xB7: 'CHRGOT',\n    0xB8: 'TXTPTR',\n    0xC9: 'RNDSEED',\n    0xD0: 'HGR.DX',\n    0xD2: 'HGR.DY',\n    0xD3: 'HGR.QUADRANT',\n    0xD4: 'HGR.E',\n    0xD6: 'LOCK',\n    0xD8: 'ERRFLG',\n    0xDA: 'ERRLIN',\n    0xDC: 'ERRPOS',\n    0xDE: 'ERRNUM',\n    0xDF: 'ERRSTK',\n    0xE0: 'HGR.X',\n    0xE2: 'HGR.Y',\n    0xE4: 'HGR.COLOR',\n    0xE5: 'HGR.HORIZ',\n    0xE6: 'HGR.PAGE',\n    0xE7: 'HGR.SCALE',\n    0xE8: 'HGR.SHAPE.PNTR',\n    0xEA: 'HGR.COLLISIONS',\n    0xF0: 'FIRST',\n    0xF1: 'SPEEDZ',\n    0xF2: 'TRCFLG',\n    0xF3: 'FLASH.BIT',\n    0xF4: 'TXTPSV',\n    0xF6: 'CURLSV',\n    0xF8: 'REMSTK',\n    0xF9: 'HGR.ROTATION',\n    0x0100: 'STACK',\n    0x0200: 'INPUT.BUFFER',\n    0x03F5: 'AMPERSAND.VECTOR',\n*/\n    0xC000: 'KEYBOARD',\n    0xC001: '80STOREON',\n    0xC002: 'RAMRDOFF',\n    0xC003: 'RAMRDON',\n    0xC004: 'RAMWROFF',\n    0xC005: 'RAMWRON',\n    0xC006: 'INTCXOFF',\n    0xC007: 'INTCXON',\n    0xC008: 'ALTZPOFF',\n    0xC009: 'ALTZPON',\n    0xC00A: 'SLOT3OFF',\n    0xC00B: 'SLOT3ON',\n    0xC00C: 'CLR80VID',\n    0xC00D: 'SET80VID',\n    0xC00E: 'CLRALTCH',\n    0xC00F: 'SETALTCH',\n    0xC010: 'STROBE',\n    0xC011: 'BSRBANK2',\n    0xC012: 'BSRREAD',\n    0xC013: 'RAMRD',\n    0xC014: 'RAMWRT',\n    0xC015: 'INTCXROM',\n    0xC016: 'ALTZP',\n    0xC017: 'SLOT3ROM',\n    0xC018: '80STRORE',\n    0xC019: 'VERTBLANK',\n    0xC01A: 'RDTEXT',\n    0xC01B: 'RDMIXED',\n    0xC01C: 'RDPAGE2',\n    0xC01D: 'RDHIRES',\n    0xC01E: 'RDALTCH',\n    0xC01F: 'RD80VID',\n    0xC020: 'TAPEOUT',\n    0xC030: 'SPEAKER',\n    0xC050: 'CLRTEXT',\n    0xC051: 'SETTEXT',\n    0xC052: 'CLRMIXED',\n    0xC053: 'SETMIXED',\n    0xC054: 'PAGE1',\n    0xC055: 'PAGE2',\n    0xC056: 'CLRHIRS',\n    0xC057: 'SETHIRES',\n    0xC058: 'CLRAN0',\n    0xC059: 'SETAN0',\n    0xC05A: 'CLRAN1',\n    0xC05B: 'SETAN1',\n    0xC05C: 'CLRAN2',\n    0xC05D: 'SETAN2',\n    0xC05E: 'CLRAN3',\n    0xC05F: 'SETAN3',\n    0xC060: 'TAPEIN',\n    0xC061: 'PB0',\n    0xC062: 'PB1',\n    0xC063: 'PB2',\n    0xC064: 'PADDLE0',\n    0xC065: 'PADDLE1',\n    0xC066: 'PADDLE2',\n    0xC067: 'PADDLE3',\n    0xC070: 'PDLTRIG',\n    0xC07E: 'SETIOUDIS',\n    0xC07F: 'CLRIOUDIS',\n    0xC080: 'RDBSR2',\n    0xC081: 'WRBSR2',\n    0xC082: 'OFFBSR2',\n    0xC083: 'RWBSR2',\n    0xC084: 'RDBSR2',\n    0xC085: 'WRBSR2',\n    0xC086: 'OFFBSR2',\n    0xC087: 'RWBSR2',\n    0xC088: 'RDBSR1',\n    0xC089: 'WRBSR1',\n    0xC08A: 'OFFBSR1',\n    0xC08B: 'RWBSR1',\n    0xC08C: 'RDBSR1',\n    0xC08D: 'WRBSR1',\n    0xC08E: 'OFFBSR1',\n    0xC08F: 'RWBSR1',\n    0xD000: 'TOKEN.ADDRESS.TABLE',\n    0xD080: 'UNFNC',\n    0xD0B2: 'MATHTBL',\n    0xD0C7: 'M.NEG',\n    0xD0CA: 'M.EQU',\n    0xD0CD: 'M.REL',\n    0xD0D0: 'TOKEN.NAME.TABLE',\n    0xD260: 'ERROR.MESSAGES',\n    0xD350: 'QT.ERROR',\n    0xD358: 'QT.IN',\n    0xD35D: 'QT.BREAK',\n    0xD365: 'GTFORPNT',\n    0xD393: 'BLTU',\n    0xD39A: 'BLTU2',\n    0xD3D6: 'CHKMEM',\n    0xD3E3: 'REASON',\n    0xD410: 'MEMERR',\n    0xD412: 'ERROR',\n    0xD431: 'PRINT.ERROR.LINNUM',\n    0xD43C: 'RESTART',\n    0xD45C: 'NUMBERED.LINE',\n    0xD4B5: 'PUT.NEW.LINE',\n    0xD4F2: 'FIX.LINKS',\n    0xD52C: 'INLIN',\n    0xD52E: 'INLIN2',\n    0xD553: 'INCHR',\n    0xD559: 'PARSE.INPUT.LINE',\n    0xD56C: 'PARSE',\n    0xD61A: 'FNDLIN',\n    0xD61E: 'FL1',\n    0xD648: 'RTS.1',\n    0xD649: 'NEW',\n    0xD64B: 'SCRTCH',\n    0xD665: 'SETPTRS',\n    0xD66A: 'CLEAR',\n    0xD66C: 'CLEARC',\n    0xD683: 'STKINI',\n    0xD696: 'RTS.2',\n    0xD697: 'STXTPT',\n    0xD6A5: 'LIST',\n    0xD6DA: 'LIST.0',\n    0xD6FE: 'LIST.1',\n    0xD702: 'LIST.2',\n    0xD724: 'LIST.3',\n    0xD72C: 'GETCHR',\n    0xD734: 'LIST.4',\n    0xD766: 'FOR',\n    0xD7AF: 'STEP',\n    0xD7D2: 'NEWSTT',\n    0xD805: 'TRACE.',\n    0xD826: 'GOEND',\n    0xD828: 'EXECUTE.STATEMENT',\n    0xD82A: 'EXECUTE.STATEMENT.1',\n    0xD842: 'COLON.',\n    0xD846: 'SYNERR.1',\n    0xD849: 'RESTORE',\n    0xD853: 'SETDA',\n    0xD857: 'RTS.3',\n    0xD858: 'ISCNTC',\n    0xD863: 'CONTROL.C.TYPED',\n    0xD86E: 'STOP',\n    0xD870: 'END',\n    0xD871: 'END2',\n    0xD88A: 'END4',\n    0xD896: 'CONT',\n    0xD8AF: 'RTS.4',\n    0xD8B0: 'SAVE',\n    0xD8C9: 'LOAD',\n    0xD8F0: 'VARTIO',\n    0xD901: 'PROGIO',\n    0xD912: 'RUN',\n    0xD921: 'GOSUB',\n    0xD935: 'GO.TO.LINE',\n    0xD93E: 'GOTO',\n    0xD96A: 'RTS.5',\n    0xD96B: 'POP',\n    0xD97C: 'UNDERR',\n    0xD981: 'SYNERR.2',\n    0xD984: 'RETURN',\n    0xD995: 'DATA',\n    0xD998: 'ADDON',\n    0xD9A2: 'RTS.6',\n    0xD9A3: 'DATAN',\n    0xD9A6: 'REMN',\n    0xD9C5: 'PULL3',\n    0xD9C9: 'IF',\n    0xD9DC: 'REM',\n    0xD9E1: 'IF.TRUE',\n    0xD9EC: 'ONGOTO',\n    0xD9F4: 'ON.1',\n    0xD9F8: 'ON.2',\n    0xDA0B: 'RTS.7',\n    0xDA0C: 'LINGET',\n    0xDA46: 'LET',\n    0xDA63: 'LET2',\n    0xDA7A: 'LET.STRING',\n    0xDA7B: 'PUTSTR',\n    0xDACF: 'PR.STRING',\n    0xDAD5: 'PRINT',\n    0xDAD7: 'PRINT2',\n    0xDAFB: 'CRDO',\n    0xDB00: 'NEGATE',\n    0xDB02: 'RTS.8',\n    0xDB03: 'PR.COMMA',\n    0xDB16: 'PR.TAB.OR.SPC',\n    0xDB2C: 'NXSPC',\n    0xDB2F: 'PR.NEXT.CHAR',\n    0xDB35: 'DOSPC',\n    0xDB3A: 'STROUT',\n    0xDB3D: 'STRPRT',\n    0xDB57: 'OUTSP',\n    0xDB5A: 'OUTQUES',\n    0xDB5C: 'OUTDO',\n    0xDB71: 'INPUTERR',\n    0xDB7B: 'READERR',\n    0xDB7F: 'ERLIN',\n    0xDB86: 'INPERR',\n    0xDB87: 'RESPERR',\n    0xDBA0: 'GET',\n    0xDBB2: 'INPUT',\n    0xDBDC: 'NXIN',\n    0xDBE2: 'READ',\n    0xDBE9: 'INPUT.FLAG.ZERO',\n    0xDBEB: 'PROCESS.INPUT.LIST',\n    0xDBF1: 'PROCESS.INPUT.ITEM',\n    0xDC2B: 'INSTART',\n    0xDC69: 'INPUT.DATA',\n    0xDC72: 'INPUT.MORE',\n    0xDC99: 'INPFIN',\n    0xDCA0: 'FINDATA',\n    0xDCC6: 'INPDONE',\n    0xDCDF: 'ERR.EXTRA',\n    0xDCEF: 'ERR.REENTRY',\n    0xDCF9: 'NEXT',\n    0xDCFF: 'NEXT.1',\n    0xDD02: 'NEXT.2',\n    0xDD0D: 'GERR',\n    0xDD0F: 'NEXT.3',\n    0xDD67: 'FRMNUM',\n    0xDD6A: 'CHKNUM',\n    0xDD6C: 'CHKSTR',\n    0xDD6D: 'CHKVAL',\n    0xDD78: 'JERROR',\n    0xDD7B: 'FRMEVL',\n    0xDD86: 'FRMEVL.1',\n    0xDD95: 'FRMEVL.2',\n    0xDDCD: 'FRM.PRECEDENCE.TEST',\n    0xDDD6: 'NXOP',\n    0xDDD7: 'SAVOP',\n    0xDDE4: 'FRM.RELATIONAL',\n    0xDDF6: 'PREFNC',\n    0xDDFD: 'FRM.RECURSE',\n    0xDE0D: 'SNTXERR',\n    0xDE10: 'FRM.STACK.1',\n    0xDE15: 'FRM.STACK.2',\n    0xDE20: 'FRM.STACK.3',\n    0xDE35: 'NOTMATH',\n    0xDE38: 'GOEX',\n    0xDE3A: 'FRM.PERFORM.1',\n    0xDE43: 'FRM.PERFORM.2',\n    0xDE5D: 'EXIT',\n    0xDE60: 'FRM.ELEMENT',\n    0xDE81: 'STRTXT',\n    0xDE90: 'NOT.',\n    0xDE98: 'EQUOP',\n    0xDEA4: 'FN.',\n    0xDEAB: 'SGN.',\n    0xDEB2: 'PARCHK',\n    0xDEB8: 'CHKCLS',\n    0xDEBB: 'CHKOPN',\n    0xDEBE: 'CHKCOM',\n    0xDEC0: 'SYNCHR',\n    0xDEC9: 'SYNERR',\n    0xDECE: 'MIN',\n    0xDED0: 'EQUL',\n    0xDED5: 'FRM.VARIABLE',\n    0xDED7: 'FRM.VARIABLE.CALL',\n    0xDEF9: 'SCREEN',\n    0xDF0C: 'UNARY',\n    0xDF4F: 'OR',\n    0xDF55: 'AND',\n    0xDF5D: 'FALSE',\n    0xDF60: 'TRUE',\n    0xDF65: 'RELOPS',\n    0xDF7D: 'STRCMP',\n    0xDFAA: 'STRCMP.1',\n    0xDFB0: 'NUMCMP',\n    0xDFB5: 'STRCMP.2',\n    0xDFC1: 'CMPDONE',\n    0xDFCD: 'PDL',\n    0xDFD6: 'NXDIM',\n    0xDFD9: 'DIM',\n    0xDFE3: 'PTRGET',\n    0xDFE8: 'PTRGET2',\n    0xDFEA: 'PTRGET3',\n    0xDFF4: 'BADNAM',\n    0xDFF7: 'NAMOK',\n    0xE007: 'PTRGET4',\n    0xE07D: 'ISLETC',\n    0xE087: 'NAME.NOT.FOUND',\n    0xE09A: 'C.ZERO',\n    0xE09C: 'MAKE.NEW.VARIABLE',\n    0xE0DE: 'SET.VARPNT.AND.YA',\n    0xE0ED: 'GETARY',\n    0xE0EF: 'GETARY2',\n    0xE0FE: 'NEG32768',\n    0xE102: 'MAKINT',\n    0xE108: 'MKINT',\n    0xE10C: 'AYINT',\n    0xE119: 'MI1',\n    0xE11B: 'MI2',\n    0xE11E: 'ARRAY',\n    0xE196: 'SUBERR',\n    0xE199: 'IQERR',\n    0xE19B: 'JER',\n    0xE19E: 'USE.OLD.ARRAY',\n    0xE1B8: 'MAKE.NEW.ARRAY',\n    0xE24B: 'FIND.ARRAY.ELEMENT',\n    0xE253: 'FAE.1',\n    0xE269: 'GSE',\n    0xE26C: 'GME',\n    0xE26F: 'FAE.2',\n    0xE270: 'FAE.3',\n    0xE2AC: 'RTS.9',\n    0xE2AD: 'MULTIPLY.SUBSCRIPT',\n    0xE2B6: 'MULTIPLY.SUBS.1',\n    0xE2DE: 'FRE',\n    0xE2F2: 'GIVAYF',\n    0xE2FF: 'POS',\n    0xE301: 'SNGFLT',\n    0xE306: 'ERRDIR',\n    0xE30E: 'UNDFNC',\n    0xE313: 'DEF',\n    0xE341: 'FNC.',\n    0xE354: 'FUNCT',\n    0xE3AF: 'FNCDATA',\n    0xE3C5: 'STR',\n    0xE3D5: 'STRINI',\n    0xE3DD: 'STRSPA',\n    0xE3E7: 'STRLIT',\n    0xE3ED: 'STRLT2',\n    0xE42A: 'PUTNEW',\n    0xE432: 'JERR',\n    0xE435: 'PUTEMP',\n    0xE452: 'GETSPA',\n    0xE484: 'GARBAG',\n    0xE488: 'FIND.HIGHEST.STRING',\n    0xE519: 'CHECK.SIMPLE.VARIABLE',\n    0xE523: 'CHECK.VARIABLE',\n    0xE552: 'CHECK.BUMP',\n    0xE55D: 'CHECK.EXIT',\n    0xE562: 'MOVE.HIGHEST.STRING.TO.TOP',\n    0xE597: 'CAT',\n    0xE5D4: 'MOVINS',\n    0xE5E2: 'MOVSTR',\n    0xE5E6: 'MOVSTR.1',\n    0xE5FD: 'FRESTR',\n    0xE600: 'FREFAC',\n    0xE604: 'FRETMP',\n    0xE635: 'FRETMS',\n    0xE646: 'CHRSTR',\n    0xE65A: 'LEFTSTR',\n    0xE660: 'SUBSTRING.1',\n    0xE667: 'SUBSTRING.2',\n    0xE668: 'SUBSTRING.3',\n    0xE686: 'RIGHTSTR',\n    0xE691: 'MIDSTR',\n    0xE6B9: 'SUBSTRING.SETUP',\n    0xE6D6: 'LEN',\n    0xE6DC: 'GETSTR',\n    0xE6E5: 'ASC',\n    0xE6F2: 'GOIQ',\n    0xE6F5: 'GTBYTC',\n    0xE6F8: 'GETBYT',\n    0xE6FB: 'CONINT',\n    0xE707: 'VAL',\n    0xE73D: 'POINT',\n    0xE746: 'GTNUM',\n    0xE74C: 'COMBYTE',\n    0xE752: 'GETADR',\n    0xE764: 'PEEK',\n    0xE77B: 'POKE',\n    0xE784: 'WAIT',\n    0xE79F: 'RTS.10',\n    0xE7A0: 'FADDH',\n    0xE7A7: 'FSUB',\n    0xE7AA: 'FSUBT',\n    0xE7B9: 'FADD.1',\n    0xE7BE: 'FADD',\n    0xE7C1: 'FADDT',\n    0xE7CE: 'FADD.2',\n    0xE7FA: 'FADD.3',\n    0xE829: 'NORMALIZE.FAC.1',\n    0xE82E: 'NORMALIZE.FAC.2',\n    0xE84E: 'ZERO.FAC',\n    0xE850: 'STA.IN.FAC.SIGN.AND.EXP',\n    0xE852: 'STA.IN.FAC.SIGN',\n    0xE855: 'FADD.4',\n    0xE874: 'NORMALIZE.FAC.3',\n    0xE880: 'NORMALIZE.FAC.4',\n    0xE88D: 'NORMALIZE.FAC.5',\n    0xE88F: 'NORMALIZE.FAC.6',\n    0xE89D: 'RTS.11',\n    0xE89E: 'COMPLEMENT.FAC',\n    0xE8A4: 'COMPLEMENT.FAC.MANTISSA',\n    0xE8C6: 'INCREMENT.FAC.MANTISSA',\n    0xE8D4: 'RTS.12',\n    0xE8D5: 'OVERFLOW',\n    0xE8DA: 'SHIFT.RIGHT.1',\n    0xE8DC: 'SHIFT.RIGHT.2',\n    0xE8F0: 'SHIFT.RIGHT',\n    0xE8FD: 'L',\n    // 0xE8FD: 'SHIFT.RIGHT.3',\n    0xE907: 'SHIFT.RIGHT.4',\n    0xE911: 'SHIFT.RIGHT.5',\n    0xE913: 'CON.ONE',\n    0xE918: 'POLY.LOG',\n    0xE92D: 'CON.SQR.HALF',\n    0xE932: 'CON.SQR.TWO',\n    0xE937: 'CON.NEG.HALF',\n    0xE93C: 'CON.LOG.TWO',\n    0xE941: 'LOG',\n    0xE948: 'GIQ',\n    0xE94B: 'LOG.2',\n    0xE97F: 'FMULT',\n    0xE982: 'FMULTT',\n    0xE9B0: 'MULTIPLY.1',\n    0xE9B5: 'MULTIPLY.2',\n    0xE9E2: 'RTS.13',\n    0xE9E3: 'LOAD.ARG.FROM.YA',\n    0xEA0E: 'ADD.EXPONENTS',\n    0xEA10: 'ADD.EXPONENTS.1',\n    0xEA2B: 'OUTOFRNG',\n    0xEA31: 'ZERO',\n    0xEA36: 'JOV',\n    0xEA39: 'MUL10',\n    0xEA50: 'CON.TEN',\n    0xEA55: 'DIV10',\n    0xEA5E: 'DIV',\n    0xEA66: 'FDIV',\n    0xEA69: 'FDIVT',\n    0xEAE6: 'COPY.RESULT.INTO.FAC',\n    0xEAF9: 'LOAD.FAC.FROM.YA',\n    0xEB1E: 'STORE.FAC.IN.TEMP2.ROUNDED',\n    0xEB21: 'STORE.FAC.IN.TEMP1.ROUNDED',\n    0xEB27: 'SETFOR',\n    0xEB2B: 'STORE.FAC.AT.YX.ROUNDED',\n    0xEB53: 'COPY.ARG.TO.FAC',\n    0xEB55: 'MFA',\n    0xEB63: 'COPY.FAC.TO.ARG.ROUNDED',\n    0xEB66: 'MAF',\n    0xEB71: 'RTS.14',\n    0xEB72: 'ROUND.FAC',\n    0xEB7A: 'INCREMENT.MANTISSA',\n    0xEB82: 'SIGN',\n    0xEB86: 'SIGN1',\n    0xEB88: 'SIGN2',\n    0xEB8F: 'RTS.15',\n    0xEB90: 'SGN',\n    0xEB93: 'FLOAT',\n    0xEB9B: 'FLOAT.1',\n    0xEBA0: 'FLOAT.2',\n    0xEBAF: 'ABS',\n    0xEBB2: 'FCOMP',\n    0xEBB4: 'FCOMP2',\n    0xEBF2: 'QINT',\n    0xEC11: 'RTS.16',\n    0xEC12: 'QINT.2',\n    0xEC23: 'INT',\n    0xEC40: 'QINT.3',\n    0xEC49: 'RTS.17',\n    0xEC4A: 'FIN',\n    0xEC61: 'FIN.1',\n    0xEC64: 'FIN.2',\n    0xEC66: 'FIN.3',\n    0xEC87: 'FIN.4',\n    0xEC8A: 'FIN.5',\n    0xEC8C: 'FIN.6',\n    0xEC98: 'FIN.10',\n    0xEC9E: 'FIN.7',\n    0xECA0: 'FIN.8',\n    0xECC1: 'FIN.9',\n    0xECD5: 'ADDACC',\n    0xECE8: 'GETEXP',\n    0xED0A: 'CON.99999999.9',\n    0xED0F: 'CON.999999999',\n    0xED14: 'CON.BILLION',\n    0xED19: 'INPRT',\n    0xED24: 'LINPRT',\n    0xED2E: 'PRINT.FAC',\n    0xED31: 'GO.STROUT',\n    0xED34: 'FOUT',\n    0xED36: 'FOUT.1',\n    0xED8C: 'FOUT.2',\n    0xEE17: 'FOUT.3',\n    0xEE57: 'FOUT.4',\n    0xEE5A: 'FOUT.5',\n    0xEE5F: 'FOUT.6',\n    0xEE64: 'CON.HALF',\n    0xEE69: 'DECTBL',\n    // 0xEE8D: 'DECTBL.END',\n    0xEE8D: 'SQR',\n    0xEE97: 'FPWRT',\n    0xEED0: 'NEGOP',\n    0xEEDA: 'RTS.18',\n    0xEEDB: 'CON.LOG.E',\n    0xEEE0: 'POLY.EXP',\n    0xEF09: 'EXP',\n    0xEF5C: 'POLYNOMIAL.ODD',\n    0xEF72: 'POLYNOMIAL',\n    0xEF76: 'SERMAIN',\n    0xEFA5: 'RTS.19',\n    0xEFA6: 'CON.RND.1',\n    0xEFAA: 'CON.RND.2',\n    0xEFAE: 'RND',\n    0xEFE7: 'GO.MOVMF',\n    0xEFEA: 'COS',\n    0xEFF1: 'SIN',\n    0xF023: 'SIN.1',\n    0xF026: 'SIN.2',\n    0xF03A: 'TAN',\n    0xF062: 'TAN.1',\n    0xF066: 'CON.PI.HALF',\n    0xF06B: 'CON.PI.DOUB',\n    0xF070: 'QUARTER',\n    0xF075: 'POLY.SIN',\n    0xF09E: 'ATN',\n    0xF0CD: 'RTS.20',\n    0xF0CE: 'POLY.ATN',\n    0xF10B: 'GENERIC.CHRGET',\n    0xF128: 'COLD.START',\n    // 0xF128: 'GENERIC.END',\n    0xF1D5: 'CALL',\n    0xF1DE: 'IN.NUMBER',\n    0xF1E5: 'PR.NUMBER',\n    0xF1EC: 'PLOTFNS',\n    0xF206: 'GOERR',\n    0xF209: 'LINCOOR',\n    0xF225: 'PLOT',\n    0xF232: 'HLIN',\n    0xF241: 'VLIN',\n    0xF24F: 'COLOR',\n    0xF256: 'VTAB',\n    0xF262: 'SPEED',\n    0xF26D: 'TRACE',\n    0xF26F: 'NOTRACE',\n    0xF273: 'NORMAL',\n    0xF277: 'INVERSE',\n    0xF279: 'N.I.',\n    0xF27B: 'N.I.F.',\n    0xF280: 'FLASH',\n    0xF286: 'HIMEM',\n    0xF296: 'JMM',\n    0xF299: 'SETHI',\n    0xF2A6: 'LOMEM',\n    0xF2CB: 'ONERR',\n    0xF2E9: 'HANDLERR',\n    0xF318: 'RESUME',\n    0xF32E: 'JSYN',\n    0xF331: 'DEL',\n    0xF390: 'GR',\n    0xF399: 'TEXT',\n    0xF39F: 'STORE',\n    0xF3BC: 'RECALL',\n    0xF3D8: 'HGR2',\n    0xF3E2: 'HGR',\n    0xF3EA: 'SETHPG',\n    0xF3F2: 'HCLR',\n    0xF3F6: 'BKGND',\n    0xF411: 'HPOSN',\n    0xF457: 'HPLOT0',\n    0xF465: 'MOVE.LEFT.OR.RIGHT',\n    0xF46E: 'LR.1',\n    0xF471: 'LR.2',\n    0xF476: 'LR.3',\n    0xF478: 'LR.4',\n    0xF47E: 'COLOR.SHIFT',\n    0xF48A: 'MOVE.RIGHT',\n    0xF49C: 'LRUDX1',\n    0xF49D: 'LRUDX2',\n    0xF4B3: 'LRUD1',\n    0xF4B4: 'LRUD2',\n    0xF4C4: 'LRUD3',\n    0xF4C8: 'LRUD4',\n    0xF4CD: 'CON.03',\n    0xF4D3: 'MOVE.UP.OR.DOWN',\n    0xF501: 'UD.1',\n    0xF505: 'MOVE.DOWN',\n    0xF508: 'CON.04',\n    0xF530: 'HLINRL',\n    0xF53A: 'HGLIN',\n    0xF57C: 'MOVEX',\n    0xF581: 'MOVEX2',\n    0xF5B2: 'MSKTBL',\n    0xF5B9: 'CON.1C',\n    0xF5BA: 'COSINE.TABLE',\n    0xF5CB: 'HFIND',\n    0xF600: 'RTS.22',\n    0xF601: 'DRAW0',\n    0xF605: 'DRAW1',\n    0xF65D: 'XDRAW0',\n    0xF661: 'XDRAW1',\n    0xF6B9: 'HFNS',\n    0xF6E6: 'GGERR',\n    0xF6E9: 'HCOLOR',\n    0xF6F5: 'RTS.23',\n    0xF6F6: 'COLORTBL',\n    0xF6FE: 'HPLOT',\n    0xF721: 'ROT',\n    0xF727: 'SCALE',\n    0xF72D: 'DRWPNT',\n    0xF769: 'DRAW',\n    0xF76F: 'XDRAW',\n    0xF775: 'SHLOAD',\n    0xF7BC: 'TAPEPNT',\n    0xF7D9: 'GETARYPT',\n    0xF7E7: 'HTAB',\n    0xF800: 'MON.PLOT',\n    0xF819: 'MON.HLINE',\n    0xF828: 'MON.VLINE',\n    0xF864: 'MON.SETCOL',\n    0xF871: 'MON.SCRN',\n    0xFB1E: 'MON.PREAD',\n    0xFB39: 'MON.SETTXT',\n    0xFB40: 'MON.SETGR',\n    0xFB5B: 'MON.TABV',\n    0xFC58: 'MON.HOME',\n    0xFCA8: 'MON.WAIT',\n    0xFCFA: 'MON.RD2BIT',\n    0xFD0C: 'MON.RDKEY',\n    0xFD6A: 'MON.GETLN',\n    0xFDED: 'MON.COUT',\n    0xFE8B: 'MON.INPORT',\n    0xFE95: 'MON.OUTPORT',\n    0xFECD: 'MON.WRITE',\n    0xFEFD: 'MON.READ',\n    0xFF02: 'MON.READ2'\n};\n\nexport default SYMBOLS;\n","import { debug, toHex } from './util';\nimport { byte, word } from './types';\n\nimport CPU6502, { DebugInfo, flags, sizes } from './cpu6502';\n\nexport interface DebuggerContainer {\n    run: () => void;\n    stop: () => void;\n    getCPU: () => CPU6502;\n}\n\ntype symbols = { [key: number]: string };\ntype breakpointFn = (info: DebugInfo) => boolean\n\nconst alwaysBreak = (_info: DebugInfo) => { return true; };\n\nexport const dumpStatusRegister = (sr: byte) =>\n    [\n        (sr & flags.N) ? 'N' : '-',\n        (sr & flags.V) ? 'V' : '-',\n        (sr & flags.X) ? 'X' : '-',\n        (sr & flags.B) ? 'B' : '-',\n        (sr & flags.D) ? 'D' : '-',\n        (sr & flags.I) ? 'I' : '-',\n        (sr & flags.Z) ? 'Z' : '-',\n        (sr & flags.C) ? 'C' : '-',\n    ].join('');\n\nexport default class Debugger {\n    private cpu: CPU6502;\n    private verbose = false;\n    private maxTrace = 256;\n    private trace: DebugInfo[] = [];\n    private breakpoints: Map<word, breakpointFn> = new Map();\n    private symbols: symbols = {};\n\n    constructor(private container: DebuggerContainer) {\n        this.cpu = container.getCPU();\n    }\n\n    stepCycles(cycles: number) {\n        this.cpu.stepCyclesDebug(this.verbose ? 1 : cycles, () => {\n            const info = this.cpu.getDebugInfo();\n\n            if (this.breakpoints.get(info.pc)?.(info)) {\n                debug('breakpoint', this.printDebugInfo(info));\n                this.container.stop();\n                return true;\n            }\n            if (this.verbose) {\n                debug(this.printDebugInfo(info));\n            } else {\n                this.updateTrace(info);\n            }\n        });\n    }\n\n    break = () => {\n        this.container.stop();\n    };\n\n    step = () => {\n        this.cpu.step(() => {\n            const info = this.cpu.getDebugInfo();\n            debug(this.printDebugInfo(info));\n            this.updateTrace(info);\n        });\n    };\n\n    continue = () => {\n        this.container.run();\n    };\n\n    setVerbose = (verbose: boolean) => {\n        this.verbose = verbose;\n    };\n\n    setMaxTrace = (maxTrace: number) => {\n        this.maxTrace = maxTrace;\n    };\n\n    getTrace = () => {\n        return this.trace.map(this.printDebugInfo).join('\\n');\n    };\n\n    printTrace = () => {\n        debug(this.getTrace());\n    };\n\n    setBreakpoint = (addr: word, exp?: breakpointFn) => {\n        this.breakpoints.set(addr, exp || alwaysBreak);\n    };\n\n    clearBreakpoint = (addr: word) => {\n        this.breakpoints.delete(addr);\n    };\n\n    listBreakpoints = () => {\n        for(const [addr, fn] of this.breakpoints.entries()) {\n            debug(toHex(addr, 4), fn);\n        }\n    };\n\n    addSymbols = (symbols: symbols) => {\n        this.symbols = { ...this.symbols, ...symbols };\n    };\n\n    printDebugInfo = (info: DebugInfo) => {\n        const { pc, cmd } = info;\n        const symbol = this.padWithSymbol(pc);\n\n        return [\n            toHex(pc, 4),\n            '- ', symbol,\n            this.dumpRegisters(info),\n            ' ',\n            this.dumpRawOp(cmd),\n            ' ',\n            this.dumpOp(pc, cmd)\n        ].join('');\n    };\n\n    dumpPC = (pc: word) => {\n        const b = this.cpu.read(pc);\n        const op = this.cpu.getOpInfo(b);\n        const size = sizes[op.mode];\n        let result = toHex(pc, 4) + '- ';\n\n        result += this.padWithSymbol(pc);\n\n        const cmd = new Array(size);\n        for (let idx = 0, jdx = pc; idx < size; idx++, jdx++) {\n            cmd[idx] = this.cpu.read(jdx);\n        }\n\n        result += this.dumpRawOp(cmd) + ' ' + this.dumpOp(pc, cmd);\n\n        return result;\n    };\n\n    dumpRegisters = (debugInfo?: DebugInfo) => {\n        if (debugInfo === undefined) {\n            debugInfo = this.cpu.getDebugInfo();\n        }\n        const { ar, xr, yr, sr, sp } = debugInfo;\n        return [\n            'A=' + toHex(ar),\n            ' X=' + toHex(xr),\n            ' Y=' + toHex(yr),\n            ' P=' + toHex(sr),\n            ' S=' + toHex(sp),\n            ' ',\n            dumpStatusRegister(sr),\n        ].join('');\n    };\n\n    dumpPage = (start: byte, end?: byte) => {\n        let result = '';\n        if (end === undefined) {\n            end = start;\n        }\n        for (let page = start; page <= end; page++) {\n            for (let idx = 0; idx < 16; idx++) {\n                result += toHex(page) + toHex(idx << 4) + ': ';\n                for (let jdx = 0; jdx < 16; jdx++) {\n                    const b = this.cpu.read(page, idx * 16 + jdx);\n                    result += toHex(b) + ' ';\n                }\n                result += '        ';\n                for (let jdx = 0; jdx < 16; jdx++) {\n                    const b = this.cpu.read(page, idx * 16 + jdx) & 0x7f;\n                    if (b >= 0x20 && b < 0x7f) {\n                        result += String.fromCharCode(b);\n                    } else {\n                        result += '.';\n                    }\n                }\n                result += '\\n';\n            }\n        }\n        return result;\n    };\n\n    list = (pc: word) => {\n        const results = [];\n        for (let idx = 0; idx < 20; idx++) {\n            const b = this.cpu.read(pc);\n            const op = this.cpu.getOpInfo(b);\n            results.push(this.dumpPC(pc));\n            pc += sizes[op.mode];\n        }\n        return results;\n    };\n\n    private updateTrace(info: DebugInfo) {\n        this.trace.push(info);\n        if (this.trace.length > this.maxTrace) {\n            this.trace.shift();\n        }\n    }\n\n    private padWithSymbol(pc: word): string {\n        const padding = '          ';\n        const symbol = this.symbols[pc];\n\n        let result: string = padding;\n        if (symbol) {\n            result = `${symbol}${padding.substring(symbol.length)}`;\n        }\n        return result;\n    }\n\n    private dumpRawOp(parts: byte[]) {\n        const result = new Array(4);\n        for (let idx = 0; idx < 4; idx++) {\n            if (idx < parts.length) {\n                result[idx] = toHex(parts[idx]);\n            } else {\n                result[idx] = '  ';\n            }\n        }\n        return result.join(' ');\n    }\n\n    private dumpOp(pc: word, parts: byte[]) {\n        const op = this.cpu.getOpInfo(parts[0]);\n        const lsb = parts[1];\n        const msb = parts[2];\n        const addr = (msb << 8) | lsb;\n        let val;\n        let off;\n        const toHexOrSymbol = (v: word, n?: number) => (\n            this.symbols[v] || ('$' + toHex(v, n))\n        );\n\n        let result = op.name + ' ';\n        switch (op.mode) {\n            case 'implied':\n                break;\n            case 'immediate':\n                result += '#' + toHexOrSymbol(lsb);\n                break;\n            case 'absolute':\n                result += '' + toHexOrSymbol(addr, 4);\n                break;\n            case 'zeroPage':\n                result += '' + toHexOrSymbol(lsb);\n                break;\n            case 'relative':\n                {\n                    off = lsb;\n                    if (off > 127) {\n                        off -= 256;\n                    }\n                    pc += off + 2;\n                    result += '' + toHexOrSymbol(pc, 4) + ' (' + off + ')';\n                }\n                break;\n            case 'absoluteX':\n                result += '' + toHexOrSymbol(addr, 4)+ ',X';\n                break;\n            case 'absoluteY':\n                result += '' + toHexOrSymbol(addr, 4) + ',Y';\n                break;\n            case 'zeroPageX':\n                result += '' + toHexOrSymbol(lsb) + ',X';\n                break;\n            case 'zeroPageY':\n                result += '' + toHexOrSymbol(lsb) + ',Y';\n                break;\n            case 'absoluteIndirect':\n                result += '(' + toHexOrSymbol(addr, 4) + ')';\n                break;\n            case 'zeroPageXIndirect':\n                result += '(' + toHexOrSymbol(lsb) + ',X)';\n                break;\n            case 'zeroPageIndirectY':\n                result += '(' + toHexOrSymbol(lsb) + '),Y';\n                break;\n            case 'accumulator':\n                result += 'A';\n                break;\n            case 'zeroPageIndirect':\n                result += '(' + toHexOrSymbol(lsb) + ')';\n                break;\n            case 'absoluteXIndirect':\n                result += '(' + toHexOrSymbol(addr, 4) + ',X)';\n                break;\n            case 'zeroPage_relative':\n                val = lsb;\n                off = msb;\n                if (off > 127) {\n                    off -= 256;\n                }\n                pc += off + 2;\n                result += '' + toHexOrSymbol(val) + ',' + toHexOrSymbol(pc, 4) + ' (' + off + ')';\n                break;\n            default:\n                break;\n        }\n        return result;\n    }\n}\n","import Prefs from './prefs';\n\nimport { driveLights, initUI, updateUI } from './ui/apple2';\nimport Printer from './ui/printer';\n\nimport DiskII from './cards/disk2';\nimport LanguageCard from './cards/langcard';\nimport Parallel from './cards/parallel';\nimport RAMFactor from './cards/ramfactor';\nimport SmartPort from './cards/smartport';\nimport Thunderclock from './cards/thunderclock';\nimport VideoTerm from './cards/videoterm';\n\nimport { Apple2 } from './apple2';\n\nconst prefs = new Prefs();\nconst romVersion = prefs.readPref('computer_type2');\nlet rom: string;\nlet characterRom: string;\nlet sectors = 16;\n\nswitch (romVersion) {\n    case 'apple2':\n        rom = 'intbasic';\n        characterRom = 'apple2_char';\n        break;\n    case 'apple213':\n        rom = 'intbasic';\n        characterRom = 'apple2_char';\n        sectors = 13;\n        break;\n    case 'original':\n        rom = 'original';\n        characterRom = 'apple2_char';\n        break;\n    case 'apple2jplus':\n        rom = 'apple2j';\n        characterRom = 'apple2j_char';\n        break;\n    case 'apple2pig':\n        rom = 'fpbasic';\n        characterRom = 'pigfont_char';\n        break;\n    case 'apple2lc':\n        rom = 'fpbasic';\n        characterRom = 'apple2lc_char';\n        break;\n    default:\n        rom = 'fpbasic';\n        characterRom = 'apple2_char';\n}\n\nconst options = {\n    canvas: document.querySelector<HTMLCanvasElement>('#screen')!,\n    gl: prefs.readPref('gl_canvas', 'true') === 'true',\n    rom,\n    characterRom,\n    e: false,\n    enhanced: false,\n    tick: updateUI\n};\n\nexport const apple2 = new Apple2(options);\napple2.ready.then(() => {\n    const cpu = apple2.getCPU();\n    const io = apple2.getIO();\n\n    const printer = new Printer('#printer-modal .paper');\n\n    const lc = new LanguageCard(apple2.getROM());\n    const parallel = new Parallel(printer);\n    const videoTerm = new VideoTerm();\n    const slinky = new RAMFactor(1024 * 1024);\n    const disk2 = new DiskII(io, driveLights, sectors);\n    const clock = new Thunderclock();\n    const smartport = new SmartPort(cpu, { block: true });\n\n    io.setSlot(0, lc);\n    io.setSlot(1, parallel);\n    io.setSlot(2, slinky);\n    io.setSlot(4, clock);\n    io.setSlot(3, videoTerm);\n    io.setSlot(6, disk2);\n    io.setSlot(7, smartport);\n\n    cpu.addPageHandler(lc);\n\n    initUI(apple2, disk2, smartport, printer, false);\n}).catch(console.error);\n","import Apple2IO from './apple2io';\nimport {\n    HiresPage,\n    LoresPage,\n    VideoModes,\n    VideoModesState,\n} from './videomodes';\nimport {\n    HiresPage2D,\n    LoresPage2D,\n    VideoModes2D,\n} from './canvas';\nimport {\n    HiresPageGL,\n    LoresPageGL,\n    VideoModesGL,\n} from './gl';\nimport ROM from './roms/rom';\nimport { Apple2IOState } from './apple2io';\nimport CPU6502, {\n    CpuState,\n    FLAVOR_6502,\n    FLAVOR_ROCKWELL_65C02,\n} from './cpu6502';\nimport MMU, { MMUState } from './mmu';\nimport RAM, { RAMState } from './ram';\n\nimport SYMBOLS from './symbols';\nimport Debugger, { DebuggerContainer } from './debugger';\n\nimport { Restorable, rom } from './types';\nimport { processGamepad } from './ui/gamepad';\n\nexport interface Apple2Options {\n    characterRom: string;\n    enhanced: boolean,\n    e: boolean,\n    gl: boolean,\n    rom: string,\n    canvas: HTMLCanvasElement,\n    tick: () => void,\n}\n\nexport interface Stats {\n    frames: number,\n    renderedFrames: number,\n}\n\ninterface State {\n    cpu: CpuState,\n    vm: VideoModesState,\n    io: Apple2IOState,\n    mmu?: MMUState,\n    ram?: RAMState[],\n}\n\nexport class Apple2 implements Restorable<State>, DebuggerContainer {\n    private paused = false;\n\n    private theDebugger?: Debugger;\n\n    private runTimer: number | null = null;\n    private runAnimationFrame: number | null = null;\n    private cpu: CPU6502;\n\n    private gr: LoresPage;\n    private gr2: LoresPage;\n    private hgr: HiresPage;\n    private hgr2: HiresPage;\n    private vm: VideoModes;\n\n    private io: Apple2IO;\n    private mmu: MMU | undefined;\n    private ram: [RAM, RAM, RAM] | undefined;\n    private characterRom: rom;\n    private rom: ROM;\n\n    private tick: () => void;\n\n    private stats: Stats = {\n        frames: 0,\n        renderedFrames: 0\n    };\n\n    public ready: Promise<void>;\n\n    constructor(options: Apple2Options) {\n        this.ready = this.init(options);\n    }\n\n    async init(options: Apple2Options) {\n        const romImportPromise = import(`./roms/system/${options.rom}`);\n        const characterRomImportPromise = import(`./roms/character/${options.characterRom}`);\n\n        const LoresPage = options.gl ? LoresPageGL : LoresPage2D;\n        const HiresPage = options.gl ? HiresPageGL : HiresPage2D;\n        const VideoModes = options.gl ? VideoModesGL : VideoModes2D;\n\n        this.cpu = new CPU6502({\n            flavor: options.enhanced ? FLAVOR_ROCKWELL_65C02 : FLAVOR_6502\n        });\n        this.vm = new VideoModes(options.canvas, options.e);\n\n        const [{ default: Apple2ROM }, { default: characterRom }] = await Promise.all([\n            romImportPromise,\n            characterRomImportPromise,\n            this.vm.ready,\n        ]);\n\n        this.rom = new Apple2ROM();\n        this.characterRom = characterRom;\n\n        this.gr = new LoresPage(this.vm, 1, this.characterRom, options.e);\n        this.gr2 = new LoresPage(this.vm, 2, this.characterRom, options.e);\n        this.hgr = new HiresPage(this.vm, 1);\n        this.hgr2 = new HiresPage(this.vm, 2);\n        this.io = new Apple2IO(this.cpu, this.vm);\n        this.tick = options.tick;\n\n        if (options.e) {\n            this.mmu = new MMU(this.cpu, this.vm, this.gr, this.gr2, this.hgr, this.hgr2, this.io, this.rom);\n            this.cpu.addPageHandler(this.mmu);\n        } else {\n            this.ram = [\n                new RAM(0x00, 0x03),\n                new RAM(0x0C, 0x1F),\n                new RAM(0x60, 0xBF)\n            ];\n\n            this.cpu.addPageHandler(this.ram[0]);\n            this.cpu.addPageHandler(this.gr);\n            this.cpu.addPageHandler(this.gr2);\n            this.cpu.addPageHandler(this.ram[1]);\n            this.cpu.addPageHandler(this.hgr);\n            this.cpu.addPageHandler(this.hgr2);\n            this.cpu.addPageHandler(this.ram[2]);\n            this.cpu.addPageHandler(this.io);\n            this.cpu.addPageHandler(this.rom);\n        }\n    }\n\n    /**\n     * Runs the emulator. If the emulator is already running, this does\n     * nothing. When this function exits either `runTimer` or\n     * `runAnimationFrame` will be non-null.\n     */\n    run() {\n        this.paused = false;\n        if (this.runTimer || this.runAnimationFrame) {\n            return; // already running\n        }\n\n        this.theDebugger = new Debugger(this);\n        this.theDebugger.addSymbols(SYMBOLS);\n\n        const interval = 30;\n\n        let now, last = Date.now();\n        const runFn = () => {\n            const kHz = this.io.getKHz();\n            now = Date.now();\n\n            const stepMax = kHz * interval;\n            let step = (now - last) * kHz;\n            last = now;\n            if (step > stepMax) {\n                step = stepMax;\n            }\n\n            if (this.theDebugger) {\n                this.theDebugger.stepCycles(step);\n            } else {\n                this.cpu.stepCycles(step);\n            }\n            if (this.mmu) {\n                this.mmu.resetVB();\n            }\n            if (this.io.annunciator(0)) {\n                const imageData = this.io.blit();\n                if (imageData) {\n                    this.vm.blit(imageData);\n                    this.stats.renderedFrames++;\n                }\n            } else {\n                if (this.vm.blit()) {\n                    this.stats.renderedFrames++;\n                }\n            }\n            this.stats.frames++;\n            this.io.tick();\n            this.tick();\n            processGamepad(this.io);\n\n            if (!this.paused && requestAnimationFrame) {\n                this.runAnimationFrame = requestAnimationFrame(runFn);\n            }\n        };\n        if (requestAnimationFrame) {\n            this.runAnimationFrame = requestAnimationFrame(runFn);\n        } else {\n            this.runTimer = window.setInterval(runFn, interval);\n        }\n    }\n\n    stop() {\n        this.paused = true;\n        if (this.runTimer) {\n            clearInterval(this.runTimer);\n        }\n        if (this.runAnimationFrame) {\n            cancelAnimationFrame(this.runAnimationFrame);\n        }\n        this.runTimer = null;\n        this.runAnimationFrame = null;\n    }\n\n    getState(): State {\n        const state: State = {\n            cpu: this.cpu.getState(),\n            vm: this.vm.getState(),\n            io: this.io.getState(),\n            mmu: this.mmu?.getState(),\n            ram: this.ram?.map(bank => bank.getState()),\n        };\n\n        return state;\n    }\n\n    setState(state: State) {\n        this.cpu.setState(state.cpu);\n        this.vm.setState(state.vm);\n        this.io.setState(state.io);\n        if (this.mmu && state.mmu) {\n            this.mmu.setState(state.mmu);\n        }\n        if (this.ram) {\n            this.ram.forEach((bank, idx) => {\n                if (state.ram) {\n                    bank.setState(state.ram[idx]);\n                }\n            });\n        }\n    }\n\n    reset() {\n        this.cpu.reset();\n    }\n\n    getStats(): Stats {\n        return this.stats;\n    }\n\n    getCPU() {\n        return this.cpu;\n    }\n\n    getIO() {\n        return this.io;\n    }\n\n    getMMU() {\n        return this.mmu;\n    }\n\n    getROM() {\n        return this.rom;\n    }\n\n    getVideoModes() {\n        return this.vm;\n    }\n\n    getDebugger() {\n        return this.theDebugger;\n    }\n}\n","import { apple2 } from './main2';\nimport * as UI from './ui/apple2';\n\nexport const Apple2 = { ...UI, apple2 };\n"],"sourceRoot":""}